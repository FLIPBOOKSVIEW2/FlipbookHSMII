"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[1720],{91720:function(e,t,i){i.r(t),i.d(t,{default:function(){return T}});var r=i(18023),s=i(24118),o=i(29907),a=i(85397),n=i(39163),p=i(70353),c=i(43695),l=i(4664),m=i(67540),u=i(60853),h=i(78707),d=i(62115),I=i(77289),f=i(1961),S=i(91515),F=i(32435),x=i(43574),g=i(33200),y=i(99171),R=i(96843),w=i(28293),$=i(9560),Z=i(67992),b=i(49099),v={name:"ReplaceResMode",data(){return{tempItem:null,tempIndex:-1,replaceIndex:0,replaceTipObj:{table:this.$i18n.t("replaceItemTip_20240425.text1"),character:this.$i18n.t("replaceItemTip_20240425.text2"),pluginMusic:this.$i18n.t("replaceItemTip_20240425.text3")}}},mounted(){this.$store.state.workSpace.isShowReplaceResMode&&(this.tempItem=s.Z.copy(this.currentSelectedItem,!0),this.tempIndex=this.currentSelectedItemIndex,this.$store.commit(r.dmy,{index:-1}))},computed:{currentSelectedItem:function(){return this.$store.getters.currentSelectedItem},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},viewPercent:function(){return this.$store.state.workSpace.viewPercent},workSpaceLeft:function(){return this.$store.state.timeline.workSpaceLeft},menuPanelWidth(){return this.$store.state.timeline.menuPanelWidth},pageNode:function(){return this.$store.state.workSpace.pageNode},borderRotate:function(){return{transform:`rotateZ(${this.tempItem.rotate}deg)`,border:"1px dashed #000"}},itemWrapStyle:function(){let e=this.tempItem,t={},i=this.pageNode,r=this.viewPercent,s=i.offsetLeft+this.workSpaceLeft-this.menuPanelWidth,o=i.offsetTop;t.left=parseFloat(e.style.left)*r+s+"px",t.top=parseFloat(e.style.top)*r+o+"px";let a=parseFloat(e.style.width),n=parseFloat(e.style.height);if("table"===e.type&&!this.replaceIndex){this.replaceIndex=1;for(let t=0;t<e.rows;t++)for(let i=0;i<e.columns;i++)this.viewPercent<1&&(e.tableList[t][i].width=parseFloat(e.tableList[t][i].width),e.tableList[t][i].height=parseFloat(e.tableList[t][i].height)),e.tableList[t][i].innerTextStyle.fontSize=parseFloat(e.tableList[t][i].innerTextStyle.fontSize)-.003+"px"}return t.width=a+"px",t.height=n+"px",t.transform=`scale(${r})`,t.transformOrigin="0 0",t},isReplaceSwiper:function(){return this.$store.getters.isReplaceSwiper},isReplaceMusic:function(){return this.$store.getters.isReplaceMusic},isReplaceVideo:function(){return this.$store.getters.isReplaceVideo},isActionReplaceMode:function(){return this.$store.state.actionEventsListPanel.isActionReplaceMode},replaceTips:function(){if(this.isReplaceMusic)return this.replaceTipObj.pluginMusic;if(this.isReplaceVideo)return this.$i18n.t("ReplaceResMode_vue.text2");if(this.isReplaceSwiper)return this.$i18n.t("newReplaceTip.text1");if(this.isActionReplaceMode)return this.$i18n.t("addWechat.replace");const e=this.$store.state.workSpace.replaceResItem;let t=e.type;return"image"===t&&e.isSprite&&(t="character"),this.replaceTipObj[t]?this.replaceTipObj[t]:this.$i18n.t("ReplaceResMode_vue.text3")}},methods:{itemStyle:function(e,t){let i={};return t&&(i.left=parseFloat(e.style.left)+"px",i.top=parseFloat(e.style.top)+"px",i.width=parseFloat(e.style.width)+"px",i.height=parseFloat(e.style.height)+"px",i.transform=`rotateZ(${e.rotate}deg)`,i.transform=i.transform+`rotateX(${e.rotateX}deg)`+`rotateY(${e.rotateY}deg)`),i},currentItemComponent:function(e){return"ItemFor"+e.type.substr(0,1).toUpperCase()+e.type.substr(1)},hideReplaceMode:function(){this.$store.commit(r.eKS,{isShow:!1}),this.$store.commit(r.V_g,{isShow:!1})}},components:{ItemForImage:o.Z,ItemForText:a.Z,ItemForSvg:n.Z,ItemForMusic:p.Z,ItemForChart:c.Z,ItemForFrames:l.Z,ItemForBaseShape:m.Z,ItemForEffect:u.Z,ItemForTransShape:h.Z,ItemForVideo:d.Z,ItemForTooltip:I.Z,ItemForPhone:f.Z,ItemForLink:S.Z,ItemForQuiz:F.Z,ItemForLike:x.Z,ItemForHotSpot:g.Z,ItemForPluginVideo:y.Z,ItemForPluginMusic:R.Z,ItemForSwiper:w.Z,ItemForButton:$.Z,ItemForIframe:Z.Z,ItemForTable:b.Z}},T=(0,i(1001).Z)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ReplaceResMode",on:{click:e.hideReplaceMode}},[t("portal",{attrs:{to:"ReplaceTips"}},[t("div",{staticClass:"replaceTips",class:{"character-replace-left":e.tempItem&&e.tempItem.isSprite}},[e._v(" "+e._s(e.replaceTips)+" ")])]),e.tempItem?[t("div",{staticClass:"clone itemWraper",style:e.itemWrapStyle,on:{keydown:function(e){e.stopPropagation()}}},[t("div",{staticClass:"filterDiv",style:e.itemStyle(e.tempItem)},[e.tempItem.items?e._e():t(e.currentItemComponent(e.tempItem),{tag:"component",staticClass:"copyItem",attrs:{item:e.tempItem,index:e.tempIndex,isReplace:!0,groupKey:-1}}),e.tempItem.items?t("div",{staticClass:"groupEle"},e._l(e.tempItem.items,(function(i,r){return t(e.currentItemComponent(i),{key:r,tag:"component",staticClass:"copyItem",style:e.itemStyle(i,!0),attrs:{item:i,index:e.tempIndex,isReplace:!0,groupKey:r}})})),1):e._e()],1),t("div",{staticClass:"filterDiv",style:e.borderRotate})])]:e._e()],2)}),[],!1,null,"784ff8a6",null).exports}}]);