"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[6493],{26493:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var r=i(18023),s=i(11201),n=i(20015),o=i(46749),l=i(12915),a={name:"PropsForTransShape",mixins:[o.j,l.S],data(){return{}},computed:{isAllAdvance:function(){return this.multiList.every((t=>t.isAdvance))},isAllColorsZero:function(){return this.multiList.every((t=>t.colours>0))},isAllColorsOne:function(){return this.multiList.every((t=>t.colours>1))},item:function(){return this.isMulti?this.multiList[0]:this.$store.getters.currentSelectedItem},lineWidth:{get:function(){return this.item.lineWidth||0},set:function(t){const e=t?Number(t.replace(/[^\d]/g,"")):0;if(this.isMulti){let t={lineWidth:e};this.$store.commit(r.GE1,{attribute:t,type:"transShape"})}else this.item.lineWidth=e}},strokeDashes:{get:function(){return this.item.strokeDashes||0},set:function(t){if(this.isMulti){let e={strokeDashes:t||0};this.$store.commit(r.GE1,{attribute:e,type:"transShape"})}else this.item.strokeDashes=t,t||(this.item.strokeDashes=0)}},linecap:{get:function(){return this.item.linecap||"round"},set:function(t){if(this.isMulti){let e={linecap:t};this.$store.commit(r.GE1,{attribute:e,type:"transShape"})}else this.item.linecap=t}},colours:function(){return this.item.colours},isAdvance:function(){return this.item.isAdvance},getTransShapePicker(){return function(t){let e="";switch(t){case 0:e=this.item.strokeColor;break;case 1:e=this.item.fillColor;break;case 2:e=this.item.fillColor2}return 0===e.indexOf("url(#gradient")&&(e=this.item.gradientColorList[t]),e}},isENLang:function(){return this.$store.getters.isENLang}},mounted:function(){},methods:{setStyle:function(){},setGradientColor:function({index:t,value:e}){if(e){let i={id:`gradient${this.item.id}${t}`,colorList:n.Z.getSortColorList({colorList:e.colorList}),isLinear:"linear"===e.gradientType,gradientType:e.gradientType,gradientDeg:e.gradientDeg};return this.$set(this.item.gradientColorList,t,i),i}this.$set(this.item.gradientColorList,t,e)},setMultiGradientColor:function({index:t,value:e,item:i}){if(e){let r={id:`gradient${this.item.id}${t}`,colorList:n.Z.getSortColorList({colorList:e.colorList}),isLinear:"linear"===e.gradientType,gradientType:e.gradientType,gradientDeg:e.gradientDeg};return this.$set(i.gradientColorList,t,r),r}this.$set(i.gradientColorList,t,e)},setStrokeColor:function(t){let e=t.value;if("string"!=typeof e){if(this.isMulti)return void this.resetAssign({type:"strokeColor",value:e,index:0,isString:!1});let t=this.setGradientColor({index:0,value:e});this.item.strokeColor=`url(#${t.id})`}else{if(this.isMulti)return void this.resetAssign({type:"strokeColor",value:e,index:0,isString:!0});this.item.strokeColor=e,this.setGradientColor({index:0,value:void 0})}},setFillColor:function(t){let e=t.value;if("string"!=typeof t.value){if(this.isMulti)return void this.resetAssign({type:"fillColor",value:e,index:1,isString:!1});let t=this.setGradientColor({index:1,value:e});this.item.fillColor=`url(#${t.id})`}else{if(this.isMulti)return void this.resetAssign({type:"fillColor",value:e,index:1,isString:!0});this.item.fillColor=e,this.setGradientColor({index:1,value:void 0})}},setFillColor2:function(t){let e=t.value;if("string"!=typeof t.value){if(this.isMulti)return void this.resetAssign({type:"fillColor2",value:e,index:2,isString:!1});let t=this.setGradientColor({index:2,value:e});this.item.fillColor2=`url(#${t.id})`}else{if(this.isMulti)return void this.resetAssign({type:"fillColor2",value:e,index:2,isString:!0});this.item.fillColor2=e,this.setGradientColor({index:2,value:void 0})}},change:function(){this.$store.commit(r.N23,{canUndo:!0})},resetAssign:function({type:t,value:e,index:i,isString:r}){r?this.multiSettingCount.forEach((r=>{"group"===this.currentPageItems[r].type?this.currentPageItems[r].forEach((r=>{"transShape"===r.type&&(this.setMultiGradientColor({index:i,value:void 0,item:r}),r[t]=e)})):"transShape"===this.currentPageItems[r].type&&(this.currentPageItems[r][t]=e,this.setMultiGradientColor({index:i,value:void 0,item:this.currentPageItems[r]}))})):this.multiSettingCount.forEach((r=>{if("group"===this.currentPageItems[r].type)this.currentPageItems[r].forEach((r=>{if("transShape"===r.type){let s=this.setMultiGradientColor({index:i,value:e,item:r});r[t]=`url(#${s.id})`}}));else if("transShape"===this.currentPageItems[r].type){let s=this.setMultiGradientColor({index:i,value:e,item:this.currentPageItems[r]});this.currentPageItems[r][t]=`url(#${s.id})`}}))}},components:{PropGroup:s.default,colorPublicUtils:n.Z,PropsColor:()=>i.e(4124).then(i.bind(i,14124)),PropsInput:()=>i.e(9706).then(i.bind(i,49706)),PropsSlider:()=>i.e(9428).then(i.bind(i,19428))}},u=(0,i(1001).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"PropsForTransShape"},[e("PropGroup",{attrs:{title:"rightPanel.transShape_setting"}},[e("PropsColor",{attrs:{title:t.$t("DragBox_vue.text7"),color:t.getTransShapePicker(0),changeCallback:t.setStrokeColor,hasGradient:!0}}),e("PropsInput",{attrs:{title:t.$t("PropsForTransShape_vue.text1"),settingValue:t.lineWidth,prefix:"px"},on:{"update:settingValue":function(e){t.lineWidth=e},"update:setting-value":function(e){t.lineWidth=e},change:t.change}}),t.isAdvance&&!t.isMulti||t.isMulti&&t.isAllAdvance?e("PropsSlider",{attrs:{title:t.$t("PropsForSvgPainter_vue.LineStyle"),min:0,max:50,step:1,sliderNumber:t.strokeDashes},on:{"update:sliderNumber":function(e){t.strokeDashes=e},"update:slider-number":function(e){t.strokeDashes=e}}}):t._e(),t.isAdvance&&!t.isMulti||t.isMulti&&t.isAllAdvance?e("el-row",[e("el-col",{attrs:{span:t.isENLang?12:10}},[e("el-radio",{attrs:{"data-v":"v2",label:"round"},model:{value:t.linecap,callback:function(e){t.linecap=e},expression:"linecap"}},[t._v(t._s(t.$t("PropsForTransShape_vue.text2")))])],1),e("el-col",{attrs:{span:t.isENLang?12:14}},[e("el-radio",{attrs:{"data-v":"v2",label:"square"},model:{value:t.linecap,callback:function(e){t.linecap=e},expression:"linecap"}},[t._v(t._s(t.$t("PropsForTransShape_vue.text3")))])],1)],1):t._e(),t.colours>0&&!t.isMulti||t.isMulti&&t.isAllColorsZero?e("PropsColor",{attrs:{title:t.$t("PropsForTransShape_vue.text4"),color:t.getTransShapePicker(1),changeCallback:t.setFillColor,hasGradient:!0}}):t._e(),t.colours>1&&!t.isMulti||t.isMulti&&t.isAllColorsOne?e("PropsColor",{attrs:{title:t.$t("PropsForTransShape_vue.text5"),color:t.getTransShapePicker(2),changeCallback:t.setFillColor2,hasGradient:!0}}):t._e()],1)],1)}),[],!1,null,"2371514b",null).exports},94101:function(t,e,i){i.d(e,{Z:function(){return l}});var r=i(18023),s=i(76748),n={name:"ResourceReplace",props:{text:{type:String,default:s.ag.t("propsForEffect.changeMaterial")}},data(){return{}},computed:{currentSelectedItem:function(){return this.$store.getters.currentSelectedItem}},methods:{intoReplaceMode(){if(this.currentSelectedItem.isAsyncItem)return this.$message.warning(this.$t("asyncItem_20240318.text4"));this.$store.commit(r.Ewg,{isPreview:!1}),this.$store.commit(r.eKS,{isShow:!0})}},components:{ReplaceIcon:()=>i.e(4210).then(i.bind(i,74210))}},o=(0,i(1001).Z)(n,(function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.intoReplaceMode.apply(null,arguments)}}},[e("el-icon",{staticStyle:{"margin-right":"5px"},attrs:{size:14}},[e("ReplaceIcon")],1),t._v(" "+t._s(t.text)+" ")],1)}),[],!1,null,"cc0535a6",null),l=o.exports},12915:function(t,e,i){i.d(e,{S:function(){return a}});var r=i(18023),s=i(94101),n={name:"ResourceTopGroup",data(){return{}},computed:{pathAnime:function(){return this.$store.state.timeline.pathAnime},pathItemSelectedIndex:function(){return this.pathAnime.pathItemSelectedIndex},item:function(){return-1!==this.pathItemSelectedIndex?this.$store.getters.currentSelectedPathItem:this.$store.getters.currentSelectedItem},isXZPro:function(){return this.$store.getters.isXZPro},isMulti:function(){return this.$store.getters.isMulti}},methods:{intoReplaceMode(){this.$store.commit(r.Ewg,{isPreview:!1}),this.$store.commit(r.eKS,{isShow:!0})},searchBeLike:function(){this.$store.commit(r.$8l,{menu:"material"}),this.isShowSearchPanel=!0,setTimeout((()=>{eventBus.$emit(busType.SEARCH_SIMILARITY,this.item.name)}),500)}},components:{PropGroup:i(11201).default}},o=(0,i(1001).Z)(n,(function(){var t=this,e=t._self._c;return e("PropGroup",{attrs:{itemId:t.item.id}},[t.isMulti?t._e():[e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.intoReplaceMode.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("propsForEffect.changeMaterial"))+" ")]),t.isXZPro?e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.searchBeLike.apply(null,arguments)}}},[t._v(" 搜索相似 ")]):t._e(),t.isXZPro?e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.searchBeLike.apply(null,arguments)}}},[t._v(" 收藏 ")]):t._e()],t._t("default")],2)}),[],!1,null,"5e160046",null),l=o.exports;const a={components:{ResourceReplace:s.Z,ResourceTopGroup:l},replaceRes:function(){this.$store.commit(r.Ewg,{isPreview:!1}),this.$store.commit(r.eKS,{isShow:!0})},computed:{currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},isEditingPath:function(){return this.$store.state.timeline.pathAnime.isEditingPath},showReplaceBtn:function(){return!(-1!==this.currentSelectedGroupItemIndex&&!this.isEditingPath)},isXZPro:function(){return this.$store.getters.isXZPro}}}}}]);