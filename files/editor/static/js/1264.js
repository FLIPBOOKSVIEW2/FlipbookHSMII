"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[1264],{21264:function(t,e,s){s.d(e,{Z:function(){return n}});var i=s(11201),o=s(18023),r={name:"TextStyleNew",data(){return{}},mixins:[s(50935).W],computed:{currentSelectedItem:function(){return-1!==this.$store.state.workSpace.currentSelectedGroupItemIndex?this.$store.getters.currentPageItems[this.$store.state.workSpace.currentSelectedItemIndex]:this.isMulti?this.multiList[0]:this.$store.getters.currentSelectedItem},currentPageItems:function(){return this.$store.getters.currentPageItems},isChartItem:function(){return!!["eChart","chart"].includes(this.currentSelectedItem.type)},isGroup:function(){return"group"===this.currentSelectedItem.type},isShowShadow:{get:function(){return this.currentSelectedItem.isShowShadow},set:function(t){this.isMulti?this.resetAssign({type:"isShowShadow",value:t}):this.currentSelectedItem.isShowShadow=t,this.setGroupItemStyle({type:"isShowShadow",value:t}),"pagination"===this.currentSelectedItem.type&&this.syncPaginationItem("isShowShadow",this.currentSelectedItem)}},shadowColor:{get:function(){if(this.currentSelectedItem)return this.currentSelectedItem.filter.dropShadow.shadowColor},set:function(t){this.isMulti?this.resetAssign({type:"shadowColor",value:t,deep:2}):this.currentSelectedItem.filter.dropShadow.shadowColor=t,this.setGroupItemStyle({type:"shadowColor",value:t}),"pagination"===this.currentSelectedItem.type&&this.syncPaginationItem("filter",this.currentSelectedItem)}},shadowX:{get:function(){return Math.round(this.currentSelectedItem.filter.dropShadow.shadowX)},set:function(t){""!==t&&(this.isMulti?this.resetAssign({type:"shadowX",value:t,deep:2}):this.currentSelectedItem.filter.dropShadow.shadowX=t,this.setGroupItemStyle({type:"shadowX",value:t}),"pagination"===this.currentSelectedItem.type&&this.syncPaginationItem("filter",this.currentSelectedItem))}},shadowY:{get:function(){return Math.round(this.currentSelectedItem.filter.dropShadow.shadowY)},set:function(t){""!==t&&(this.isMulti?this.resetAssign({type:"shadowY",value:t,deep:2}):this.currentSelectedItem.filter.dropShadow.shadowY=t,this.setGroupItemStyle({type:"shadowY",value:t}),"pagination"===this.currentSelectedItem.type&&this.syncPaginationItem("filter",this.currentSelectedItem))}},shadowBlur:{get:function(){return Math.round(this.currentSelectedItem.filter.dropShadow.shadowBlur)},set:function(t){""!==t&&(this.isMulti?this.resetAssign({type:"shadowBlur",value:t,deep:2}):this.currentSelectedItem.filter.dropShadow.shadowBlur=t,this.setGroupItemStyle({type:"shadowBlur",value:t}),"pagination"===this.currentSelectedItem.type&&this.syncPaginationItem("filter",this.currentSelectedItem))}},multiSettingCount:function(){return this.$store.getters.multiSettingCount},multiList:function(){return this.$store.getters.multiList},isMulti:function(){return this.$store.getters.isMulti},isXZPro:function(){return this.$store.getters.isXZPro},isH5Pro:function(){return this.$store.getters.isH5Pro}},methods:{addCanUndo:function(){this.$store.commit(o.N23,{canUndo:!0})},saveBeforePage:function(){this.$store.commit(o.CjF)},changeShadowColor:function({value:t}){this.shadowColor=t,this.$store.commit(o.N23,{canUndo:!0})},setGroupItemStyle:function({type:t,value:e}){if(this.$store.getters.currentSelectedItem&&"group"===this.$store.getters.currentSelectedItem.type)for(let s=0;s<this.$store.getters.currentSelectedItem.items.length;s++){let i=this.$store.getters.currentSelectedItem.items[s];switch(t){case"isShowShadow":i.isShowShadow=e;break;case"shadowColor":i.filter.dropShadow.shadowColor=e;break;case"shadowY":i.filter.dropShadow.shadowY=e;break;case"shadowX":i.filter.dropShadow.shadowX=e;break;case"shadowBlur":i.filter.dropShadow.shadowBlur=e}}},resetAssign:function({type:t,value:e,deep:s}){this.multiSettingCount.forEach((i=>{let o=this.currentPageItems[i];"group"===o.type?this.currentPageItems[i].items.forEach((i=>{2===s?i.filter.dropShadow[t]=e:i[t]=e})):"text"===o.type&&(2===s?this.currentPageItems[i].filter.dropShadow[t]=e:this.currentPageItems[i][t]=e)}))}},components:{PropGroup:i.default,PropsInput:()=>s.e(9706).then(s.bind(s,49706)),PropsColor:()=>s.e(4124).then(s.bind(s,14124)),PropsSlider:()=>Promise.resolve().then(s.bind(s,19428)),PropsSwitch:()=>Promise.resolve().then(s.bind(s,69361))}},n=(0,s(1001).Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"TextStyle"},[t.currentSelectedItem.isBGI||t.isChartItem||t.isGroup?t._e():e("PropGroup",[e("PropsSwitch",{attrs:{title:t.$t("rightPanel.shadow_name"),isBold:!0,value:t.isShowShadow,descTips:t.isH5Pro?t.$t("shadowIosTip_20240830.text1"):""},on:{"update:value":function(e){t.isShowShadow=e},change:t.addCanUndo,switchDown:t.saveBeforePage}}),t.isShowShadow?e("el-row",{staticClass:"props_direction_column_gap10",attrs:{type:"flex"}},[e("PropsColor",{attrs:{title:t.$t("rightPanel.shadow_color"),color:t.shadowColor,changeCallback:t.changeShadowColor}}),e("PropsSlider",{attrs:{title:t.$t("rightPanel.shadow_shadowX"),min:-100,max:100,step:1,sliderNumber:t.shadowX},on:{"update:sliderNumber":function(e){t.shadowX=e},"update:slider-number":function(e){t.shadowX=e}}}),e("PropsSlider",{attrs:{title:t.$t("rightPanel.shadow_shadowY"),min:-100,max:100,step:1,sliderNumber:t.shadowY},on:{"update:sliderNumber":function(e){t.shadowY=e},"update:slider-number":function(e){t.shadowY=e}}}),e("PropsSlider",{attrs:{title:t.$t("rightPanel.shadow_shadowBlur"),min:0,max:100,step:1,sliderNumber:t.shadowBlur},on:{"update:sliderNumber":function(e){t.shadowBlur=e},"update:slider-number":function(e){t.shadowBlur=e}}})],1):t._e()],1)],1)}),[],!1,null,"2ac66740",null).exports},19428:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var i=s(18023),o={name:"PropsSlider",props:{sliderNumber:{required:!0},max:{type:Number,default:100},min:{type:Number,default:0},sliderW:{type:Number,default:80},iptW:{type:Number,default:50},isShowIpt:{type:Boolean,default:!0},step:{type:Number,default:1},title:{type:String},tooltip:{type:String},isBold:{type:Boolean,default:!1},isFlexSlider:{type:Boolean,default:!0},isAddHistory:{type:Boolean,default:!0},isInputAddHistory:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},dataFnSearch:{type:String,default:"",desc:"功能查找用于辨识的自定义data"}},data(){return{textStyle:{},isShowSlider:!0,sliderStyle:{},initValue:0}},computed:{modelValue:{get(){return this.$props.sliderNumber},set(t){this.$emit("update:sliderNumber",t)}},sliderValue(){return""===this.modelValue?this.initValue:this.modelValue},appLanguage(){return this.$store.state.appLanguage}},watch:{appLanguage(t){this.textStyle={},this.isShowSlider=!0,this.$nextTick((()=>{this.isFlexSlider&&this.setStyle()}))}},mounted(){this.isFlexSlider&&this.setStyle(),this.sliderStyle=this.isFlexSlider?{}:{"max-width":"unset",flex:"auto",width:"115px"},document.addEventListener("mouseup",this.onMouseup)},beforeDestroy(){document.removeEventListener("mouseup",this.onMouseup)},methods:{onMousedown(t){t&&setTimeout((()=>{this.$refs.inputRef.focus()}),40),this.isAddHistory&&!t&&this.saveBeforePage(),this.$emit("mousedown")},onMouseup(){this.$emit("mouseup")},onSliderChange(t){this.isAddHistory&&this.addCanUndo(),this.modelValue=t,this.$emit("sliderChange",t)},saveBeforePage:function(){this.$store.commit(i.CjF)},addCanUndo:function(t){this.$store.commit(i.N23,{canUndo:!0})},onInputValueChange(t){this.$emit("input-value-change",t)},onInputChange(t){this.isInputAddHistory&&this.addCanUndo(),this.$emit("inputChange",t)},onSlideInput(t){""!==this.modelValue&&(this.modelValue=t,this.$emit("slideInput",t))},onFocus(){this.isInputAddHistory&&this.saveBeforePage(),this.initValue=this.$props.sliderNumber,this.$emit("focus")},onBlur(){""===this.modelValue&&0!==this.initValue&&(this.modelValue=this.initValue,this.initValue=0),this.$emit("blur")},onKeyup(){this.$emit("keyup")},setStyle(){const t=this.$refs.PropsSlider.$el.offsetWidth;this.$refs.TextRef.offsetWidth;let e=this.$refs.SliderRef.offsetWidth;if(e<60)this.textStyle={flex:1},this.isShowSlider=!1;else{e=e<116?e:116;const s=this.isShowIpt?20:10,i=this.isShowIpt?this.iptW:0;this.textStyle={width:t-e-s-i+1+"px"}}}}},r=(0,s(1001).Z)(o,(function(){var t=this,e=t._self._c;return e("el-row",{ref:"PropsSlider",staticClass:"PropsSlider",attrs:{type:"flex",align:"middle",justify:"center"}},[e("el-tooltip",{attrs:{placement:"top",enterable:!1,disabled:!t.tooltip,content:t.tooltip,"open-delay":800}},[e("div",{ref:"TextRef",staticClass:"text",class:{isBold:t.isBold},style:t.textStyle,attrs:{"data-fn-search":t.dataFnSearch}},[e("p",[t._v(t._s(t.title))])])]),t.isShowSlider?e("div",{ref:"SliderRef",staticClass:"slider_box",style:t.sliderStyle,on:{mousedown:function(e){return t.onMousedown(!1)}}},[e("el-slider",{attrs:{"data-v":"v2",min:t.min,max:t.max,step:t.step,value:Number(t.modelValue),disabled:t.disabled},on:{input:t.onSlideInput,change:t.onSliderChange}})],1):t._e(),t.isShowIpt?e("div",{staticClass:"input_box",style:{width:t.iptW+"px"},on:{mousedown:function(e){return t.onMousedown(!0)}}},[e("el-input",{directives:[{name:"smart-select",rawName:"v-smart-select"}],ref:"inputRef",staticClass:"numberInput props_el-input-h34",attrs:{step:t.step,type:"number",readonly:t.disabled},on:{focus:t.onFocus,blur:t.onBlur,input:t.onInputChange,change:t.onInputValueChange,keydown:function(t){t.stopPropagation()}},nativeOn:{keyup:function(e){return t.onKeyup.apply(null,arguments)}},model:{value:t.modelValue,callback:function(e){t.modelValue=e},expression:"modelValue"}})],1):t._e()],1)}),[],!1,null,"b244ace8",null),n=r.exports},50935:function(t,e,s){s.d(e,{W:function(){return o}});var i=s(18023);const o={data(){return{fontCssOption:[{tooltips:"propsForText2022_11_07.text3",type:"bold",icon:"BlodIcon"},{tooltips:"propsForText2022_11_07.text4",type:"italic",icon:"ItalicIcon"},{tooltips:"propsForText2022_11_07.text5",type:"underline",icon:"UnderlineIcon"}],textAlignOption:[{tooltips:"propsForText2022_11_07.text6",type:"left",icon:"AlignLeftIcon"},{tooltips:"propsForText2022_11_07.text7",type:"center",icon:"AlignCenterIcon"},{tooltips:"propsForText2022_11_07.text8",type:"right",icon:"AlignRightIcon"}],trunFontSizeOption:[{tooltips:"propsForText2022_11_07.text2",icon:"DecreaseSizeIcon",value:"decrease"},{tooltips:"propsForText2022_11_07.text1",icon:"IncreaseSizeIcon",value:"increase"}]}},methods:{syncPaginationItem:function(t,e){this.$store.commit(i.aRG,{attribute:t,curItem:e})}}}}}]);