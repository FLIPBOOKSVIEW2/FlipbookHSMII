"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[9144],{29144:function(t,e,i){i.r(e),i.d(e,{default:function(){return n}});var l=i(66546),r=i(33446),o=i(18023),s={name:"TextScrollSetting",components:{ColorPickerV2:()=>Promise.resolve().then(i.bind(i,80597)),Lightbox:()=>Promise.resolve().then(i.bind(i,82958)),PropsInput:()=>i.e(9706).then(i.bind(i,49706)),PropsColor:()=>i.e(4124).then(i.bind(i,14124)),PropsSlider:()=>Promise.resolve().then(i.bind(i,19428)),PropsSwitch:()=>Promise.resolve().then(i.bind(i,69361))},data(){return{isShowTips:!1}},props:{item:{type:Object,required:!0}},mounted:async function(){await this.$nextTick(),this.isHasTextScrollAnime=this.isTimelineHasTextScrollAnime()},computed:{itemHeight:{get(){return Number.parseFloat(this.item.style.height)},set(){}},thumbColor:{get:function(){return this.item.scrollBarInfo.thumbColor},set:function(t){this.item.scrollBarInfo.thumbColor=t}},trackColor:{get:function(){return this.item.scrollBarInfo.trackColor},set:function(t){this.item.scrollBarInfo.trackColor=t}},scrollBarWidth:{get:function(){return this.item.scrollBarInfo.width},set:function(t){0===Number.parseFloat(t)||t||(t=0),t=Number.parseFloat(t),this.item.scrollBarInfo.width=t}},scrollBarRadius:{get:function(){return this.item.scrollBarInfo.radius},set:function(t){0===Number.parseFloat(t)||t||(t=0),t=Number.parseFloat(t),this.item.scrollBarInfo.radius=t}},scrollBarOpacity:{get:function(){return this.item.scrollBarInfo.opacity},set:function(t){0===Number.parseFloat(t)||t||(t=0),t=Number.parseFloat(t),this.item.scrollBarInfo.opacity=t}},isHideScrollBar:{get:function(){return this.item.isHideScrollBar},set:function(t){this.setPageUnsave(),this.item.isHideScrollBar=t}},isHasTextScrollAnime:{get:function(){return this.item.isHasTextScrollAnime},set:function(t){this.item.isHasTextScrollAnime=t}},middleAnime:function(){return this.item.animations.middle},appLanguage:function(){return this.$store.state.appLanguage},isEnLang:function(){return!!["en","EN"].includes(this.appLanguage)}},methods:{textFixedHeightInput:function(t){if("text"!==this.item.type)return;this.setPageUnsave();let e=Number.parseFloat(t);(e<0||Number.isNaN(e))&&(e=0),this.item.style.height=`${Number.parseFloat(e)}px`;const i=this.item.svgText.viewBox;i&&(this.item.textAreaWidth=Number.parseFloat(i.split(" ")[2]),this.item.textAreaHeight=Number.parseFloat(i.split(" ")[3]))},setColor:function(t,e){this[t]=e.value,this.setPageUnsave()},hideScrollBarChange:function(t){l.Q.$emit(l.Y.TEXT_HIDE_SCROLL_BAR,{item:this.item,isHide:t})},createScrollAnimate:function(t){this.$store.commit(o.T1E,{isShow:!0});let e=!1;if(this.middleAnime.forEach((t=>{"textScroll"===t.animeKey&&(e=!0)})),e){let e=0;for(let t=0;t<this.middleAnime.length;t++)if("textScroll"===this.middleAnime[t].animeKey){e=t;break}const i={item:this.item,middleIndex:e,e:t,isNewAdd:!1};l.Q.$emit(l.Y.OPEN_TEXT_SCROLL_ANIMATE_PANEL,i)}else{const t={animeKey:"textScroll",type:"textScroll",animeConfig:r.Z,isNewAdd:!0};l.Q.$emit(l.Y.OPEN_TEXT_SCROLL_ANIMATE_PANEL,t)}},deleteTextScrollAnimate:function(){if(0===this.middleAnime.length)return;const t=this.middleAnime.filter((t=>"textScroll"!==t.animeKey));this.item.animations.middle=t},switchChange:function(t){if(t)this.isHasTextScrollAnime=!0;else{this.isTimelineHasTextScrollAnime()?this.isShowTips=!0:this.isHasTextScrollAnime=!1}this.setPageUnsave()},isTimelineHasTextScrollAnime:function(){if(0===this.middleAnime.length)return!1;let t=!1;return this.middleAnime.forEach((e=>{"textScroll"===e.animeKey&&(t=!0)})),t},lightboxConfirmCallback:function(){this.deleteTextScrollAnimate(),this.isHasTextScrollAnime=!1},setPageUnsave:function(){this.$store.commit(o.N23,{canUndo:!0})}}},n=(0,i(1001).Z)(s,(function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"TextScrollSetting",attrs:{type:"flex"}},[e("el-row",{staticClass:"setting-item",attrs:{type:"flex",align:"middle"}},[e("el-checkbox",{attrs:{"data-v":"v2"},on:{change:t.hideScrollBarChange},model:{value:t.isHideScrollBar,callback:function(e){t.isHideScrollBar=e},expression:"isHideScrollBar"}},[e("span",{staticClass:"item-title",attrs:{title:t.$t("textScroll_middle2023_06_14.text8")}},[t._v(" "+t._s(t.$t("textScroll_middle2023_06_14.text8"))+" ")])])],1),e("PropsInput",{attrs:{tooltip:t.$t("textScroll_middle2023_06_14.text2"),title:t.$t("textScroll_middle2023_06_14.text2"),settingValue:t.itemHeight,prefix:"px"},on:{"update:settingValue":function(e){t.itemHeight=e},"update:setting-value":function(e){t.itemHeight=e},input:t.textFixedHeightInput}}),e("PropsColor",{attrs:{tooltip:t.$t("textScroll_middle2023_06_14.text3"),title:t.$t("textScroll_middle2023_06_14.text3"),color:t.thumbColor,isText:!0,changeCallback:e=>t.setColor("thumbColor",e)}}),e("PropsColor",{attrs:{tooltip:t.$t("textScroll_middle2023_06_14.text4"),title:t.$t("textScroll_middle2023_06_14.text4"),color:t.trackColor,isText:!0,changeCallback:e=>t.setColor("trackColor",e)}}),e("PropsSlider",{attrs:{tooltip:t.$t("textScroll_middle2023_06_14.text5"),title:t.$t("textScroll_middle2023_06_14.text5"),min:0,max:20,step:1,sliderNumber:t.scrollBarWidth},on:{"update:sliderNumber":function(e){t.scrollBarWidth=e},"update:slider-number":function(e){t.scrollBarWidth=e}}}),e("PropsSlider",{attrs:{tooltip:t.$t("textScroll_middle2023_06_14.text6"),title:t.$t("textScroll_middle2023_06_14.text6"),min:0,max:20,step:1,sliderNumber:t.scrollBarRadius},on:{"update:sliderNumber":function(e){t.scrollBarRadius=e},"update:slider-number":function(e){t.scrollBarRadius=e}}}),e("PropsSlider",{attrs:{title:t.$t("textScroll_middle2023_06_14.text7"),min:0,max:100,step:1,sliderNumber:t.scrollBarOpacity},on:{"update:sliderNumber":function(e){t.scrollBarOpacity=e},"update:slider-number":function(e){t.scrollBarOpacity=e}}}),e("PropsSwitch",{attrs:{tooltip:t.$t("textScroll_middle2023_06_14.text9"),title:t.$t("textScroll_middle2023_06_14.text9"),value:t.isHasTextScrollAnime},on:{"update:value":function(e){t.isHasTextScrollAnime=e},change:t.switchChange}}),t.isHasTextScrollAnime?e("div",{staticClass:"button-group"},[e("div",{staticClass:"btn btn-white",on:{click:t.createScrollAnimate}},[t._v(" "+t._s(t.$t("textScroll_middle.text6"))+" ")])]):t._e(),t.isShowTips?e("Lightbox",{attrs:{isShow:t.isShowTips,modalType:"Confirm",isAutoWidth:!0,showConfirm:!0,isConfirm:!0,title:t.$t("lightBox10_12.tips"),confirmCallBack:t.lightboxConfirmCallback},on:{"update:isShow":function(e){t.isShowTips=e},"update:is-show":function(e){t.isShowTips=e}}},[e("div",{staticClass:"alert-content"},[t._v(t._s(t.$t("textScroll_middle.text10")))])]):t._e()],1)}),[],!1,null,"0d989eb0",null).exports}}]);