"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[5651],{75651:function(e,t,i){i.r(t),i.d(t,{default:function(){return h}});var o=i(94414),s=i(62797),n=i(89951),a=i(87632),r=i(11201);i(76748);var l=i(2137),u=i(66546),c=i(18023),d=i(24118),p={name:"PropsForPluginVideo",mixins:[i(12915).S],data(){return{imagesList:[],videoType:2,loadThumb:!1,isShowDeleteBtn:!1}},props:[],watch:{pluginVideoType:function(e){0===e&&(this.playerType=2),this.updateSave()},vimeoId:"updateSave",youTubeId:"updateSave",videoLink:"updateSave",moviePlayTriggerEvt:"updateSave",isPauseBgSoundWhenPlay:"updateSave",isPauseOtherVideoWhenPlay:"updateSave",isLoop:"updateSave",thumbUrl:"updateSave",mutePlay:"updateSave"},created:function(){},mounted:function(){this.setPlayerType(),this.preloadThumb()},beforeDestroy(){},updated:function(){},computed:{imageUploadOpts(){return new l.C({multiple:!1,accept:this.acceptImageType.map((e=>`.${e}`)).join(",")})},isPauseBgSoundWhenPlay:{get:function(){return this.item.isPauseBgSoundWhenPlay},set:function(e){this.item.isPauseBgSoundWhenPlay=e}},isPauseOtherVideoWhenPlay:{get:function(){return this.item.isPauseOtherVideoWhenPlay},set:function(e){this.item.isPauseOtherVideoWhenPlay=e}},acceptVideoTypeStr:function(){return this.acceptVideoType.map((e=>`video/${e}`)).join(",")},acceptVideoType:function(){return this.$store.getters.acceptVideoType},acceptImageType:function(){return this.$store.getters.acceptImageType},uploadInterface:function(){return`${this.$store.getters.host}/${o.C.uploadTemporaryResource}`},isFlipPro:function(){return this.$store.getters.isFlipPro},isYZPro:function(){return this.$store.getters.isYZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},isXZPro:function(){return this.$store.getters.isXZPro},item:function(){return this.$store.getters.currentSelectedItem},iframeNotice:function(){let e="";return e=this.isYZPro?'<iframe src="https://books.mingbianji.com/download/yunzhanintro.mp4" frameborder=0 "allowfullscreen"></iframe>':'<iframe src="https://www.youtube.com/embed/sFxLq23m0RA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',e},linkNotice:function(){let e="";return e=this.isYZPro?"https://books.mingbianji.com/download/yunzhanintro.mp4":"https://fliphtml5.com/resourceFiles/videos/FlipHTML5-online-digital-publications-maker.mp4",e},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},currentPageItems:function(){return this.$store.getters.currentPageItems},generalCode:{get:function(){return this.item.generalCode},set:function(e){this.item.generalCode=e}},thumbUrl:function(){return this.item.thumbUrl||this.item.defaultPosterUrl},hasThumbUrl:function(){return""!==this.item.thumbUrlFileName},showSecVideoPanel:function(){return!!this.isFlipPro||(this.isH5Pro?this.hasResVideo:this.$store.getters.showSecVideoPanel)},pluginVideoType:{get:function(){return this.item.pluginVideoType},set:function(e){2===e&&(this.hasResVideo||this.isFlipPro||this.$store.commit(c.$8l,{menu:"video"})),this.item.pluginVideoType=e,this.$nextTick((()=>{if(2===e);else this.$refs[`pluginVideoType${e}`].focus()}))}},videoLink:{get:function(){return this.item.videoLink},set:function(e){this.item.videoLink=e}},youTubeId:{get:function(){return this.item.youTubeId},set:function(e){this.item.youTubeId=e}},vimeoId:{get:function(){return this.item.vimeoId},set:function(e){this.item.vimeoId=e}},showNotice:function(e){return!this.hasResVideo},hasResVideo:function(){let e=this.item.videoInfo;return this.isYZPro?2===this.pluginVideoType:!(!this.isFlipPro||2!==this.pluginVideoType||!e.url)||!this.isFlipPro&&""!==e.url},videoThumbUrl:function(){return{backgroundImage:`url(${this.thumbUrl})`}},moviePlayTriggerEvt:{get:function(){return this.item.moviePlayTriggerEvt},set:function(e){this.item.moviePlayTriggerEvt=e}},isLoop:{get:function(){return this.item.isLoop},set:function(e){this.item.isLoop=e}},mutePlay:{get:function(){return this.item.mutePlay},set:function(e){this.item.mutePlay=e}},videoSizeLimit:function(){return this.$store.state.upgradePanel.serviceLimit.videoSizeLimit},flipUploadVideoSizeLimit:function(){return this.videoSizeLimit[0]},limitPluginVideoType:function(){return!!this.isFlipPro||2!==this.pluginVideoType},playerType:{get:function(){return void 0===this.item.playerType?2:this.item.playerType},set:function(e){this.item.playerType=e}}},methods:{stopPropagation(e){e.stopPropagation()},updateSave(){this.$store.commit(c.nFE,{unSavedStatus:!0,isUpdatePage:!0})},changeVideoType:function(e,t){if(this.playerType=e,this.$store.commit(c.CjF),1===e){let e=this.item.videoInfo,t=this.currentSelectedItemIndex,i=new n.mo({name:e.name,videoInfo:{name:e.name,originDuration:e.duration,duration:e.duration,delay:this.$store.getters.currentSliderTime+1,url:e.url},isUpload:!0,isNewFile:this.item.isNewFile,fileName:d.Z.getPathFilename(e.url),thumbUrlFileName:this.hasThumbUrl?this.item.thumbUrlFileName:"",thumbUrl:this.hasThumbUrl?this.thumbUrl:"",thumbUrlIsNewFile:this.item.thumbUrlIsNewFile,isTeamResource:!1,videoWidth:this.item.videoWidth,videoHeight:this.item.videoHeight,style:this.item.style,isShowMaskImage:this.item.isShowMaskImage?this.item.isShowMaskImage:this.$set(this.item,"isShowMaskImage",!1),animationFiles:this.item.animationFiles,qrcodeGap:this.item.qrcodeGap,isVideoQRCodeImg:this.item.isVideoQRCodeImg,qrcodeForeground:this.item.qrcodeForeground,qrcodeBackground:this.item.qrcodeBackground});this.$store.commit(c.mNn,{index:t}),this.$store.commit("ADD_ITEM",{item:i}),this.$store.commit(c.dmy,{index:t});let o=this.currentPageItems.length-1,s=t;o!==s&&this.$store.commit(c.Mk8,{from:o,to:s,notLayer:!0,canUndo:!0}),this.$store.commit(c.T1E,{isShow:!0})}3===e&&this.clearVideoMask()},toVideoPanel:function(){this.$store.commit(c.$8l,{menu:"video"}),this.$store.commit(c.xZf,{firstType:"video",secType:"upload"})},isShowVideoClip:function(){this.$cusConfirm({message:this.$t("pluginVideo2022_06_14.text1"),confirmButtonText:this.$t("pluginVideo2022_06_14.text2"),cancelBtnTxt:this.$t("pluginVideo2022_06_14.text3")}).then((()=>{this.changeVideoType(1),this.$store.commit(c.CjF),this.$store.commit(c.BPn,{isShow:!0})}))},changeImg:function(e){let t=d.Z.getPathFilename(e.url);this.item.thumbUrl=e.url,this.item.thumbUrlFileName=t,this.item.thumbUrlIsNewFile=!0,this.preloadThumb()},preloadThumb:function(){this.hasThumbUrl&&(this.loadThumb=!0,(0,s.p)(this.thumbUrl).finally((()=>{this.loadThumb=!1})))},flipVideoUpload:function(){this.$refs.uploadbutton.$el.firstChild.click()},localVideoerror:function(e){},localVideosuccess:async function(e,t){if(-2===e.status)this.$message({type:"error",message:this.$t("videoEncodeFail.videoCodecError")});else{let t=e.filePath.replace("http:","https:");await(i=t,new Promise(((e,t)=>{let o=document.createElement("video");o.src=i,o.onloadeddata=()=>{e(o.duration),o=null},o.onerror=()=>{t(-1),o=null}}))).then((i=>{this.item.videoInfo.duration=i,this.item.videoInfo.endTime=i,this.item.videoInfo.name=e.name,this.item.fileName=d.Z.getPathFilename(t),this.item.videoInfo.url=t,this.getVideoWH(t).then((e=>{this.item.videoWidth=e.width,this.item.videoHeight=e.height;const t=d.Z.copy(this.item.style,!0),i=parseFloat(t.width),o=parseFloat(t.height),s=i/o,n=this.item.videoWidth/this.item.videoHeight;if(n>s){const e=i/n,s=parseFloat(t.top)-(e-o)/2;this.item.style.height=e+"px",this.item.style.top=s+"px"}else{const e=n*o,s=parseFloat(t.left)-(e-i)/2;this.item.style.width=e+"px",this.item.style.left=s+"px"}})).catch((()=>{this.$message({type:"error",message:this.$t("_PropsForVideo_vue.uploadFail")})}))})).catch((()=>{this.$message({type:"error",message:this.$t("_PropsForVideo_vue.uploadFail")})}))}var i},getVideoWH:function(e,t){return new Promise(((t,i)=>{try{let o=document.createElement("video");o.src=e,o.currentTime=.1,o.onseeked=()=>{t({width:o.videoWidth,height:o.videoHeight}),o=null},o.onerror=()=>{i(-1)}}catch(e){i(-2)}}))},localVideobeforeUpload:function(e){return!!this.checkSuffix(e)||(this.$refs.uploadbutton.abort(e),!1)},checkSize:function(e){let t=e.size;if(this.flipUploadVideoSizeLimit<t){this.warningMsg&&this.warningMsg.close();const e=this.$i18n.t("Message_js.text6",{size:this.flipUploadVideoSizeLimit/1024/1024+"MB"});return this.warningMsg=this.$message({showClose:!0,message:e,type:"warning",duration:3e3}),!1}return!0},checkSuffix:function(e){let t=d.Z.getPathFileSuffix(e.name);return!!this.acceptVideoType.includes(t)||(this.warningMsg&&this.warningMsg.close(),this.warningMsg=this.$message({showClose:!0,message:this.$i18n.t("Message_js.text7"),type:"warning",duration:3e3}),!1)},confirmChangeVideoType:function(){this.changeVideoType();const e=this;window.setTimeout((function(){e.$store.commit(c.BPn,{isShow:!0})}))},showOrHideDeleteBtn:function(){this.isShowDeleteBtn=!this.isShowDeleteBtn},deleteCover:function(){this.item.thumbUrl="",this.item.thumbUrlFileName="",this.item.thumbUrlIsNewFile=!1,this.isShowDeleteBtn=!1},setPlayerType:function(){this.playerType?this.videoType=this.playerType:this.videoType=2},replaceRes(){this.$store.commit(c.Ewg,{isPreview:!1}),this.$store.commit(c.eKS,{isShow:!0})},clearVideoMask:function(){this.item.animationFiles.maskImageFile.url&&(this.$store.commit(c.CjF),this.item.animationFiles.maskImageFile.url="",this.item.animationFiles.maskImageFile.fileName="",this.item.animationFiles.maskImageFile.isUploadMask=!1,this.item.animationFiles.maskImageFile.isNewFile=!1,this.item.isShowMaskImage=!1,this.$store.commit(c.N23,{canUndo:!0}))},createNewVimeoVideo:function(){u.Q.$emit(u.Y.CREATE_NEW_VIMEO_VIDEO)}},components:{PropGroup:r.default,MutiUploadList:a.default,PluginVideoQrcodeSetting:()=>i.e(1147).then(i.bind(i,1147)),NoVideoCoverIcon:()=>i.e(8992).then(i.bind(i,38992)),InfoTipsIcon:()=>i.e(3352).then(i.bind(i,83352))},directives:{}},m=(0,i(1001).Z)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"PropsForPluginVideo"},[!e.isFlipPro&&e.showReplaceBtn||2===e.pluginVideoType&&""!==e.item.videoInfo.url?t("PropGroup",[!e.isFlipPro&&e.showReplaceBtn?t("ResourceReplace"):e._e(),2===e.pluginVideoType&&""!==e.item.videoInfo.url?t("div",{staticClass:"btn btn-white",on:{click:e.isShowVideoClip}},[e._v(" "+e._s(e.$t("VideoClip_vue.text3"))+" ")]):e._e()],1):e._e(),e.showSecVideoPanel?t("PropGroup",{attrs:{title:"rightPanel.audio_type"}},[t("el-radio-group",{staticClass:"pluginVideo-group",on:{change:e.changeVideoType},model:{value:e.playerType,callback:function(t){e.playerType=t},expression:"playerType"}},[t("el-row",{staticClass:"pluginVideo-normal"},[t("el-radio",{attrs:{"data-v":"v2",label:2}},[t("span",[e._v(e._s(e.$t("PropsForPluginVideo_vue.text2")))])])],1),t("el-row",{staticClass:"pluginVideo-normal textarea"},[t("el-radio",{attrs:{"data-v":"v2",label:1,disabled:!e.hasResVideo}},[t("span",[e._v(e._s(e.$t("PropsForPluginVideo_vue.text1")))]),t("el-tooltip",{staticClass:"item",attrs:{placement:"top","open-delay":800}},[t("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[e.isFlipPro?[t("p",[e._v("1. "+e._s(e.$t("videoSetting_20230731.localVideo")))]),t("p",[e._v("2. "+e._s(e.$t("videoSetting_20230731.localTips2")))])]:[t("p",[e._v(e._s(e.$t("videoSetting_20230731.localTips2")))])]],2),t("el-icon",{staticStyle:{"font-size":"12px","margin-left":"3px","vertical-align":"middle"}},[t("InfoTipsIcon",{tag:"component"})],1)],1)],1)],1),!e.isYZPro||1!==e.pluginVideoType&&2!==e.pluginVideoType?e._e():t("el-row",{staticClass:"pluginVideo-normal"},[t("el-radio",{attrs:{"data-v":"v2",label:3}},[t("span",[e._v(e._s(e.$t("pluginVideo2023_04_25.text1")))])])],1)],1)],1):e._e(),e.isYZPro&&3===e.playerType?t("PluginVideoQrcodeSetting",{attrs:{item:e.item}}):e._e(),e.limitPluginVideoType?t("PropGroup",{staticClass:"video-setting",attrs:{title:"rightPanel.video_videoSetting"}},[t("el-radio-group",{staticClass:"pluginVideo-group",model:{value:e.pluginVideoType,callback:function(t){e.pluginVideoType=t},expression:"pluginVideoType"}},[t("el-row",[t("el-row",{staticClass:"pluginVideo-line",class:{pv_mgb_10:0===e.pluginVideoType}},[t("el-radio",{attrs:{"data-v":"v2",label:0}},[e._v(e._s(e.$t("rightPanel.video_frame"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-end","open-delay":800}},[t("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[t("p",[e._v(e._s(e.$t("plugin_video.example")))]),t("p",[e._v(e._s(e.iframeNotice))]),t("p",[e._v(e._s(e.$t("plugin_video.iframeTip")))])]),t("el-icon",{staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t("InfoTipsIcon",{tag:"component"})],1)],1)],1)],1),0===e.pluginVideoType?t("el-row",{staticClass:"pluginVideo-line"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.generalCode,expression:"generalCode"}],ref:"pluginVideoType0",staticClass:"el-textarea__inner",attrs:{placeholder:e.$t("rightPanel.video_frame_textarea"),type:"textarea",rows:"10",autocomplete:"off",spellcheck:"false",validateevent:"true"},domProps:{value:e.generalCode},on:{change:e.updateSave,keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.generalCode=t.target.value)}}})]):e._e()],1),t("el-row",[t("el-row",{staticClass:"pluginVideo-line",class:{pv_mgb_10:1===e.pluginVideoType}},[t("el-radio",{attrs:{"data-v":"v2",label:1}},[e._v(e._s(e.$t("rightPanel.video_link"))+" "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-end","open-delay":800}},[t("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[t("p",[e._v(" "+e._s(e.$t("plugin_video.linkTip"))+e._s(e.$t("plugin_video.example"))+" ")]),t("p",[e._v(e._s(e.linkNotice))])]),t("el-icon",{staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t("InfoTipsIcon",{tag:"component"})],1)],1)],1)],1),1===e.pluginVideoType?t("el-row",{staticClass:"pluginVideo-line"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.videoLink,expression:"videoLink"}],ref:"pluginVideoType1",staticClass:"editor_v2_input radio_input",attrs:{"data-v":"v2",placeholder:"https://fliphtml5.com/demo.mp4"},domProps:{value:e.videoLink},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.videoLink=t.target.value)}}})]):e._e()],1),e.isFlipPro||e.isH5Pro?t("el-row",[t("el-row",{staticClass:"pluginVideo-line",class:{pv_mgb_10:3===e.pluginVideoType}},[t("el-radio",{attrs:{"data-v":"v2",label:3}},[e._v("YouTube "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-end","open-delay":800}},[t("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[t("p",[e._v(e._s(e.$t("plugin_video.youtubeAddress")))]),t("p",[e._v(e._s(e.$t("plugin_video.addressBar")))]),t("p",[e._v(e._s(e.$t("plugin_video.shareLink")))])]),t("el-icon",{staticStyle:{"font-size":"12px","vertical-align":"middle"}},[t("InfoTipsIcon",{tag:"component"})],1)],1)],1)],1),3===e.pluginVideoType?t("el-row",{staticClass:"pluginVideo-line"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.youTubeId,expression:"youTubeId"}],ref:"pluginVideoType3",staticClass:"editor_v2_input radio_input",attrs:{placeholder:e.isFlipPro?"YouTube Video ID":"YouTube URL"},domProps:{value:e.youTubeId},on:{keydown:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.youTubeId=t.target.value)}}})]):e._e()],1):e._e(),e.isFlipPro||e.isH5Pro?t("el-row",[t("el-row",{staticClass:"pluginVideo-line",class:{pv_mgb_10:4===e.pluginVideoType}},[t("el-radio",{attrs:{"data-v":"v2",label:4}},[e._v("Vimeo ")])],1),4===e.pluginVideoType?t("el-row",{staticClass:"pluginVideo-line"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.vimeoId,expression:"vimeoId"}],ref:"pluginVideoType4",staticClass:"editor_v2_input radio_input",attrs:{placeholder:e.isFlipPro?"Vimeo Video ID":"https://vimeo.com/XXXX"},domProps:{value:e.vimeoId},on:{keydown:function(e){e.stopPropagation()},blur:e.createNewVimeoVideo,input:function(t){t.target.composing||(e.vimeoId=t.target.value)}}})]):e._e()],1):e._e(),e.isFlipPro?t("el-row",[t("el-row",{staticClass:"pluginVideo-line",class:{pv_mgb_10:2===e.pluginVideoType}},[t("el-radio",{attrs:{"data-v":"v2",label:2}},[e._v(" "+e._s(e.$t("rightPanel.video_localVideo"))+" ")])],1),2===e.pluginVideoType?t("el-row",[t("el-upload",{ref:"uploadbutton",staticClass:"pluginVideo-toVidepPanel-button props_el-upload-width100",attrs:{action:e.uploadInterface,"show-file-list":!1,"on-error":e.localVideoerror,"on-success":e.localVideosuccess,"before-upload":e.localVideobeforeUpload,multiple:!1,accept:e.acceptVideoTypeStr,id:"flipVideoUpload"},nativeOn:{click:function(e){e.stopPropagation()},mouseup:function(e){e.stopPropagation()}}},[t("div",{staticClass:"editor_v2_white_btn"},[e._v(" "+e._s(e.$t("rightPanel.video_clickToImport"))+" ")])])],1):e._e()],1):e._e()],1)],1):e._e(),0!==e.pluginVideoType&&3!==e.playerType?t("PropGroup",{attrs:{title:"rightPanel.audio_playType"}},[t("el-radio-group",{staticClass:"pluginVideo-group",model:{value:e.moviePlayTriggerEvt,callback:function(t){e.moviePlayTriggerEvt=t},expression:"moviePlayTriggerEvt"}},[t("el-row",{staticClass:"pluginVideo-normal"},[t("el-radio",{attrs:{"data-v":"v2",label:"none"}},[t("span",[e._v(" "+e._s(e.$t("PropsForPluginMusic_vue.text9")))])])],1),t("el-row",{staticClass:"pluginVideo-normal textarea"},[t("el-radio",{attrs:{"data-v":"v2",label:"EVT_PageViewed"}},[t("span",[e._v(e._s(e.$t("PropsForPluginMusic_vue.text10")))]),t("el-tooltip",{staticClass:"item",attrs:{placement:"top","open-delay":800}},[t("div",{staticClass:"tips",attrs:{slot:"content"},slot:"content"},[t("p",[e._v(e._s(e.$t("videoSetting_20230731.text1")))]),t("p",[e._v(e._s(e.$t("videoSetting_20230731.text2")))])]),t("el-icon",{staticStyle:{"font-size":"12px","margin-left":"4px","vertical-align":"middle"}},[t("InfoTipsIcon",{tag:"component"})],1)],1)],1)],1)],1),(e.isH5Pro||e.isYZPro||e.isFlipPro)&&0!==e.pluginVideoType?t("el-row",{staticClass:"pluginVideo-checkbox"},[t("el-checkbox",{attrs:{"data-v":"v2"},model:{value:e.mutePlay,callback:function(t){e.mutePlay=t},expression:"mutePlay"}},[t("span",[e._v(e._s(e.$t("pluginVideo_new.mute")))])])],1):e._e(),0!==e.pluginVideoType&&(e.isH5Pro||e.isFlipPro)?[t("el-row",{staticClass:"pluginVideo-checkbox"},[t("el-checkbox",{attrs:{"data-v":"v2",label:"EVT_PageViewed"},model:{value:e.isPauseBgSoundWhenPlay,callback:function(t){e.isPauseBgSoundWhenPlay=t},expression:"isPauseBgSoundWhenPlay"}},[t("span",[e._v(e._s(e.$t("propsForPluginMusic2022_10_13.text1")))])])],1)]:e._e(),0!==e.pluginVideoType&&(e.isH5Pro||e.isFlipPro)?[t("el-row",{staticClass:"pluginVideo-checkbox"},[t("el-checkbox",{attrs:{"data-v":"v2",label:"EVT_PageViewed"},model:{value:e.isPauseOtherVideoWhenPlay,callback:function(t){e.isPauseOtherVideoWhenPlay=t},expression:"isPauseOtherVideoWhenPlay"}},[t("span",[e._v(e._s(e.$t("PropsForPluginMusic_vue.PauseOtherVideo")))])])],1)]:e._e(),t("el-row",{staticClass:"pluginVideo-checkbox"},[t("el-checkbox",{attrs:{"data-v":"v2"},model:{value:e.isLoop,callback:function(t){e.isLoop=t},expression:"isLoop"}},[t("span",[e._v(e._s(e.$t("pluginVideo_new.loop")))])])],1)],2):e._e(),e.isYZPro||e.isH5Pro||e.isFlipPro?t("PropGroup",{staticClass:"videoThumbGroup",attrs:{title:"rightPanel.video_videoThumb"}},[e.thumbUrl?t("el-row",[e.loadThumb?t("div",{staticClass:"videoThumb"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"videoThumbLoading"})]):t("div",{staticClass:"videoThumb",style:e.videoThumbUrl,on:{mouseenter:e.showOrHideDeleteBtn,mouseleave:e.showOrHideDeleteBtn}},[e.isShowDeleteBtn&&e.hasThumbUrl?t("div",{staticClass:"delete-btn-outer",on:{click:function(t){return t.stopPropagation(),e.deleteCover.apply(null,arguments)}}},[t("div",{staticClass:"delete-btn"},[t("span",{staticClass:"icon delete-icon"})])]):e._e()])]):t("el-row",[t("div",{staticClass:"videoThumb"},[t("el-row",{staticClass:"no_cover",attrs:{type:"flex",justify:"center"}},[t("el-icon",{attrs:{size:30}},[t("NoVideoCoverIcon",{tag:"component"})],1),t("div",{staticClass:"no_cover_text"},[e._v(" "+e._s(e.$t("PropsPanle_new.video.NoCover"))+" ")])],1)],1)]),t("MutiUploadList",{attrs:{"file-dialog-opts":e.imageUploadOpts},on:{"upload-success":e.changeImg},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",[e._v(e._s(e.$t("PropsPanle_new.video.uploadImage")))])]},proxy:!0}],null,!1,3725891139)})],1):e._e()],1)}),[],!1,null,"11c53058",null),h=m.exports},94101:function(e,t,i){i.d(t,{Z:function(){return r}});var o=i(18023),s=i(76748),n={name:"ResourceReplace",props:{text:{type:String,default:s.ag.t("propsForEffect.changeMaterial")}},data(){return{}},computed:{currentSelectedItem:function(){return this.$store.getters.currentSelectedItem}},methods:{intoReplaceMode(){if(this.currentSelectedItem.isAsyncItem)return this.$message.warning(this.$t("asyncItem_20240318.text4"));this.$store.commit(o.Ewg,{isPreview:!1}),this.$store.commit(o.eKS,{isShow:!0})}},components:{ReplaceIcon:()=>i.e(4210).then(i.bind(i,74210))}},a=(0,i(1001).Z)(n,(function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(t){return e.intoReplaceMode.apply(null,arguments)}}},[t("el-icon",{staticStyle:{"margin-right":"5px"},attrs:{size:14}},[t("ReplaceIcon")],1),e._v(" "+e._s(e.text)+" ")],1)}),[],!1,null,"cc0535a6",null),r=a.exports},12915:function(e,t,i){i.d(t,{S:function(){return l}});var o=i(18023),s=i(94101),n={name:"ResourceTopGroup",data(){return{}},computed:{pathAnime:function(){return this.$store.state.timeline.pathAnime},pathItemSelectedIndex:function(){return this.pathAnime.pathItemSelectedIndex},item:function(){return-1!==this.pathItemSelectedIndex?this.$store.getters.currentSelectedPathItem:this.$store.getters.currentSelectedItem},isXZPro:function(){return this.$store.getters.isXZPro},isMulti:function(){return this.$store.getters.isMulti}},methods:{intoReplaceMode(){this.$store.commit(o.Ewg,{isPreview:!1}),this.$store.commit(o.eKS,{isShow:!0})},searchBeLike:function(){this.$store.commit(o.$8l,{menu:"material"}),this.isShowSearchPanel=!0,setTimeout((()=>{eventBus.$emit(busType.SEARCH_SIMILARITY,this.item.name)}),500)}},components:{PropGroup:i(11201).default}},a=(0,i(1001).Z)(n,(function(){var e=this,t=e._self._c;return t("PropGroup",{attrs:{itemId:e.item.id}},[e.isMulti?e._e():[t("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(t){return e.intoReplaceMode.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("propsForEffect.changeMaterial"))+" ")]),e.isXZPro?t("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(t){return e.searchBeLike.apply(null,arguments)}}},[e._v(" 搜索相似 ")]):e._e(),e.isXZPro?t("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(t){return e.searchBeLike.apply(null,arguments)}}},[e._v(" 收藏 ")]):e._e()],e._t("default")],2)}),[],!1,null,"5e160046",null),r=a.exports;const l={components:{ResourceReplace:s.Z,ResourceTopGroup:r},replaceRes:function(){this.$store.commit(o.Ewg,{isPreview:!1}),this.$store.commit(o.eKS,{isShow:!0})},computed:{currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},isEditingPath:function(){return this.$store.state.timeline.pathAnime.isEditingPath},showReplaceBtn:function(){return!(-1!==this.currentSelectedGroupItemIndex&&!this.isEditingPath)},isXZPro:function(){return this.$store.getters.isXZPro}}}}}]);