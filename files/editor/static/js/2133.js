"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[2133],{92133:function(e,t,i){i.r(t),i.d(t,{default:function(){return P}});i(57658);var n=i(69244),a=i(36564),s=i(89951),o=i(24118),l=i(86790),c=i(60735),r=i(66546),m=i(76748),d=i(1585),u=i(18023),h=i(49202),p=i.n(h),g=i(30771);i(30541);var A={name:"AnimationList",mixins:[d.Z],props:{currentActionListItem:{type:a.in,default:function(){return new a.in}}},data(){return{dragOptions:{animation:200,group:"description",disabled:!1,ghostClass:"ghost"},curSelAnimeTimeline:"",curPrewAnimeItem:"",curAnimeEditIndex:-1}},mounted(){r.Q.$on(r.Y.CLEAR_PREVIEW_TIMELINE,(()=>{this.clearPreviewAnime()}))},beforeDestroy(){this.clearPreviewAnime(),r.Q.$off(r.Y.CLEAR_PREVIEW_TIMELINE)},directives:{},watch:{"animatePanel.animeType":function(e){this.$store.state.timeline.animePanel.animeType=e},"animatePanel.middleIndex":function(e){this.$store.state.timeline.animePanel.middleIndex=e}},computed:{curAction(){return this.currentActionListItem},curActionAnimeList(){return this.curAction.animationList},targetOptions:function(){return function(e,t,i){const a=[],s=["component"];return i.forEach(((i,o)=>{if(!s.includes(i.type)){const s=JSON.parse(JSON.stringify(i)),l=new n.GP({index:o,id:s.id,type:s.type,name:s.name,animations:s.animations,animationFiles:s.animationFiles,maskConfig:s.maskConfig,outEraseConfig:s.outEraseConfig,scrawlConfig:s.scrawlConfig,style:s.style,pathHeight:s.pathHeight,pathWidth:s.pathWidth,rotate:s.rotate,existEndTime:s.existEndTime,existStartTime:s.existStartTime});l.animations.in.delay=0,"svg"===s.type&&(l.svg=s.svg,l.gNode=s.gNode),"group"===s.type&&(l.items=s.items),l.disable=function(e,t,i){const n=e[t].event;for(let a=0;a<e.length;a++){const s=e[a];if(a!==t&&n===s.event&&s.animationList.length){const e=s.animationList.find((e=>e.id===i));if(e)return!0}}return!1}(e,t,l.id),l.selected=function(e,t,i){const n=e[t].animationList.find((e=>e.id===i));return!!n}(e,t,l.id),a.unshift(l)}})),a}(this.actionList,this.currentActionListIndex,this.currentPageItems)},isAction:{get:function(){return this.$store.state.timeline.animePanel.isAction},set:function(e){this.$store.state.timeline.animePanel.isAction=e}},actionIndex:{get:function(){return this.$store.state.timeline.animePanel.actionIndex},set:function(e){this.$store.state.timeline.animePanel.actionIndex=e}},animationIndex:{get:function(){return this.$store.state.timeline.animePanel.animationIndex},set:function(e){this.$store.state.timeline.animePanel.animationIndex=e}},isShowActionAminePanel:{get:function(){return this.$store.state.timeline.animePanel.isShowActionAminePanel},set:function(e){this.$store.state.timeline.animePanel.isShowActionAminePanel=e}},isColorPanelOpen:function(){return this.$store.state.colorPicker.isPanelEnable},dragBoxTitle:function(){switch(this.animatePanel.animeType){case"in":return this.$i18n.t("ActionPropGroup_vue.text3");case"middle":return this.$i18n.t("ActionPropGroup_vue.text4");case"out":return this.$i18n.t("ActionPropGroup_vue.text5");default:return this.$i18n.t("ActionPropGroup_vue.text2")}},getSelectPanelHeight:function(){return 30*this.currentPageItems.length>160?"230px":30*this.currentPageItems.length+70+"px"},mouseEnterActionTargetIndex:{get:function(){return this.$store.state.workSpace.mouseEnterActionTargetIndex},set:function(e){this.$store.state.workSpace.mouseEnterActionTargetIndex=e}},animatePanel:{get:function(){return this.$store.getters.animationListAnimatePanel},set:function(e){this.$store.state.actionEventsListPanel.animationListAnimatePanel=e}},originalAnimeConfig:{get:function(){return this.$store.getters.originalAnimeConfig},set:function(e){this.$store.state.actionEventsListPanel.originalAnimeConfig=e}},selectName(){const e=this.curActionAnimeList;return e.length?1===e.length?e[0].name:m.ag.t("rightPanel.action_animationTargetSelected")+": "+e.length:""}},methods:{getSelectName:function(e){return this.curActionAnimeList.length?1===this.curActionAnimeList.length?this.curActionAnimeList[0].name:this.$t("rightPanel.action_animationTargetSelected")+": "+this.curActionAnimeList.length:this.$t("rightPanel.action_selectAnimationTarget")+this.$t("rightPanel.action_selectMultiTarget")},saveEnterItemIndex:function(e){this.$store.commit(u.x33,{index:e.index}),this.mouseEnterActionTargetIndex=e.index},delEnterItemIndex:function(){this.$store.commit(u.x33,{index:-1}),this.mouseEnterActionTargetIndex=-1},choiceAnimateItem(e){if(!e.disable){if(this.$store.commit(u.CjF),e.selected=!e.selected,(0,l.e6)(e),e.selected)this.curActionAnimeList.push(e);else{const t=this.curActionAnimeList.findIndex((t=>t.id===e.id));this.curActionAnimeList.splice(t,1)}this.$store.commit(u.N23,{canUndo:!0})}},isHasAnimationList:function(e){return this.isHasAction&&!!this.actionList[e].animationList.length},changeAnimationDetailPanelCase:function(e,t){let i=this.actionList[e].animationList[t];this.curActionIndex=e,this.curAnimeEditIndex=t,i.isExpandAnimePanel=!i.isExpandAnimePanel},deleteAnimation:function(e,t){if(e.disable)return;this.$store.commit(u.CjF);let{realItem:i}=this.getItem(e);i.actIsHidden=!1,this.curActionAnimeList.splice(t,1),this.$store.commit(u.N23,{canUndo:!0})},animeEditBeforeEnter:function(e){e.style.height=0},animeEditEnter:function(e,t){e.style.height=e.scrollHeight+"px",setTimeout(t,300)},animeEditAfterEnter:function(e){e.style.height=""},animeEditBeforeLeave:function(e){e.style.height=e.scrollHeight+"px"},animeEditLeave:function(e,t){e.style.height=e.scrollHeight+"px",e.style.height=0,setTimeout(t,300)},animeEditAfterLeave:function(e){e.style.height=0},changeHiddenCase:function(e){let{realItem:t}=this.getItem(e);t.actIsHidden=e.actIsHidden,t.actAnimeTime=-1,this.saveUndo()},getInTitle:function(e,t){let i=this.actionList[e].animationList[t].animations.in;return"alwaysIn"!==i.animeKey&&i.animeKey?this.$i18n.t("rightPanel.action_anime_title",{duration:i.duration,delay:i.delay}):""},addInAnime(e,t,i){e&&this.changeInAnime(t,i)},deleteInAnime(e){this.$store.commit(u.CjF),this.hideBeforeAnimePanel();const t=s.ck.getDefaultAnimation({});e.animations.in=t.in,this.$store.commit(u.N23,{canUndo:!0})},changeInAnime:function(e,t){this.hideBeforeAnimePanel(),this.animatePanel.animeType="in",this.animatePanel.isToAdd=!1,this.isAction=!0,this.actionIndex=e,this.animationIndex=t,this.originalAnimeConfig=this.curActionAnimeList[t].animations.in,this.animatePanel.animeKey=this.originalAnimeConfig.animeKey||"",setTimeout((()=>{this.openAnimePanel()}),0)},hideBeforeAnimePanel:function(){this.isShowActionAminePanel=!1,this.$store.commit(u.LSM,{isShow:!1}),this.$store.commit(u.Sc6,{isShow:!1})},openAnimePanel:function(){this.isShowActionAminePanel=!0},changeMiddleAnime:function(e,t,i){this.hideBeforeAnimePanel(),this.animatePanel.animeType="middle",this.animatePanel.isToAdd=!1,this.isAction=!0,this.actionIndex=e,this.animationIndex=t,this.animatePanel.middleIndex=i,this.originalAnimeConfig=this.actionList[e].animationList[t].animations.middle[i],this.animatePanel.animeKey=this.originalAnimeConfig.animeKey||"",setTimeout((()=>{this.openAnimePanel()}),0)},getMiddleTitle:function(e){let t=this.$i18n.t("rightPanel.action_anime_title",{duration:e.duration,delay:e.delay});if(-1===e.repeat)t+=this.$t("rightPanel.action_anime_title3");else if(e.repeat){t+=this.$i18n.t("rightPanel.action_anime_title2",{repeat:e.repeat})}return t},deleteMiddleAnime:function(e,t){e.animations.middle.splice(t,1)},addMiddleAnime:function(e,t,i){this.hideBeforeAnimePanel(),this.animatePanel.animeType="middle",this.animatePanel.animeKey="",this.actionIndex=e,this.animationIndex=t,this.animatePanel.middleIndex=i.length,this.animatePanel.addAnimeIndex=i.length,this.animatePanel.isToAdd=!0,this.originalAnimeConfig={type:"basic"},this.isAction=!0,setTimeout((()=>{this.openAnimePanel()}),0)},addOutAnime(e,t,i){e&&this.changeOutAnime(t,i)},deleteOutAnime(e){this.hideBeforeAnimePanel();const t=s.ck.getDefaultAnimation({});e.animations.out=t.out},changeOutAnime:function(e,t){this.hideBeforeAnimePanel(),this.animatePanel.animeType="out",this.animatePanel.isToAdd=!1,this.isAction=!0,this.actionIndex=e,this.animationIndex=t,this.originalAnimeConfig=this.actionList[e].animationList[t].animations.out,this.animatePanel.animeKey=this.originalAnimeConfig.animeKey||"",setTimeout((()=>{this.openAnimePanel()}),0)},getOutTitle:function(e){return"alwaysIn"!==e.animeKey&&e.animeKey?title=this.$t("rightPanel.action_anime_title").replace(/%duration%/,e.duration).replace(/%delay%/,e.delay):""},applyAnime:function(e){let t=this.animatePanel.isToAdd,i=JSON.parse(JSON.stringify(e)),n=this.actionList[this.actionIndex].animationList[this.animationIndex].animations,a=n.middle,s=this.animatePanel.addAnimeIndex;t&&(i.delay=.5,i.duration=1,i.isHoverBorder=!1,a.splice(s,0,i),this.animatePanel.isToAdd=!1,this.animatePanel.animeKey=i.animeKey,this.animatePanel.middleIndex=s);let o,l=this.animatePanel.middleIndex;"middle"===this.animatePanel.animeType?(o=a[l],this.$set(o,"repeatDelay",e.repeatDelay)):"in"===this.animatePanel.animeType?o=n.in:"out"===this.animatePanel.animeType&&(o=n.out),o.type=e.type,o.isAlways=e.isAlways,o.ease=e.ease,o.easeFn=e.easeFn,o.easeType=e.easeType,o.noFaded=e.noFaded,o.fileName=e.fileName,o.isRemainOrigin=e.isRemainOrigin,o.advanced=e.advanced,this.originalAnimeConfig=o,t?this.hasClickBtn="":this.changeAnime(i),this.isAction=!1,this.runPreviewAnime({animationTarget:this.actionList[this.actionIndex].animationList[this.animationIndex],animation:o,curMiddleIndex:l})},runPreviewAnime:function({animationTarget:e,animation:t,middleIndex:i}){this.clearPreviewAnime();let n=JSON.parse(JSON.stringify(e));this.curPrewAnimeItem=n;let{realItem:a,index:l}=this.getItem(n);r.Q.$emit(r.Y.SEEK_TIMELINE_INEND,[l]),r.Q.$emit(r.Y.CLEAR_EMIT_EVENT_TIMELINE,{idArr:[n.id]});let m=s.ck.getDefaultAnimation({});switch(this.animatePanel.animeType){case"in":m.in=o.Z.deepAssign(m.in,t),"visibleIn"===m.in.animeKey&&0===m.in.delay&&(m.in.delay=.1);break;case"middle":t.delay=0,m.in.duration=0,m.in.delay=0,m.middle.push(t);break;case"out":t.delay=0,m.in.duration=0,m.in.delay=0,m.out.delay=0,m.out=o.Z.deepAssign(m.out,t),"visibleOut"===m.out.animeKey&&0===m.out.delay&&(m.out.delay=.1)}n.animations=m,this.curSelAnimeTimeline=(0,c.Pg)({item:n,realItem:a,isGroupItem:!1,setAnimeFromTrigger:!0,groupKey:-1,isTriggerPreview:!0}).itemTimeline,this.curSelAnimeTimeline.timeScale(1).play(),this.curSelAnimeTimeline.eventCallback("onComplete",(()=>{a.actAnimeTime=-1,this.clearPreviewAnime()}))},clearPreviewAnime:function(){if(this.curSelAnimeTimeline&&(this.curSelAnimeTimeline.pause("inEnd"),(0,c.$u)(this.curSelAnimeTimeline),this.curSelAnimeTimeline="",this.curPrewAnimeItem)){let{realItem:e}=this.getItem(this.curPrewAnimeItem);e.actAnimeTime=-1,e.isPlayingActAnime=!1,this.curPrewAnimeItem=""}},changeAnime:function(e){let t=this.currentSelectedItem,i=this.animatePanel.animeType,n=this.animatePanel.middleIndex,a=this.actionList[this.actionIndex].animationList[this.animationIndex].animations;if(this.animatePanel.animeKey=e.animeKey,"in"===i)a.in.animeKey=e.animeKey,a.in.name=e.name,a.in.props=e.props,a.in.defaultCutomEase=e.defaultCutomEase?e.defaultCutomEase:"",a.in.defaultDuration=e.defaultDuration?e.defaultDuration:"";else if("out"===i)a.out.animeKey=e.animeKey,a.out.name=e.name,a.out.props=e.props,a.out.defaultCutomEase=e.defaultCutomEase?e.defaultCutomEase:"",a.out.defaultDuration=e.defaultDuration?e.defaultDuration:"";else{let i=a.middle[n],s=JSON.parse(JSON.stringify(i)),o=!0;s.repeat===e.repeat&&s.isYoyo===e.isYoyo||(i.repeat=e.repeat,i.isYoyo=e.isYoyo,o=!1),i.animeKey=e.animeKey,i.name=e.name,i.props=e.props,i.defaultCutomEase=e.defaultCutomEase?e.defaultCutomEase:"",i.defaultDuration=e.defaultDuration?e.defaultDuration:"","path"===e.type&&(i.pathType=e.pathType,"circle"===e.pathType&&(i.differData=e.differData)),"group"===t.type&&o&&"path"!==e.type&&t.items.forEach(((t,i)=>{let a=t.animations.middle[n];a.animeKey=e.animeKey,a.name=e.name,a.props=e.props,a.defaultCutomEase=e.defaultCutomEase?e.defaultCutomEase:"",a.defaultDuration=e.defaultDuration?e.defaultDuration:""}))}},dragStart(){this.$store.commit(u.CjF)},dragEnd(){this.$store.commit(u.N23,{canUndo:!0})},midddleExchange({added:e,removed:t,moved:i}){},hideElSelectPanel(){const e=this.$refs.elSelect;e&&e.blur()},setAnimateItem(e){this.$store.commit(u.CjF);const t=this.curActionAnimeList.map((e=>e.id));this.curAction.animationList=this.curActionAnimeList.filter((t=>(e.includes(t.id)||(t.actIsHidden=!1,this.changeHiddenCase(t)),e.includes(t.id))));const i=e.filter((e=>!t.includes(e)));this.targetOptions.forEach((e=>{i.includes(e.id)&&this.curActionAnimeList.push(e)})),this.curActionAnimeList.forEach((e=>{(0,l.e6)(e)})),this.$store.commit(u.N23,{canUndo:!0})}},components:{draggable:p(),SelectBox:g.Z,DragBox:()=>Promise.resolve().then(i.bind(i,10067)),SelectIcon:()=>i.e(8437).then(i.bind(i,28437)),AddIcon:()=>i.e(5118).then(i.bind(i,65118)),AttentionIcon:()=>i.e(6975).then(i.bind(i,26975)),EntranceIcon:()=>i.e(39).then(i.bind(i,30039)),ExitIcon:()=>i.e(4787).then(i.bind(i,94787)),RankIcon:()=>i.e(578).then(i.bind(i,20578)),DeleteIcon:()=>i.e(5376).then(i.bind(i,95376)),AnimePanel:()=>Promise.resolve().then(i.bind(i,7512)),PropsSwitch:()=>Promise.resolve().then(i.bind(i,69361))}},f=(0,i(1001).Z)(A,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"AnimationList"},[t("div",{staticClass:"group"},[t("div",{staticClass:"action-group item-group"},[t("SelectBox",{attrs:{options:e.targetOptions,selectName:e.selectName,placeholder:e.$t("rightPanel.action_selectAnimationTarget")},on:{change:e.setAnimateItem}}),e._e()],1)]),e.isHasAnimationList(e.currentActionListIndex)?t("div",{staticClass:"animation-content"},e._l(e.curActionAnimeList,(function(i,n){return t("div",{key:i.id,staticClass:"animation-item group",attrs:{name:n}},[t("div",{staticClass:"animation-top",on:{click:function(t){return t.stopPropagation(),e.changeAnimationDetailPanelCase(e.currentActionListIndex,n)},mouseenter:function(t){return t.stopPropagation(),e.saveEnterItemIndex(i)},mouseleave:function(t){return t.stopPropagation(),e.delEnterItemIndex.apply(null,arguments)}}},[t("span",{staticClass:"action-target-name"},[e._v(e._s(i.name))]),t("div",{staticClass:"delete action-delete",on:{click:function(t){return t.stopPropagation(),e.deleteAnimation(i,n)}}},[t("el-icon",[t("DeleteIcon",{tag:"component"})],1)],1)]),t("transition",{attrs:{name:"animationedit"},on:{"before-enter":e.animeEditBeforeEnter,"after-enter":e.animeEditAfterEnter,enter:e.animeEditEnter,"before-leave":e.animeEditBeforeLeave,leave:e.animeEditLeave,"after-leave":e.animeEditAfterLeave}},[i.isExpandAnimePanel?t("div",{staticClass:"custom-animation-edit"},[t("div",{staticClass:"border-top-line"}),t("div",{staticClass:"custom-animation-content"},[t("div",{staticClass:"animation-item animation-in animation-edit-item"},[t("el-row",{staticClass:"anime-header",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-row",{staticClass:"anime-title",attrs:{type:"flex",align:"middle"}},[t("el-icon",{attrs:{size:16}},[t("EntranceIcon",{tag:"component"})],1),t("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_inAnimation",expression:"'rightPanel.action_inAnimation'"}]})],1),t("el-row",{staticClass:"anime-add",class:{isDisabled:!i.animations.in.isAlways},nativeOn:{click:function(t){return t.stopPropagation(),e.addInAnime(i.animations.in.isAlways,e.currentActionListIndex,n)}}},[t("el-icon",{attrs:{size:16}},[t("AddIcon",{tag:"component"})],1)],1)],1),i.animations.in.isAlways?e._e():t("div",{staticClass:"anime-change-button btn btn-white",attrs:{title:e.getInTitle(e.currentActionListIndex,n)},on:{click:function(t){return t.stopPropagation(),e.changeInAnime(e.currentActionListIndex,n)}}},[e._v(" "+e._s(e.$t(`${i.animations.in.type}_in_short.${i.animations.in.animeKey}`))+" "),t("div",{staticClass:"anime-change-button-delete",on:{click:function(t){return t.stopPropagation(),e.deleteInAnime(i)}}},[t("el-icon",[t("DeleteIcon",{tag:"component"})],1)],1)])],1),t("div",{staticClass:"border-top-line"}),t("div",{staticClass:"animation-middle-add-box"},[t("div",{staticClass:"animation-middle-box"},[t("el-row",{staticClass:"anime-header",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-row",{staticClass:"anime-title",attrs:{type:"flex",align:"middle"}},[t("el-icon",{attrs:{size:16}},[t("AttentionIcon",{tag:"component"})],1),t("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_middleAnimation",expression:"'rightPanel.action_middleAnimation'"}]})],1),t("el-row",{staticClass:"anime-add",attrs:{title:e.$t("rightPanel.action_clickToAdd")},nativeOn:{click:function(t){return t.stopPropagation(),e.addMiddleAnime(e.currentActionListIndex,n,i.animations.middle)}}},[t("el-icon",{attrs:{size:16}},[t("AddIcon",{tag:"component"})],1)],1)],1),t("draggable",e._b({attrs:{handle:".drag_icon"},on:{start:e.dragStart,end:e.dragEnd,change:e.midddleExchange},model:{value:i.animations.middle,callback:function(t){e.$set(i.animations,"middle",t)},expression:"animation.animations.middle"}},"draggable",e.dragOptions,!1),[t("transition-group",{attrs:{type:"transition",name:null}},e._l(i.animations.middle,(function(a,s){return t("div",{key:a.type+s,staticClass:"animation-item animation-middle animation-edit-item"},[t("div",{staticClass:"animation-middle-icon drag_icon"},[t("el-icon",{attrs:{size:14}},[t("RankIcon",{tag:"component"})],1)],1),t("div",{staticClass:"anime-change-button btn btn-white animation-middle",attrs:{title:e.getMiddleTitle(a)},on:{click:function(t){return t.stopPropagation(),e.changeMiddleAnime(e.currentActionListIndex,n,s)}}},[e._v(" "+e._s(e.$t(`${a.type}_middle_short.${a.animeKey}`))+" "),t("div",{staticClass:"anime-change-button-delete",on:{click:function(t){return t.stopPropagation(),e.deleteMiddleAnime(i,s)}}},[t("el-icon",[t("DeleteIcon",{tag:"component"})],1)],1)])])})),0)],1)],1)]),t("div",{staticClass:"border-top-line"}),t("div",{staticClass:"animation-item animation-out animation-edit-item"},[t("el-row",{staticClass:"anime-header",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-row",{staticClass:"anime-title",attrs:{type:"flex",align:"middle"}},[t("el-icon",{attrs:{size:16}},[t("ExitIcon",{tag:"component"})],1),t("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_outAnimation",expression:"'rightPanel.action_outAnimation'"}]})],1),t("el-row",{staticClass:"anime-add",class:{isDisabled:!i.animations.out.isAlways},nativeOn:{click:function(t){return t.stopPropagation(),e.addOutAnime(i.animations.out.isAlways,e.currentActionListIndex,n)}}},[t("el-icon",{attrs:{size:16}},[t("AddIcon",{tag:"component"})],1)],1)],1),i.animations.out.isAlways?e._e():t("div",{staticClass:"anime-change-button btn btn-white",attrs:{title:e.getOutTitle(e.currentActionListIndex,n)},on:{click:function(t){return t.stopPropagation(),e.changeOutAnime(e.currentActionListIndex,n)}}},[e._v(" "+e._s(e.$t(`${i.animations.out.type}_out_short.${i.animations.out.animeKey}`))+" "),t("div",{staticClass:"anime-change-button-delete",on:{click:function(t){return t.stopPropagation(),e.deleteOutAnime(i)}}},[t("el-icon",[t("DeleteIcon",{tag:"component"})],1)],1)])],1)]),t("div",{staticClass:"border-top-line"}),t("div",{staticClass:"action-visible-box"},[t("PropsSwitch",{attrs:{title:e.$t("rightPanel.action_actionHidden"),value:i.actIsHidden},on:{"update:value":function(t){return e.$set(i,"actIsHidden",t)},change:function(t){return e.changeHiddenCase(i)}},nativeOn:{mousedown:function(t){return e.saveBeforePage.apply(null,arguments)}}})],1)]):e._e()])],1)})),0):e._e(),e.isShowActionAminePanel?t("DragBox",{attrs:{title:"",tag:"anime",isAutoWidth:!0,hideCloseIcon:!0,dragbarPadding:25,initialPosition:"left",needToCloseFn:e.isColorPanelOpen,isShow:e.isShowActionAminePanel,zIndex:301},on:{"update:isShow":function(t){e.isShowActionAminePanel=t},"update:is-show":function(t){e.isShowActionAminePanel=t}}},[t("AnimePanel",{attrs:{panelTitle:e.dragBoxTitle,animatePanel:e.animatePanel,originalAnimeConfig:e.originalAnimeConfig,chooseCallback:e.applyAnime},on:{"update:animatePanel":function(t){e.animatePanel=t},"update:animate-panel":function(t){e.animatePanel=t}}})],1):e._e()],1)}),[],!1,null,"6eb993a2",null),P=f.exports},30771:function(e,t,i){i.d(t,{Z:function(){return r}});i(57658);var n=i(18023),a=i(49986),s=i.n(a),o=i(63037),l={name:"",props:{options:{type:Array,default:()=>[]},placeholder:{type:String,default:"",desc:"提示词"},selectName:{type:String,default:"",desc:"已选元素名称"}},data(){return{isSelecting:!1,selectList:[],isChange:!1,search:""}},computed:{visualOptions(){const e=new RegExp(this.search.trim(),"i");return this.options.filter((t=>e.test(t.name)))}},mounted(){const e=this.options.filter((e=>e.selected)).map((e=>e.id));this.selectList=e},watch:{options(e){const t=e.filter((e=>e.selected)).map((e=>e.id));this.selectList=t}},methods:{hideSelectPanel:function(e){if(this.isSelecting=!1,this.isChange&&!0===e)this.$emit("change",this.selectList),this.isChange=!1,this.selectList=[];else{const e=this.options.filter((e=>e.selected)).map((e=>e.id));this.selectList=e}},saveEnterItemIndex:function(e){this.$store.commit(n.x33,{index:e.index}),this.mouseEnterActionTargetIndex=e.index},delEnterItemIndex:function(){this.$store.commit(n.x33,{index:-1}),this.mouseEnterActionTargetIndex=-1},changeSelectCase(){this.isSelecting=!this.isSelecting},select(e){if(!e.disable)if(this.isChange=!0,this.selectList.includes(e.id)){const t=this.selectList.findIndex((t=>t===e.id));this.selectList.splice(t,1)}else this.selectList.push(e.id)},onSearch(e){this.search=e}},components:{EditorSecondMenuSearchInput:o.Z,SelectIcon:()=>i.e(8437).then(i.bind(i,28437))},directives:{ClickOutside:s()}},c=(0,i(1001).Z)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"SelectBox"},[t("div",{staticClass:"select-title animation-select",on:{click:function(t){return t.stopPropagation(),e.changeSelectCase.apply(null,arguments)}}},[t("p",{staticClass:"select-input",class:{placeholder:!e.selectName}},[e._v(" "+e._s(e.selectName?e.selectName:e.placeholder)+" "),e.selectName?e._e():t("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_selectMultiTarget",expression:"'rightPanel.action_selectMultiTarget'"}],staticClass:"multiple-choice"})]),t("span",{staticClass:"icon select-icon down",class:{up:e.isSelecting}})]),t("transition",{attrs:{name:"slide"}},[e.isSelecting?t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideSelectPanel,expression:"hideSelectPanel"}],staticClass:"select-group"},[t("div",{staticClass:"search_box"},[t("EditorSecondMenuSearchInput",{attrs:{keyword:e.search,placeholder:e.$t("rightPanel.SearchTarget"),showHistroy:!1},on:{"update-search":e.onSearch,"update:keyword":function(t){e.search=t}}})],1),t("div",{style:{height:"180px"}},[0!==e.visualOptions.length?t("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"select-stage"},[t("ul",e._l(e.visualOptions,(function(i){return t("li",{key:i.id,staticClass:"select-item",class:{isChoiced:e.selectList.includes(i.id),unChoiced:i.disable},on:{mouseenter:function(t){return t.stopPropagation(),e.saveEnterItemIndex(i)},mouseleave:function(t){return t.stopPropagation(),e.delEnterItemIndex.apply(null,arguments)},click:function(t){return t.stopPropagation(),e.select(i)}}},[t("div",{staticClass:"select_name"},[e._v(e._s(i.name))]),t("div",{staticClass:"check_icon"},[t("el-icon",[t("SelectIcon",{tag:"component"})],1)],1)])})),0)]):t("el-row",{staticClass:"no_data",attrs:{type:"flex",align:"middle"}},[t("img",{attrs:{src:i(58788),alt:""}}),e._t("noDateDesc",(function(){return[t("span",[e._v(e._s(e.$t("SecondMenuForSearch_vue.NoResultsFound")))])]}))],2)],1),e.search?e._e():t("p",{staticClass:"selectPanelConfirm editor_v2_white_btn",on:{click:function(t){return t.stopPropagation(),e.hideSelectPanel(!0)}}},[t("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_confirmEdit",expression:"'rightPanel.action_confirmEdit'"}]})])]):e._e()])],1)}),[],!1,null,"91b74c50",null),r=c.exports}}]);