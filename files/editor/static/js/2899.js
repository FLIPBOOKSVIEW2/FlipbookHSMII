"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[2899],{30771:function(t,e,i){i.d(e,{Z:function(){return l}});i(57658);var s=i(18023),n=i(49986),o=i.n(n),c=i(63037),a={name:"",props:{options:{type:Array,default:()=>[]},placeholder:{type:String,default:"",desc:"提示词"},selectName:{type:String,default:"",desc:"已选元素名称"}},data(){return{isSelecting:!1,selectList:[],isChange:!1,search:""}},computed:{visualOptions(){const t=new RegExp(this.search.trim(),"i");return this.options.filter((e=>t.test(e.name)))}},mounted(){const t=this.options.filter((t=>t.selected)).map((t=>t.id));this.selectList=t},watch:{options(t){const e=t.filter((t=>t.selected)).map((t=>t.id));this.selectList=e}},methods:{hideSelectPanel:function(t){if(this.isSelecting=!1,this.isChange&&!0===t)this.$emit("change",this.selectList),this.isChange=!1,this.selectList=[];else{const t=this.options.filter((t=>t.selected)).map((t=>t.id));this.selectList=t}},saveEnterItemIndex:function(t){this.$store.commit(s.x33,{index:t.index}),this.mouseEnterActionTargetIndex=t.index},delEnterItemIndex:function(){this.$store.commit(s.x33,{index:-1}),this.mouseEnterActionTargetIndex=-1},changeSelectCase(){this.isSelecting=!this.isSelecting},select(t){if(!t.disable)if(this.isChange=!0,this.selectList.includes(t.id)){const e=this.selectList.findIndex((e=>e===t.id));this.selectList.splice(e,1)}else this.selectList.push(t.id)},onSearch(t){this.search=t}},components:{EditorSecondMenuSearchInput:c.Z,SelectIcon:()=>i.e(8437).then(i.bind(i,28437))},directives:{ClickOutside:o()}},r=(0,i(1001).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"SelectBox"},[e("div",{staticClass:"select-title animation-select",on:{click:function(e){return e.stopPropagation(),t.changeSelectCase.apply(null,arguments)}}},[e("p",{staticClass:"select-input",class:{placeholder:!t.selectName}},[t._v(" "+t._s(t.selectName?t.selectName:t.placeholder)+" "),t.selectName?t._e():e("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_selectMultiTarget",expression:"'rightPanel.action_selectMultiTarget'"}],staticClass:"multiple-choice"})]),e("span",{staticClass:"icon select-icon down",class:{up:t.isSelecting}})]),e("transition",{attrs:{name:"slide"}},[t.isSelecting?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideSelectPanel,expression:"hideSelectPanel"}],staticClass:"select-group"},[e("div",{staticClass:"search_box"},[e("EditorSecondMenuSearchInput",{attrs:{keyword:t.search,placeholder:t.$t("rightPanel.SearchTarget"),showHistroy:!1},on:{"update-search":t.onSearch,"update:keyword":function(e){t.search=e}}})],1),e("div",{style:{height:"180px"}},[0!==t.visualOptions.length?e("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"select-stage"},[e("ul",t._l(t.visualOptions,(function(i){return e("li",{key:i.id,staticClass:"select-item",class:{isChoiced:t.selectList.includes(i.id),unChoiced:i.disable},on:{mouseenter:function(e){return e.stopPropagation(),t.saveEnterItemIndex(i)},mouseleave:function(e){return e.stopPropagation(),t.delEnterItemIndex.apply(null,arguments)},click:function(e){return e.stopPropagation(),t.select(i)}}},[e("div",{staticClass:"select_name"},[t._v(t._s(i.name))]),e("div",{staticClass:"check_icon"},[e("el-icon",[e("SelectIcon",{tag:"component"})],1)],1)])})),0)]):e("el-row",{staticClass:"no_data",attrs:{type:"flex",align:"middle"}},[e("img",{attrs:{src:i(58788),alt:""}}),t._t("noDateDesc",(function(){return[e("span",[t._v(t._s(t.$t("SecondMenuForSearch_vue.NoResultsFound")))])]}))],2)],1),t.search?t._e():e("p",{staticClass:"selectPanelConfirm editor_v2_white_btn",on:{click:function(e){return e.stopPropagation(),t.hideSelectPanel(!0)}}},[e("span",{directives:[{name:"t",rawName:"v-t",value:"rightPanel.action_confirmEdit",expression:"'rightPanel.action_confirmEdit'"}]})])]):t._e()])],1)}),[],!1,null,"91b74c50",null),l=r.exports},82899:function(t,e,i){i.r(e),i.d(e,{default:function(){return d}});i(57658),i(30541);var s=i(18023),n=i(1585),o=i(69773),c=i(76748),a=i(89951),r=(i(86790),{name:"ShowOrHideList",components:{SelectIcon:()=>i.e(8437).then(i.bind(i,28437)),DeleteIcon:()=>i.e(5376).then(i.bind(i,95376)),PropsSwitch:()=>Promise.resolve().then(i.bind(i,69361)),MoveToTop:()=>i.e(4679).then(i.bind(i,4679)),MoveUp:()=>i.e(2634).then(i.bind(i,49337)),MoveDown:()=>i.e(9258).then(i.bind(i,29258)),MoveToBottom:()=>i.e(4081).then(i.bind(i,44081)),InfoTipsIcon:()=>i.e(3352).then(i.bind(i,83352)),SelectBox:i(30771).Z},mixins:[n.Z],data(){return{showHideChoices:[{value:"hide",label:c.ag.t("rightPanel.action_hide")},{value:"show",label:c.ag.t("rightPanel.action_show")},{value:"showOrHide",label:c.ag.t("rightPanel.action_toggle")}],triggerModeOptions:[{value:0,label:c.ag.t("action_show_hide_20250313.text3")},{value:1,label:c.ag.t("action_show_hide_20250313.text4")}]}},computed:{mouseEnterActionTargetIndex:{get:function(){return this.$store.state.workSpace.mouseEnterActionTargetIndex},set:function(t){this.$store.state.workSpace.mouseEnterActionTargetIndex=t}},targetOptions:function(){let t=this.currentPageItems;const e=this.actionList[this.currentActionListIndex].event,i=this.showOrHideList.map((t=>t.id));let s=[];for(let n=0;n<t.length;n++)if("component"!==t[n].type){let c=JSON.parse(JSON.stringify(t[n]));c.animations.in.delay=0,this.checkoutNoSupportAnime(c.animations);let a={index:n,id:c.id,type:c.type,name:c.name,animations:c.animations,animationFiles:c.animationFiles,maskConfig:c.maskConfig,outEraseConfig:c.outEraseConfig,scrawlConfig:c.scrawlConfig,style:c.style,pathHeight:c.pathHeight,pathWidth:c.pathWidth,rotate:c.rotate,existEndTime:c.existEndTime,existStartTime:c.existStartTime};"svg"===c.type&&(a.svg=c.svg,a.gNode=c.gNode),"group"===c.type&&(a.items=c.items.slice(0)),i.includes(a.id)&&(a.selected=!0);for(let t=0;t<this.actionList.length;t++){let i=this.actionList[t].showOrHideList;for(let s=0;s<i.length;s++)i[s].id===a.id&&t!==this.currentActionListIndex&&this.actionList[t].event===e&&(a.disable=!0)}a=o.Z.getDefaultAnimeAction(a),s.push(a)}return s.reverse()},showOrHideList:{get(){return this.actionList[this.currentActionListIndex].showOrHideList},set(t){this.actionList[this.currentActionListIndex].showOrHideList=t}},selectName(){const t=this.showOrHideList;return t.length?1===t.length?t[0].name:c.ag.t("rightPanel.action_animationTargetSelected")+": "+t.length:""},triggerMode:{get:function(){return void 0===this.currentSelectedItem.showOrHideTriggerType?0:this.currentSelectedItem.showOrHideTriggerType},set:function(t){this.currentSelectedItem.showOrHideTriggerType=t}}},methods:{checkoutNoSupportAnime:function(t){let e=a.ck.getDefaultAnimation({});"path"!==t.in.type&&"scrawl"!==t.in.type&&"mask"!==t.in.type||(t.in=e.in),t.middle.length&&(t.middle=t.middle.filter((t=>"path"!==t.type))),"path"!==t.out.type&&"outErase"!==t.out.type&&"mask"!==t.out.type||(t.out=e.out)},saveEnterItemIndex:function(t){this.$store.commit(s.x33,{index:t.index}),this.mouseEnterActionTargetIndex=t.index},delEnterItemIndex:function(){this.$store.commit(s.x33,{index:-1}),this.mouseEnterActionTargetIndex=-1},isHasShowOrHideList:function(t){return this.isHasAction&&!!this.actionList[t].showOrHideList.length},choiceShowOrHide:function(t,e,i){this.saveBeforePage();const s=this.showHideChoices.find((t=>t.value===i));s&&(this.actionList[t].showOrHideList[e].showOrHideLabel=s.label),this.saveUndo()},resetShowOrHideFirstHideCheckbox:function(t,e){const i=this.actionList[t].showOrHideList[e],{realItem:s}=this.getItem(i),n=this.currentSelectedItem.actionList[t].showOrHideList[e].isActionHideCase;s.isActionHideCase=!!n},deleteShowOrHideItem:function(t,e){this.$store.commit(s.CjF);let{realItem:i}=this.getItem(this.actionList[t].showOrHideList[e]);i.isActionHideCase=!1,i.hiddenClickable=!1,this.actionList[t].showOrHideList.splice(e,1),this.$store.commit(s.N23,{canUndo:!0})},firstHideChange:function(t,e,i,n,o){let{realItem:c}=this.getItem(e);t?(c.isActionHideCase=!0,c.showOrHideIsFirstHide=!0,i.actionList[n].showOrHideList[o].isActionHideCase=!0):(c.isActionHideCase=!1,c.showOrHideIsFirstHide=!1,i.actionList[n].showOrHideList[o].isActionHideCase=!1),this.$store.commit(s.Du,{isAdd:c.isActionHideCase,setItem:this.currentSelectedItem,realItem:c,actionListIndex:n,showOrHideListIndex:o}),this.saveUndo()},setAnimateItem(t){this.$store.commit(s.CjF);const e=this.showOrHideList.map((t=>t.id));this.showOrHideList=this.showOrHideList.filter(((e,i)=>{if(!t.includes(e.id)){let{realItem:t}=this.getItem(e);t.isActionHideCase=!1,t.showOrHideIsFirstHide=!1,this.$store.commit(s.Du,{isAdd:t.isActionHideCase,setItem:this.currentSelectedItem,realItem:t,actionListIndex:this.currentActionListIndex,index:i})}return t.includes(e.id)}));const i=t.filter((t=>!e.includes(t)));this.targetOptions.forEach((t=>{i.includes(t.id)&&this.showOrHideList.push(t)})),this.$store.commit(s.N23,{canUndo:!0})},changeTriggerType:function(){this.$store.commit(s.CjF),this.$store.commit(s.N23,{canUndo:!0})},changeOrder:function(t,e,i){if(!t||e)return;this.$store.commit(s.CjF);let n=0;const o=this.actionList[this.currentActionListIndex].showOrHideList;switch(t){case"toTop":n=0;break;case"MoveUp":n=i-1;break;case"MoveDown":n=i+1;break;case"MoveToBottom":n=o.length-1}this.changePostion(i,n),this.$store.commit(s.N23,{canUndo:!0})},changePostion:function(t,e){const i=this.actionList[this.currentActionListIndex].showOrHideList,s=i[t],n=i[e];return 0===e?(i.splice(t,1),void i.unshift(s)):e===i.length-1?(i.splice(t,1),void i.push(s)):(i.splice(e,1,s),void i.splice(t,1,n))},changeHiddenClickable(t){this.currentSelectedItem.hiddenClickable=t,this.saveBeforePage(),this.saveUndo()}}}),l=(0,i(1001).Z)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ShowOrHideList"},[e("div",{staticClass:"action-group item-group",staticStyle:{"margin-bottom":"0px"}},[e("div",{staticClass:"group"},[e("span",{staticClass:"group-title"},[t._v(" "+t._s(t.$t("action_show_hide_20250313.text1"))+" ")]),e("SelectBox",{attrs:{options:t.targetOptions,selectName:t.selectName,placeholder:t.$t("rightPanel.action_selectAnimationTarget")},on:{change:t.setAnimateItem}}),e("span",{staticClass:"group-title trigger-mode-title"},[t._v(" "+t._s(t.$t("action_show_hide_20250313.text2"))+" ")]),e("el-select",{attrs:{"data-v":"v2","popper-class":"props-select-input-popper"},on:{change:t.changeTriggerType},model:{value:t.triggerMode,callback:function(e){t.triggerMode=e},expression:"triggerMode"}},t._l(t.triggerModeOptions,(function(t){return e("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),t.isHasShowOrHideList(t.currentActionListIndex)?e("div",{staticClass:"animation-content showOrHidePanel-content"},t._l(t.actionList[t.currentActionListIndex].showOrHideList,(function(i,s){return e("div",{key:s,staticClass:"animation-item showOrHidden-item animation-item-box",attrs:{name:s},on:{mouseenter:function(e){return e.stopPropagation(),t.saveEnterItemIndex(i)},mouseleave:function(e){return e.stopPropagation(),t.delEnterItemIndex.apply(null,arguments)}}},[e("el-row",{staticClass:"action-target-name",attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("span",{staticClass:"target-name",attrs:{title:t.actionList[t.currentActionListIndex].showOrHideList[s].name}},[t._v(t._s(t.actionList[t.currentActionListIndex].showOrHideList[s].name))]),e("el-row",{attrs:{type:"flex",align:"middle",justify:"middle"}},[1===t.triggerMode?e("el-row",{staticClass:"change-order",attrs:{type:"flex",align:"middle",justify:"middle"}},[e("div",{staticClass:"order-option",class:{"disabled-option":0===s},on:{click:function(e){return t.changeOrder("toTop",0===s,s)}}},[e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{"max-width":"300px"}},[t._v(" "+t._s(t.$t("action_show_hide_20250313.text5"))+" ")])]},proxy:!0}],null,!0)},[e("el-icon",{staticClass:"order-icon"},[e("MoveToTop",{tag:"component"})],1)],1)],1),e("div",{staticClass:"order-option",class:{"disabled-option":0===s},on:{click:function(e){return t.changeOrder("MoveUp",0===s,s)}}},[e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{"max-width":"300px"}},[t._v(" "+t._s(t.$t("action_show_hide_20250313.text6"))+" ")])]},proxy:!0}],null,!0)},[e("el-icon",{staticClass:"order-icon"},[e("MoveUp",{tag:"component"})],1)],1)],1),e("div",{staticClass:"order-option",class:{"disabled-option":t.actionList[t.currentActionListIndex].showOrHideList.length-1===s},on:{click:function(e){return t.changeOrder("MoveDown",t.actionList[t.currentActionListIndex].showOrHideList.length-1===s,s)}}},[e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{"max-width":"300px"}},[t._v(" "+t._s(t.$t("action_show_hide_20250313.text7"))+" ")])]},proxy:!0}],null,!0)},[e("el-icon",{staticClass:"order-icon"},[e("MoveDown",{tag:"component"})],1)],1)],1),e("div",{staticClass:"order-option",class:{"disabled-option":t.actionList[t.currentActionListIndex].showOrHideList.length-1===s},on:{click:function(e){return t.changeOrder("MoveToBottom",t.actionList[t.currentActionListIndex].showOrHideList.length-1===s,s)}}},[e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{"max-width":"300px"}},[t._v(" "+t._s(t.$t("action_show_hide_20250313.text8"))+" ")])]},proxy:!0}],null,!0)},[e("el-icon",{staticClass:"order-icon"},[e("MoveToBottom",{tag:"component"})],1)],1)],1)]):t._e(),e("div",{staticClass:"delete action-delete",on:{click:function(e){return e.stopPropagation(),t.deleteShowOrHideItem(t.currentActionListIndex,s)}}},[e("el-icon",[e("DeleteIcon",{tag:"component"})],1)],1)],1)],1),e("div",{staticClass:"border-top-line"}),e("el-select",{attrs:{"data-v":"v2","popper-class":"props-select-input-popper"},on:{change:function(e){return t.choiceShowOrHide(t.currentActionListIndex,s,e)}},model:{value:t.actionList[t.currentActionListIndex].showOrHideList[s].showOrHideType,callback:function(e){t.$set(t.actionList[t.currentActionListIndex].showOrHideList[s],"showOrHideType",e)},expression:"\n            actionList[currentActionListIndex].showOrHideList[aIndex]\n              .showOrHideType\n          "}},t._l(t.showHideChoices,(function(t){return e("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1),e("div",{staticClass:"border-top-line"}),e("div",{staticClass:"set-first-hide"},[e("PropsSwitch",{attrs:{title:t.$t("action_showOrHideList2023_02_13.text1"),value:t.currentSelectedItem.actionList[t.currentActionListIndex].showOrHideList[s].isActionHideCase},on:{"update:value":function(e){return t.$set(t.currentSelectedItem.actionList[t.currentActionListIndex].showOrHideList[s],"isActionHideCase",e)},change:e=>t.firstHideChange(e,t.actionList[t.currentActionListIndex].showOrHideList[s],t.currentSelectedItem,t.currentActionListIndex,s)}})],1),i.id===t.currentSelectedItem.id&&["showOrHide","show"].includes(t.actionList[t.currentActionListIndex].showOrHideList[s].showOrHideType)&&!0===t.actionList[t.currentActionListIndex].showOrHideList[s].isActionHideCase?e("el-row",{staticClass:"hiding-clickable-row",attrs:{type:"flex"}},[e("el-checkbox",{attrs:{"data-v":"v2"},on:{change:t.changeHiddenClickable},model:{value:t.actionList[t.currentActionListIndex].showOrHideList[s].hiddenClickable,callback:function(e){t.$set(t.actionList[t.currentActionListIndex].showOrHideList[s],"hiddenClickable",e)},expression:"\n              actionList[currentActionListIndex].showOrHideList[aIndex]\n                .hiddenClickable\n            "}},[e("el-row",{staticClass:"hiding-clickable"},[e("span",{staticClass:"hiding-clickable-text"},[t._v(t._s(t.$t("action_showOrHideList2023_02_13.clickableAfterHiding")))]),e("el-tooltip",{attrs:{"open-delay":800,placement:"top"}},[e("el-icon",{staticClass:"hiding-clickable-icon"},[e("InfoTipsIcon",{tag:"component"})],1),e("div",{staticClass:"hiding-clickable-tooltip",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("action_showOrHideList2023_02_13.selectThisOption"))+" ")])],1)],1)],1)],1):t._e()],1)})),0):t._e()])])}),[],!1,null,"5e3d7c0c",null),d=l.exports}}]);