"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[4529,1899,7713],{25710:function(t,e,o){o.r(e),o.d(e,{default:function(){return w}});var i=o(11201),l=o(10828),s=o(78758),n=o(80597),r=o(18023),a=o(66546),p=o(23448),c=o(46749),u=o(3956),x=o(13017),T=o(6208),y=o(57626),h=o(52948),S=o(56202),f={components:{PropGroup:i.default,DropdownForFontFamily:p.default,Dropdown:l.Z,TextStyleTooltip:s.Z,ColorPickerV2:n.default,TextRow:y.Z,CustomSelect:S.default},mixins:[c.j,T.j],data(){return{isShowTextStyleTooltip:!1,textStyleTooltip:"",textStyleTooltipPostion:{},textStyleTooltipArrowPosition:"left",toolTipTextOptions:{},allColor:""}},computed:{item:function(){return this.multiList.filter((t=>["text","table"].includes(t.type)))[0]},fontFamily:{get:function(){return this.item.innerTextStyle.fontFamily},set:function(t){this.getAssign({fontFamily:t})}},fontColor:function(){return[this.item.innerTextStyle.color]},selectionColor:function(){return this.$store.state.workSpace.selectionColor},fontSize:{get:function(){return parseInt(this.item.innerTextStyle.fontSize)},set:function(t){this.getAssign({fontSize:t+"px"})}},textAlign:{get:function(){return this.item.innerTextStyle.textAlign},set:function(t){this.getAssign({textAlign:t})}},textColorList:function(){let t=new Set;return this.multiList.filter((t=>["text","table"].includes(t.type))).forEach((e=>{let o=null;o=h.Z.hexToRgba(e.innerTextStyle.color,1),t.add(o)})),t},isTextSameColor:function(){return 1===this.textColorList.size}},mounted(){this.isTextSameColor&&(this.allColor=this.textColorList.values().next().value)},methods:{getAssign:function(t){this.$store.commit(r.GE1,{attribute:t,type:"text"})},showTextStyleTooltip:function(t,e,o,i={}){const l=window.innerWidth,{top:s,left:n,right:r,width:a}=t.target.getBoundingClientRect();this.textStyleTooltip=e,this.textStyleTooltipPostion={top:s,left:n,right:l-r,width:a},this.textStyleTooltipArrowPosition=o,this.isShowTextStyleTooltip=!0},getTypeValue:function({type:t,value:e,isUpload:o,isTeamResource:i}){this.setMultiInnerTextStyle({type:t,value:e,isUpload:o,isTeamResource:i})},setMultiInnerTextStyle:async function({type:t,value:e,isUpload:o,isTeamResource:i}){this.$store.commit(r.CjF),(0,x.K)({type:t,value:e,isUpload:o,isTeamResource:i}).finally((()=>{a.Q.$emit(a.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0}),this.$store.commit(r.N23,{canUndo:!0})}))},setMultiStyle:async function({type:t,value:e,isOnlyChangeTextColor:o}){this.$store.commit(r.CjF),(0,u.t)({type:t,value:e,isOnlyChangeTextColor:o}).then((()=>{this.$store.commit(r.N23,{canUndo:!0})}))},setFontColor:function({value:t}){this.allColor=t,this.setMultiStyle({type:"foreColor",value:t,isOnlyChangeTextColor:!0})},increaseSize:function(){let t=Number(this.fontSize)+1;this.setMultiInnerTextStyle({type:"fontSize",value:t})},decreaseSize:function(){let t=Number(this.fontSize)-1;t<12&&(t=12),this.setMultiInnerTextStyle({type:"fontSize",value:t})},setTextSize({value:t}){switch(t){case"decrease":this.decreaseSize();break;case"increase":this.increaseSize()}}}},w=(0,o(1001).Z)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"MultiTextBox multi-text-setting"},[e("PropGroup",{staticClass:"fontBasic",attrs:{title:"rightPanel.text_font"}},[e("el-row",{staticClass:"fontFamily"},[e("DropdownForFontFamily",{attrs:{type:"fontName",value:t.fontFamily,maxH:370},on:{getTypeValue:t.getTypeValue}})],1),e("el-row",[e("el-col",{staticClass:"selectColor",attrs:{span:5}},[e("div",{staticClass:"selectcolorRow"},[e("ColorPickerV2",{attrs:{color:t.allColor,changeCallback:t.setFontColor,isText:!0,isOtherColor:!0}})],1)]),e("el-col",{staticClass:"DropdownFontSize",attrs:{span:11}},[e("custom-select",{attrs:{"data-v":"v2","popper-class":"props-select-input-popper",value:t.fontSize,options:t.fontSizeOptions},on:{change:e=>t.getTypeValue({type:"fontSize",value:e})}})],1),e("TextRow",{attrs:{options:t.trunFontSizeOption,isSingle:!0,textStyleTooltipArrowPosition:"right"},on:{changeStyle:t.setTextSize}})],1),e("el-row",{staticClass:"text_row",attrs:{type:"flex"}},[e("TextRow",{attrs:{rowW:150,options:t.fontCssOption,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setMultiStyle}}),e("TextRow",{attrs:{styleType:"textAlign",rowW:150,options:t.textAlignOption,curSelect:t.textAlign,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setMultiInnerTextStyle}})],1)],1),e("TextStyleTooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTextStyleTooltip,expression:"isShowTextStyleTooltip"}],attrs:{tooltipText:t.textStyleTooltip,tooltipTextPostion:t.textStyleTooltipPostion,arrowPosition:t.textStyleTooltipArrowPosition}})],1)}),[],!1,null,"300f0fc3",null).exports},78758:function(t,e,o){o.d(e,{Z:function(){return l}});var i={name:"TextStyleTooltip",components:{},data(){return{tooltipTextStyle:{}}},mounted(){},methods:{setTooltipPosition:function(t){switch(this.arrowPosition){case"center":this.tooltipTextStyle={left:`${t.left+t.width/2}px`,top:`${t.top}px`};break;case"left":this.tooltipTextStyle={left:`${t.left}px`,top:`${t.top}px`};break;case"right":this.tooltipTextStyle={right:`${t.right}px`,top:`${t.top}px`}}}},computed:{},props:["tooltipText","tooltipTextPostion","arrowPosition","isCustomText","placement"],watch:{tooltipTextPostion:function(t){0!==Object.keys(t).length&&this.setTooltipPosition(t)}}},l=(0,o(1001).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{ref:"TextStyleTooltip",staticClass:"TextStyleTooltip",class:{"arrow-left":"left"===this.arrowPosition,"arrow-right":"right"===this.arrowPosition,"arrow-center":"center"===this.arrowPosition,"arrow-bottom":"bottom"===this.placement},style:t.tooltipTextStyle},[e("div",{staticClass:"text-style-tooltip"},[t.isCustomText?t._e():e("span",{staticClass:"tooltip-text-content"},[t._v(" "+t._s(t.tooltipText)+" ")]),t._t("custom-tooltip"),e("div",{ref:"tooltipArrow",staticClass:"tooltip-arrow"})],2)])}),[],!1,null,"031ee10c",null).exports},57626:function(t,e,o){o.d(e,{Z:function(){return r}});var i=o(78758);const l=o(81269);let s={};l.keys().forEach((t=>{const e=l(t),o=t.replace(/^\.\//,"").replace(/\.\w+$/,"");s[o]=e.default||e}));var n={name:"TextRow",props:{options:{type:Array,default:()=>[]},styleType:{type:String,default:""},curSelect:{},rowH:{type:Number,default:34,desc:"row的高度"},rowW:{type:Number,desc:"row的宽度"},textStyleTooltipArrowPosition:{type:String,default:"left",desc:"提示弹窗箭头位置"},isSingle:{type:Boolean,default:!1,desc:"是否为简易样式"},hasTooltip:{type:Boolean,default:!0,desc:"是否需要提示弹窗"}},data(){return{isShowTextStyleTooltip:!1,textStyleTooltip:"",textStyleTooltipPostion:""}},methods:{showTextStyleTooltip:function(t,e,o={}){if(!this.hasTooltip)return;const i=window.innerWidth,{top:l,left:s,right:n,width:r}=t.target.getBoundingClientRect();this.textStyleTooltip=e,this.textStyleTooltipPostion={top:l,left:s,right:i-n,width:r},this.isShowTextStyleTooltip=!0},setinnerTextStyle(t){this.$emit("changeStyle",{type:this.styleType||t.type,value:t.value})}},components:{...s,TextStyleTooltip:i.Z}},r=(0,o(1001).Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text_row",style:{"--row-height":`${t.rowH}px`,width:t.rowW?`${t.rowW}px`:"100%"}},[e("el-row",{staticClass:"fontCss",class:{single:t.isSingle},attrs:{type:"flex"}},t._l(t.options,(function(o,i){return e("div",{key:i,staticClass:"cssBox",class:{selected:t.curSelect&&t.curSelect===o.type},on:{click:function(e){return t.setinnerTextStyle(o)},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t(o.tooltips))},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e(o.icon,{tag:"component"})],1),o.text?e("div",{staticClass:"text"},[t._v(t._s(t.$t(o.text)))]):t._e()],1)})),0),e("TextStyleTooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTextStyleTooltip,expression:"isShowTextStyleTooltip"}],attrs:{tooltipText:t.textStyleTooltip,tooltipTextPostion:t.textStyleTooltipPostion,arrowPosition:t.textStyleTooltipArrowPosition}})],1)}),[],!1,null,"26b8fe99",null).exports}}]);