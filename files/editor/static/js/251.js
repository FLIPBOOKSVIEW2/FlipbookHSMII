"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[251],{81922:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});i(57658);var r=i(18023),s=i(64001),o=i(24118),n=i(11201),l=i(10067),a=i(93774),c=i(20015),u={name:"SkinPeelerPanel",data:function(){return{curxSameToneIndex:"",copySameTone:{},copyCurxSameToneIndex:"",copyCurItemGradientColorList:[],copyGradientColorList:[]}},props:["curxChangeObjIndex","cruxTone"],computed:{isPanelEnable:{get:function(){return this.$store.state.skinPeelerPicker.isPanelEnable},set:function(e){this.$store.state.skinPeelerPicker.isPanelEnable=e}},item:function(){return this.$store.getters.currentSelectedItem},curPageItems:function(){return this.$store.getters.currentPageItems},pages:function(){return this.$store.state.pagePanel.pages},currentPageIndex:function(){return this.$store.state.pagePanel.currentIndex},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},curxPreviewColor:function(){return function(e){let t=e.colorVal,i=e.colorInfo;if(~t.indexOf("url(#gradient")){let e=i.findIndex((e=>e.itemIndex===this.currentSelectedItemIndex&&e.groupIndex===this.currentSelectedGroupItemIndex)),r=0,s=0,o=-1;~e?(r=i[e].colorIndex,s=i[e].itemIndex,o=i[e].groupIndex):(r=i[0].colorIndex,s=i[0].itemIndex,o=i[0].groupIndex);let n=this.copyGradientColorList[s];~o&&(n=n[o]),t=c.Z.getGradientColorVal({gradientItem:n[r]})}return t}},perColorInToneList:function(){let e=[],t=this.cruxTone.colorList;return a.forEach(((i,r)=>{let s={},o={toneName:"",colorList:{}},n={},l=`tone${r+1}`,a=i;for(const e in t){let i={colorVal:"",colorInfo:[]},r=Number(e.slice(5));i.colorVal=a.colorListArr[r-1],i.colorInfo=t[e].colorInfo,n[e]=i}o.toneName=a.toneName,o.colorList=n,s[l]=o,e.push(s)})),e},previewToneTitle(){return function(e){return e.colorVal+", "+e.toneName+"色系"}}},watch:{},beforeMount:function(){},mounted:function(){this.copySameTone=o.Z.copy(this.cruxTone,!0),this.copyGradientColorList=this.getCopyGradientColorList(),this.getSameToneIndex(),this.scrolltoSelectTone(!1),document.addEventListener("keyup",this.keyUpEventFn,!0)},beforeDestroy:function(){document.removeEventListener("keyup",this.keyUpEventFn,!0)},methods:{getColorDataList:function(e,t){return e["tone"+(t+1)]},getCopyGradientColorList:function(){this.copyCurItemGradientColorList=o.Z.copy(this.item.gradientColorList,!0);let e=[];return this.curPageItems.forEach(((t,i)=>{if("group"===t.type){let i=[];t.items.forEach(((e,t)=>{i.push(o.Z.copy(e.gradientColorList))})),e.push(i)}else e.push(o.Z.copy(t.gradientColorList))})),e},getSameToneIndex:function(){this.perColorInToneList.forEach(((e,t)=>{let i=e["tone"+(t+1)];JSON.stringify(i.colorList)===JSON.stringify(this.cruxTone.colorList)&&(this.curxSameToneIndex=t,this.copyCurxSameToneIndex=t)}))},changeTone:function(e,t,i){let s=e.colorList,o=""!==this.curxSameToneIndex?this.perColorInToneList[this.curxSameToneIndex]:s,n=""!==this.curxSameToneIndex?o["tone"+(this.curxSameToneIndex+1)].colorList:s;if(i||(s=e["tone"+(t+1)].colorList),JSON.stringify(s)===JSON.stringify(n))return;this.$store.commit(r.CjF),this.curxSameToneIndex=t;let l="";for(const e in s){let t="";l=s[e];let i=l.colorVal;l.colorInfo.forEach(((e,s)=>{let o=e.colorIndex,n=e.itemIndex,l=e.groupIndex,a=this.curPageItems[n];~l&&(a=a.items[l]),0===i.indexOf("url(#gradient")&&(t=this.copyGradientColorList[n],~l&&(t=t[l])),this.$store.commit(r.Wro,{svgItem:a,index:o,svgColor:i,gradient:t[o]})}))}this.$nextTick((()=>{this.$store.commit(r.N23,{canUndo:!0})}))},keyUpEventFn:function(){let e=event||window.event,t=e.keyCode,i=this.curxSameToneIndex;switch(e.stopPropagation(),e.cancelBubble=!0,t){case 37:case 38:""===i?i=0:i-=1,i<0&&(i=this.perColorInToneList.length-1);break;case 39:case 40:""===i?i=0:i+=1,i>this.perColorInToneList.length-1&&(i=0)}37!==t&&38!==t&&39!==t&&40!==t||(this.changeTone(this.perColorInToneList[i],i),document.querySelector(".v-bar-wrap").focus(),this.scrolltoSelectTone(!0))},scrolltoSelectTone:function(e){setTimeout((()=>{let t=document.querySelector("#skinVBar .presetTone-wrap.active");t&&t.scrollIntoView({block:"center",behavior:e?"smooth":"auto"})}))}},components:{DragBox:l.default},directives:{}},h=i(1001),d=(0,h.Z)(u,(function(){var e=this,t=e._self._c;return t("DragBox",{attrs:{title:e.$t("SkinPeelerPanel_vue.text1"),secondTitle:e.$t("SkinPeelerPanel_vue.text2"),tag:"skinPeeler",customWidth:350,dragbarPadding:15,initialPosition:"right",isShow:e.isPanelEnable},on:{"update:isShow":function(t){e.isPanelEnable=t},"update:is-show":function(t){e.isPanelEnable=t}}},[t("div",{staticClass:"SkinPeelerPanel"},[t("div",{staticClass:"curx-container"},[t("div",{staticClass:"curxTone-wrap",on:{click:function(t){return e.changeTone(e.copySameTone,e.copyCurxSameToneIndex,!0)}}},e._l(e.copySameTone.colorList,(function(i,r){return t("div",{key:r,staticClass:"preview-wrap"},[t("div",{staticClass:"color-preview",style:{background:e.curxPreviewColor(i)},attrs:{title:e.curxPreviewColor(i)}})])})),0)]),t("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"v-bar-wrap",attrs:{tabindex:"0"}},[t("div",{staticClass:"vBarStyle",attrs:{id:"skinVBar"}},e._l(e.perColorInToneList,(function(i,r){return t("div",{key:r,staticClass:"presetTone-wrap",class:{active:e.curxSameToneIndex===r},on:{click:function(t){return e.changeTone(i,r)}}},e._l(e.getColorDataList(i,r).colorList,(function(s,o){return t("div",{key:o,staticClass:"preview-wrap"},[t("div",{staticClass:"color-preview",style:{background:s.colorVal},attrs:{title:e.previewToneTitle({colorVal:s.colorVal,toneName:e.getColorDataList(i,r).toneName})}})])})),0)})),0)])])])}),[],!1,null,"95eb7ee4",null).exports,g=i(55683),m={name:"SkinPeelerPicker",data:function(){return{tempPickerId:(0,g.K)()}},props:["width","sameTone","isWrongColor","color","hideArrow"],watch:{},computed:{skinPeelerPicker:function(){return this.$store.state.skinPeelerPicker},isPanelEnable:{get:function(){return this.skinPeelerPicker.isPanelEnable},set:function(e){this.skinPeelerPicker.isPanelEnable=e}},isCurxChoosePicker:function(){return this.pickerId===this.skinPeelerPicker.pickerId},pickerId:function(){return this.tempPickerId},pages:function(){return this.$store.state.pagePanel.pages},curPageItems:function(){return this.$store.getters.currentPageItems},currentSelectedItem:function(){return this.$store.getters.currentSelectedItem},currentPageIndex:function(){return this.$store.state.pagePanel.currentIndex},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},previewColor:function(){let e=this.color.colorInfo,t=o.Z.copy(this.isWrongColor?this.color:this.color.colorVal,!0);if(0===t.indexOf("url(#gradient")){let i=e.findIndex((e=>e.itemIndex===this.currentSelectedItemIndex&&e.groupIndex===this.currentSelectedGroupItemIndex));if(-1===i){let i=e[0].colorIndex,r=e[0].itemIndex,s=e[0].groupIndex,o=this.curPageItems[r];~s&&(o=o.items[s]),t=c.Z.getGradientColorVal({gradientItem:o.gradientColorList[i]})}else{let r=e[i].colorIndex;t=c.Z.getGradientColorVal({gradientItem:this.currentSelectedItem.gradientColorList[r]})}}return t}},methods:{showSkinPeelerPanel:function(){this.isWrongColor||setTimeout((()=>{this.skinPeelerPicker.pickerId!==this.pickerId?(this.skinPeelerPicker.pickerId=this.pickerId,this.$store.commit(r.Hff,{isShow:!0})):this.$store.commit(r.Hff,{isShow:!this.isPanelEnable})}),0)}},created:function(){},beforeDestroy:function(){},destroyed:function(){this.$store.commit(r.Hff,{isShow:!1})},mounted:function(){},components:{SkinPeelerPanel:d}},p=(0,h.Z)(m,(function(){var e=this,t=e._self._c;return t("div",{ref:"picker",staticClass:"SkinPeelerPicker",style:{width:e.width+"px"},on:{click:e.showSkinPeelerPanel}},[t("div",{staticClass:"preview-wrap"},[t("div",{staticClass:"color-preview",class:{hideArrow:e.hideArrow},style:{background:e.previewColor},attrs:{title:e.previewColor}}),t("span",{staticClass:"icon-arrow-down icon",class:{hideArrow:e.hideArrow}})]),e.isPanelEnable&&e.isCurxChoosePicker?t("SkinPeelerPanel",{attrs:{cruxTone:e.sameTone}}):e._e()],1)}),[],!1,null,"151f145f",null).exports,f=i(7871),x=i(11622),I=i(57144),v=i(67575),C=i(66546),P=i(46749),S=i(77170),k=i(94101),w=i(25979),y=i(87874),L=i(2759),$=i(66438),_={name:"PropsForSvg",mixins:[P.j,S.u],data:function(){return{color:"#FFBD4A",tempUrl:"",hasChangedUrl:!1,urlPrefixList:[{value:"http://",label:"http:"},{value:"https://",label:"https:"}],curxChangeObjIndex:0,curxChangeModeIndex:0,changeObjList:[this.$i18n.t("PropsForSvg_vue.text16"),this.$i18n.t("PropsForSvg_vue.text17")],changeModeList:[this.$i18n.t("PropsForSvg_vue.text18"),this.$i18n.t("PropsForSvg_vue.text19")]}},watch:{item:function(e){this.item.isThemePackage||(this.curxChangeObjIndex=0),this.curxChangeModeIndex=this.item.isThemePackage?1:0}},computed:{isFlipPro:function(){return this.$store.getters.isFlipPro},isBGI:{get:function(){return this.item.isBGI},set:function(e){this.item.isBGI=e}},isAdmin:function(){return this.$store.state.userData.isAdmin},isShowSingerColorList:function(){let e=this.multiList.every((e=>e.colorList.length===this.multiList[0].colorList.length));return!(!this.isMulti||!e)},item:function(){return this.isMulti?this.multiList[0]:this.$store.getters.currentSelectedItem},isQRCode:function(){return this.item.isQRCode},urlPrefix:{get:function(){return this.item.urlPrefix},set:function(e){this.item.urlPrefix=e}},singleColor:function(){return 1===this.item.colorList.length&&-1===this.$store.state.workSpace.currentSelectedGroupItemIndex&&"line"!==this.item.svgClass},qrcodeUrl:{get:function(){return this.item.qrcodeUrl},set:function(e){this.item.qrcodeUrl=e}},singleColorList:function(){let e=[];return e=this.item.isThemePackage?this.item.colorList:this.item.colorList.slice(0,$.Eh),e},colorList:{get:function(){return this.item.colorList},set:function(e){this.item.colorList=e}},isEnsure:function(){return this.item.isEnsure},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},isGroup:function(){if(!this.isMulti)return"group"===this.currentPageItems[this.currentSelectedItemIndex].type},toFramesWarning:function(){let e=this.item.svg.originViewBox,t=parseFloat(e.match(/-?\d.*\d/g)[0].split(" ")[2]),i=parseFloat(e.match(/-?\d.*\d/g)[0].split(" ")[3]),r=parseFloat(this.item.style.width),s=parseFloat(this.item.style.height);return Number((t/i).toFixed(3))!==Number((r/s).toFixed(3))},svgPickerColor:function(){return this.isMulti?function(e){let t=this.item.colorList[e];return 0===t.indexOf("url(#gradient")&&(t=this.item.gradientColorList[e]),t}:function(e){let t=this.$store.getters.currentSelectedItem.colorList[e];return 0===t.indexOf("url(#gradient")&&(t=this.$store.getters.currentSelectedItem.gradientColorList[e]),t}},currentPageItems:function(){return this.$store.getters.currentPageItems},itemsLength:function(){return this.currentPageItems.length},isSkinPanelEnable:function(){return this.$store.state.skinPeelerPicker.isPanelEnable},pages:function(){return this.$store.state.pagePanel.pages},curxPageItems:function(){return this.pages[this.currentPageIndex].items},currentPageIndex:function(){return this.$store.state.pagePanel.currentIndex},currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},skinPeelerColorList:function(){let e=[],t=[],i=[];return 1===this.curxChangeObjIndex?this.currentPageItems.forEach(((e,r)=>{"group"===e.type?e.items.forEach(((e,s)=>{e.isThemePackage&&(i=this.getNewOriginColorList({originColorList:e.originColorList,svgItemIndex:r,groupIndex:s}),i.forEach(((e,i)=>{let r=t.findIndex((t=>t.colorVal===e.colorVal));-1!==r?t[r].colorInfo.push(e.colorInfo[0]):t.push(e)})))})):e.isThemePackage&&(i=this.getNewOriginColorList({originColorList:e.originColorList,svgItemIndex:r}),i.forEach(((e,i)=>{let r=t.findIndex((t=>t.colorVal===e.colorVal));-1!==r?t[r].colorInfo.push(e.colorInfo[0]):t.push(e)})))})):t=this.getNewOriginColorList({originColorList:this.item.originColorList,svgItemIndex:this.currentSelectedItemIndex,groupIndex:this.currentSelectedGroupItemIndex}),e=I.Z.getSkinPeelerList({originColorList:t,page:this.pages[this.currentPageIndex]}),e},isYZPro:function(){return this.$store.getters.isYZPro},qrcodeGap:{get:function(){return this.item.qrcodeGap},set:function(e){const t=Number.parseFloat(e);if(t){const e=Number.parseFloat(this.item.style.width),i=Number.parseFloat(this.item.style.height),r=Math.min(e,i);this.item.qrcodeGap=t>=r/2?r/2:t}else this.item.qrcodeGap=0}},isQRCodeImg:{get:function(){return this.item.isQRCodeImg},set:function(e){this.item.isQRCodeImg=e}},isXZPro(){return this.$store.getters.isXZPro},pathAnime:function(){return this.$store.state.timeline.pathAnime},pathItemSelectedIndex:function(){return this.pathAnime.pathItemSelectedIndex},showFilter:function(){return-1===this.pathItemSelectedIndex&&(!this.isQRCode&&!!this.isXZPro)},isAsyncItem:function(){return this.item.isAsyncItem},isEditingPath:function(){return this.$store.state.timeline.pathAnime.isEditingPath},showReplaceBtn:function(){return!(-1!==this.currentSelectedGroupItemIndex&&!this.isEditingPath)},isFilterAndReplace:function(){return this.showFilter||!this.isMulti&&this.showReplaceBtn||this.isShowFavorite&&!this.isQRCode&&!this.item.shapeType}},methods:{replaceRes:function(){this.$store.commit(r.Ewg,{isPreview:!1}),this.$store.commit(r.eKS,{isShow:!0})},getNewOriginColorList:function({originColorList:e,svgItemIndex:t=-1,groupIndex:i=-1}={}){let r=[];return e.forEach(((e,s)=>{let o=[],n={};n.colorIndex=s,n.itemIndex=t,n.groupIndex=i,o.push(n);let l={};l.colorVal=e,l.colorInfo=o,r.push(l)})),o.Z.copy(r,!0)},checkUrl:function(){if(-1!==this.currentSelectedItemIndex){let e="";this.qrcodeUrl=this.qrcodeUrl.replace(/^(https?:)\/\//,(function(t,i){return e=t,""})),this.urlPrefix=e||this.urlPrefix;let t=this.urlPrefix+this.qrcodeUrl;this.tempUrl!==t?(this.tempUrl=t,this.hasChangedUrl=!0):this.hasChangedUrl=!1}},setSvgWidth({index:e,value:t,setAll:i}){this.$store.commit(r.vBC,{svgItem:this.item,index:e,svgWidth:t,setAll:i})},setSvgColor:function({svgItem:e,index:t,value:i,isAllPageSvg:s}){if(this.isMulti)return this.setMultiSvgColor({index:t,value:i});let o=s?e:this.item,n="",l="";"string"==typeof i?n=i:(n=`url(#gradient${o.id}${t})`,l={id:`gradient${o.id}${t}`,colorList:c.Z.getSortColorList({colorList:i.colorList}),isLinear:"linear"===i.gradientType,gradientType:i.gradientType,gradientDeg:i.gradientDeg}),this.$store.commit(r.Wro,{svgItem:o,index:t,svgColor:n,gradient:l})},setSingerColor:function({setSvgItem:e,index:t,value:i}){let s="",o="";"string"==typeof i?s=i:(s=`url(#gradient${e.id}${t})`,o={id:`gradient${e.id}${t}`,colorList:c.Z.getSortColorList({colorList:i.colorList}),isLinear:"linear"===i.gradientType,gradientType:i.gradientType,gradientDeg:i.gradientDeg}),this.$store.commit(r.Wro,{svgItem:e,index:t,svgColor:s,gradient:o})},setMultiSvgColor:function({index:e,value:t}){this.multiSettingCount.forEach((i=>{this.currentPageItems[i];"group"===this.currentPageItems[i].type?this.currentPageItems[i].items.forEach((i=>{let{type:r,svgClass:s}=i;"svg"===r&&"shape"===s&&this.setSingerColor({setSvgItem:i,index:e,value:t})})):this.setSingerColor({setSvgItem:this.currentPageItems[i],index:e,value:t})}))},chooseUrl:function({value:e}){this.urlPrefix=e,this.checkUrl()},canUndo(){this.$store.commit(r.N23,{canUndo:!0})},createQrcode:function(){if(this.$store.commit(r.CjF),this.hasChangedUrl){let e=this.item.style,t=this.item.animations,s=this.urlPrefix+this.qrcodeUrl,o=this.urlPrefix,n=this.qrcodeUrl,l=60,a=new(i(74798))({content:s,padding:0,width:l,height:l,color:this.colorList[1],background:this.colorList[0],ecl:"M"}).svg();const{isAsyncItem:c,isCustomPage:u,customPage:h,isAsyncGroupItem:d,asyncLot:g,asyncArray:m}=this.item;let p={isAsyncItem:c,isCustomPage:u,customPage:h,isAsyncGroupItem:d,asyncLot:g,asyncArray:m};a=a.replace(/"60">/g,'"60" viewBox="0 0 60 60">');let x=this.$store.state.workSpace.currentSelectedItemIndex;this.deleteItem(),this.$store.commit("ADD_ITEM",{item:new f.Z({svgCode:a,isQRCode:!0,style:e,animations:t,...p}),canUndo:!0});let I=this.itemsLength-1,v=x;I!==v&&this.$store.commit(r.Mk8,{from:I,to:v,notLayer:!0}),C.Q.$emit(C.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0}),this.$nextTick((()=>{this.urlPrefix=o,this.qrcodeUrl=n}))}},deleteItem:function(){let e=this.currentSelectedItemIndex,t=!!this.item.asyncLot;this.$store.commit(r.mNn,{index:e,isOnlyDelCurAsyncItem:t})},keyboardEnter:function(){this.checkUrl(),this.createQrcode()},toFrames:function(){this.$store.commit(r.CjF);let e=this.item.svg.originViewBox,t=this.item.svgCode,i=parseFloat(e.match(/-?\d.*\d/g)[0].split(" ")[2]),s=parseFloat(e.match(/-?\d.*\d/g)[0].split(" ")[3]),o=parseFloat(this.item.style.width),n=parseFloat(this.item.style.height),l=0,a=0;if(i/s!=o/n){let e=i/s;o<n?(l=o+"px",a=o/e+"px"):(a=n+"px",l=n*e+"px")}else a=n+"px",l=o+"px";let c={type:"frames",containerList:[x.Z.getColorList({svgCode:t,fillNone:!0}).svgString],viewBox:e,containerInFor:[{x:0,y:0,w:i,h:s}],hasFillSvg:!1,style:{top:this.item.style.top,left:this.item.style.left,width:l,height:a},fileName:this.item.fileName,jsonUrl:`${this.$store.getters.resourceHost}/resourceFiles/editor/image/${this.item.fileName}`,animations:this.item.animations},u=this.$store.state.workSpace.currentSelectedItemIndex;this.$store.commit(r.mNn,{index:u}),this.$store.commit(r.dmy,{index:-1}),this.$store.commit("ADD_ITEM",{item:new v.Z(c)});let h=this.itemsLength-1,d=u;h!==d&&this.$store.commit(r.Mk8,{from:h,to:d,notLayer:!0}),C.Q.$emit(C.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0}),this.$store.commit(r.ro0,{svgIndex:-1}),this.$store.commit(r.N23,{canUndo:!0})},resetSvgColor:function(){if(this.$store.commit(r.CjF),1===this.curxChangeObjIndex)this.curxPageItems.forEach((e=>{"vector"===e.svgClass&&e.isThemePackage&&(s.default.set(e,"colorList",o.Z.copy(e.originColorList,!0)),e.colorList.forEach(((t,i)=>{this.setSvgColor({svgItem:e,value:t,index:i,isAllPageSvg:!0})})))}));else{if(this.isMulti)return this.multiSettingCount.forEach((e=>{"group"===this.currentPageItems[e].type?this.currentPageItems[e].items.forEach((e=>{s.default.set(e,"colorList",o.Z.copy(e.originColorList,!0))})):s.default.set(this.currentPageItems[e],"colorList",o.Z.copy(this.currentPageItems[e].originColorList,!0))})),void this.colorList.forEach(((e,t)=>{this.setSvgColor({value:e,index:t})}));s.default.set(this.item,"colorList",o.Z.copy(this.item.originColorList,!0)),this.colorList.forEach(((e,t)=>{this.setSvgColor({value:e,index:t})}))}this.$store.commit(r.N23,{canUndo:!0})},changeColorObj:function(e){this.curxChangeObjIndex=e,1===e&&this.changeColorMode(1)},changeColorMode:function(e){1!==this.curxChangeObjIndex||0!==e?this.curxChangeModeIndex=e:this.$message({message:this.$i18n.t("PropsForSvg_vue.text20"),type:"warning",duration:2e3})},toBGI:function(e){this.$store.commit(r.CjF);let t=this.item.svg.originViewBox.split(" "),i=t[2],s=t[3],o=this.$store.state.workSpace.canvas.page,n=o.originalWidth,l=o.originalHeight,a=0,c=0,u=l/s,h=n/i,d=this.$store.getters.bgWHStyle,g=d.width,m=d.height,p=i/s;if(u>=h?(a=m,c=m*p):(a=g/p,c=g),e){this.item.svg.svgViewBox=this.item.svg.originViewBox,this.item.svg.lastViewBox=this.item.svg.originViewBox,this.item.pathViewBox=this.item.svg.originViewBox,this.item.gNode.transform=this.item.gNode.transform.replace(/scale\(.*?\)/,"scale(1, 1)"),this.item.pathTransform=this.item.gNode.transform,this.item.CID&&(this.item.CID=0);let e=this.currentSelectedItemIndex;if(this.$store.commit(r.g5N,{item:this.item,deg:0}),0!==e&&this.currentPageItems[0].isBGI){let t=this.currentPageItems[0].animations;this.item.animations=t,this.$store.commit(r.mNn,{index:0}),e-=1}if(0!==e){let t=e,i=0;this.$store.commit(r.Mk8,{from:t,to:i,selectBG:!0})}let t=(l-a)/2,i=(n-c)/2;this.$store.commit(r.veJ,{item:this.currentPageItems[0],width:c,height:a,top:t,left:i}),this.$store.commit(r.N23,{canUndo:!0})}else{u>=h?(a=s*n*.4/i,c=.4*n):(a=.4*l,c=i*l*.4/s);let e=this.$store.getters.newItemStyle,t=e.suitableTop+(e.suitableHeight-a)/2,o=e.suitableLeft+(e.suitableWidth-c)/2;this.$store.commit(r.veJ,{item:this.item,width:c,height:a,top:t,left:o}),this.$store.commit(r.N23,{canUndo:!0})}this.$store.commit(r.omO.this.item)},setBackground(){this.isBGI=!this.isBGI,this.toBGI(this.isBGI)}},mounted:function(){this.curxChangeModeIndex=this.item.isThemePackage?1:0,this.tempUrl=this.urlPrefix+this.qrcodeUrl},components:{PropGroup:n.default,ResourceReplace:k.Z,SkinPeelerPicker:p,colorPublicUtils:c.Z,SvgItem:f.Z,ImageToOriginRatio:w.Z,ImageToOriginSize:y.Z,ResourceFavorite:L.Z,PropsSelectInput:()=>Promise.resolve().then(i.bind(i,7603)),PropsInput:()=>i.e(9706).then(i.bind(i,49706)),PropsColor:()=>i.e(4124).then(i.bind(i,14124)),FilterVue:()=>i.e(3369).then(i.bind(i,43369))}},b=(0,h.Z)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"PropsForSvg"},[e.isFilterAndReplace?t("PropGroup",[!e.isMulti&&e.showReplaceBtn?t("ResourceReplace"):e._e(),t("el-tooltip",{attrs:{content:e.$t("PropsForSvg_vue.text15"),disabled:!e.toFramesWarning,"open-delay":800}},[e.item.isPainted&&"shape"===e.item.shapeType&&!e.isMulti?t("div",{staticClass:"btn btn-white",on:{click:e.toFrames}},[t("span",[e._v(e._s(e.$t("PropsForSvg_vue.text14")))])]):e._e()]),!e.isShowFavorite||e.isQRCode||e.item.shapeType?e._e():t("ResourceFavorite"),e.showFilter?t("FilterVue",{attrs:{"show-black-filter":!1,"show-recover":!1}}):e._e()],1):e._e(),t("PropGroup",[t("ImageToOriginSize",{attrs:{disabled:e.isBGI}}),t("ImageToOriginRatio",{attrs:{disabled:e.isBGI}})],1),e.isQRCode&&!e.isMulti?t("PropGroup",{attrs:{title:"rightPanel.svg_qrCodeUrl"}},[t("PropsSelectInput",{attrs:{list:e.urlPrefixList,headValue:e.urlPrefix,contValue:e.qrcodeUrl},on:{"update:headValue":function(t){e.urlPrefix=t},"update:head-value":function(t){e.urlPrefix=t},"update:contValue":function(t){e.qrcodeUrl=t},"update:cont-value":function(t){e.qrcodeUrl=t},keyEnter:e.keyboardEnter,input:e.checkUrl}}),t("div",{staticClass:"btn btn-white qrcode-btn",on:{click:e.createQrcode}},[e._v(" "+e._s(e.$t("PropsForSvg_vue.text1"))+" ")])],1):e._e(),e.isGroup||e.isQRCode||e.isMulti||e.isAsyncItem?e._e():t("PropGroup",{attrs:{title:"rightPanel.image_toBGI"}},[t("el-checkbox",{attrs:{"data-v":"v2"},on:{change:e.toBGI},model:{value:e.isBGI,callback:function(t){e.isBGI=t},expression:"isBGI"}},[e._v(e._s(e.$t("rightPanel.image_toBGI")))])],1),e.isYZPro&&e.isQRCode?t("PropGroup",{staticClass:"qrcode-setting",attrs:{title:"propsForSvg2023_08_09.text1"}},[t("PropsInput",{attrs:{settingValue:e.qrcodeGap,title:e.$t("propsForSvg2023_08_09.text2"),prefix:"px"},on:{"update:settingValue":function(t){e.qrcodeGap=t},"update:setting-value":function(t){e.qrcodeGap=t},change:e.canUndo}}),t("div",{staticClass:"to-qrcode-image"},[t("el-checkbox",{attrs:{"data-v":"v2"},on:{change:e.canUndo},model:{value:e.isQRCodeImg,callback:function(t){e.isQRCodeImg=t},expression:"isQRCodeImg"}},[t("span",[e._v(e._s(e.$t("propsForSvg2023_08_09.text3")))])])],1)],1):e._e(),!e.isMulti&&e.item.isAiSvg?t("PropGroup",{scopedSlots:e._u([{key:"title",fn:function(){return[t("el-row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-row",[t("span",[e._v(e._s(e.$t("rightPanel.svg_widthPick")))])]),[t("div",{staticClass:"btn btn-white resetBtn",on:{click:function(t){return e.setSvgWidth({setAll:!0})}}},[e._v(" "+e._s(e.$t("PropsForSvg_vue.text3"))+" ")])]],2)]},proxy:!0}],null,!1,3761983134)},[t("div",{staticClass:"flex flex-col gap-y-2.5"},e._l(e.item.strokeWidthList,(function(i,r){return t("PropsInput",{key:r,attrs:{title:e.$t("PropsForTransShape_vue.text1")+(r+1),settingValue:i,prefix:"px",min:1},on:{input:function(t){return e.setSvgWidth({index:r,value:t})}}})})),1)]):e._e(),!e.isMulti||e.isShowSingerColorList?t("PropGroup",{scopedSlots:e._u([{key:"title",fn:function(){return[t("el-row",{staticStyle:{width:"100%"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-row",[t("span",[e._v(e._s(e.$t("rightPanel.svg_colorPick")))]),e.isQRCode||e.item.isThemePackage?t("el-tooltip",{staticClass:"item",attrs:{placement:"top","open-delay":800}},[t("span",{staticClass:"color-title-tips",attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.item.isThemePackage?e.$t("PropsForSvg_vue.text4"):e.$t("PropsForSvg_vue.text13")))]),t("i",{staticClass:"el-icon-warning-outline el-icon-notice pluginVideo-textarea",staticStyle:{"font-size":"14px"}})]):e._e()],1),e.isQRCode||e.item.isPainted?e._e():[t("div",{staticClass:"btn btn-white resetBtn",on:{click:e.resetSvgColor}},[e._v(" "+e._s(e.$t("PropsForSvg_vue.text3"))+" ")])]],2)]},proxy:!0}],null,!1,1745169937)},[e.item.isThemePackage&&!e.isMulti?t("div",{staticClass:"changeColor-wrap"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("PropsForSvg_vue.text5")))]),t("div",{staticClass:"changeObjWrap"},e._l(e.changeObjList,(function(i,r){return t("el-radio",{key:r,class:{isActive:e.curxChangeObjIndex===r},attrs:{"data-v":"v2",label:r},on:{click:function(t){return e.changeColorObj(r)}},model:{value:e.curxChangeObjIndex,callback:function(t){e.curxChangeObjIndex=t},expression:"curxChangeObjIndex"}},[e._v(" "+e._s(i)+" ")])})),1)]):e._e(),e.item.isThemePackage&&!e.isMulti?t("div",{staticClass:"changeColor-wrap"},[t("span",{staticClass:"label"},[e._v(e._s(e.$t("PropsForSvg_vue.text6")))]),t("div",{staticClass:"changeObjWrap"},e._l(e.changeModeList,(function(i,r){return t("el-radio",{key:r,class:{isActive:e.curxChangeModeIndex===r},attrs:{"data-v":"v2",label:r},on:{click:function(t){return e.changeColorMode(r)}},model:{value:e.curxChangeModeIndex,callback:function(t){e.curxChangeModeIndex=t},expression:"curxChangeModeIndex"}},[e._v(" "+e._s(i)+" ")])})),1)]):e._e(),0===e.curxChangeModeIndex&&!e.isMulti||e.isShowSingerColorList?t("div",{staticClass:"singleColor-container"},[0===e.colorList.length?t("p",[e._v(" "+e._s(e.$t("PropsForSvg_vue.text7"))+" ")]):e._e(),e._l(e.singleColorList,(function(i,r){return t("div",{key:r,staticClass:"color_row"},[t("PropsColor",{attrs:{title:e.isQRCode?0===r?e.$t("PropsForSvg_vue.text8"):e.$t("PropsForSvg_vue.text9"):e.$t("rightPanel.svg_color")+(r+1),color:e.svgPickerColor(r),changeCallback:({value:t})=>{e.setSvgColor({value:t,index:r})},hasGradient:!0}})],1)}))],2):e._e(),0===e.curxChangeModeIndex||e.isMulti?e._e():t("div",{staticClass:"skinPeeler-container"},[e._l(e.skinPeelerColorList.classifyColorData,(function(i,r){return t("div",{key:r,staticClass:"skinPeeler-wrap"},[t("div",{staticClass:"tone-title",attrs:{title:e.$t("PropsForSvg_vue.text10")}},[e._v(" "+e._s(i.toneName)+" ")]),t("div",{staticClass:"pickerWrap"},e._l(i.colorList,(function(e,r){return t("span",{key:r,staticClass:"skinPeeler"},[t("SkinPeelerPicker",{attrs:{color:e,sameTone:i}})],1)})),0)])})),0!==e.skinPeelerColorList.wrongColorData.length?t("el-row",{staticClass:"wrongColorData-wrap",attrs:{type:"flex",align:"center"}},[t("p",{staticClass:"tips"},[e._v(e._s(e.$t("PropsForSvg_vue.text11")))]),e._l(e.skinPeelerColorList.wrongColorData,(function(i,r){return t("div",{key:r},[t("PropsColor",{attrs:{title:e.$t("PropsForSvg_vue.text12")+(r+1),color:i,isWrongColor:!0}})],1)}))],2):e._e()],2)]):e._e()],1)}),[],!1,null,"4e0c668b",null).exports}}]);