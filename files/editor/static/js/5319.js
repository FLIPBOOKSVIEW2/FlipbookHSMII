"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[5319],{25319:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});i(57658);var s=i(62797),n=i(18023),a=i(94414),l=i(11201),r=i(24118),o=i(66546),c=i(74463),p=i(12915),u=i(46749),d=i(1001),h=(0,d.Z)({},(function(){var t=this._self._c;return t("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M0 5C0 4.44772 0.447715 4 1 4H9C9.55228 4 10 4.44772 10 5C10 5.55228 9.55228 6 9 6H1C0.447716 6 0 5.55228 0 5Z",fill:"#888888"}}),t("path",{attrs:{d:"M5 10C4.44772 10 4 9.55228 4 9V1C4 0.447715 4.44772 0 5 0C5.55228 0 6 0.447715 6 1V9C6 9.55228 5.55228 10 5 10Z",fill:"#888888"}})])}),[],!1,null,null,null).exports,g=(0,d.Z)({},(function(){var t=this._self._c;return t("svg",{attrs:{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M0.38462 1.15385C0.172203 0.941429 0.172203 0.597033 0.38462 0.384616C0.597038 0.172198 0.941434 0.172198 1.15385 0.384616L7.61539 6.84615C7.8278 7.05857 7.8278 7.40297 7.61538 7.61538C7.40297 7.8278 7.05857 7.8278 6.84615 7.61538L0.38462 1.15385Z",fill:"#333333"}}),t("path",{attrs:{d:"M7.61538 1.15385C7.8278 0.941428 7.8278 0.597033 7.61538 0.384616C7.40296 0.172198 7.05857 0.172198 6.84615 0.384616L0.384615 6.84615C0.172198 7.05857 0.172198 7.40297 0.384615 7.61538C0.597032 7.8278 0.941429 7.8278 1.15385 7.61538L7.61538 1.15385Z",fill:"#333333"}})])}),[],!1,null,null,null).exports,f={name:"PropsForSwiper",mixins:[p.S,u.j],data(){return{fristList:["autoplay","addPagination","addChangeBtn","centeredSlides","zoom","direction","grabCursor","freeMode","loop","mousewheel","addScrollbar","rightToLeft"],isUploadingParallaxBg:!1}},computed:{uploadData:function(){return(0,c.Al)({})},uploadInterface:function(){return`${this.$store.getters.host}/${a.C.uploadTemporaryResource}`},uploadPanelUploadAcceptArr:function(){return this.$store.getters.uploadPanelUploadAccept},uploadPanelUploadAcceptString:function(){return this.uploadPanelUploadAcceptArr.map((t=>{if("json"!==t)return`.${t}`})).join(",")},item:function(){return this.$store.getters.currentSelectedItem},swiperOpts:function(){return this.item.swiperOpts},sliderFill:function(){return this.swiperOpts.sliderFill},isShowOtherSetting(){const t=[];return this.fristList.forEach((e=>{Reflect.has(this.swiperOpts,e)&&t.push(e)})),0!==t.length},isYZPro:function(){return this.$store.getters.isYZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},paginationOption:function(){return[{desc:"普通圆点",label:this.$t("newSwiperStyle_20250612.text1"),value:0},{desc:"动态圆点",label:this.$t("newSwiperStyle_20250612.text2"),value:1},{desc:"页码显示（x/y）",label:this.$t("newSwiperStyle_20250612.text3"),value:2},{desc:"数字序号（①②③）",label:this.$t("newSwiperStyle_20250612.text4"),value:3}]},paginationOptionStyle:{get:function(){const t={dynamicBullets:1,fraction:2,renderBullet:3};for(const[e,i]of Object.entries(t))if(this.swiperOpts[e])return i;return 0},set:function(t){Object.assign(this.swiperOpts,{0:{dynamicBullets:!1,fraction:!1,renderBullet:!1},1:{dynamicBullets:!0,fraction:!1,renderBullet:!1},2:{dynamicBullets:!1,fraction:!0,renderBullet:!1},3:{dynamicBullets:!1,fraction:!1,renderBullet:!0}}[t]),this.change()}},parallaxBackground:{get:function(){return void 0===this.swiperOpts.parallaxBackgroundImage?{url:"",name:"",isNewFile:!1,uid:""}:this.swiperOpts.parallaxBackgroundImage},set:function(t){void 0===this.swiperOpts.parallaxBackgroundImage&&(this.swiperOpts.parallaxBackgroundImage={url:"",name:"",isNewFile:!1,uid:""}),this.swiperOpts.parallaxBackgroundImage=t}}},methods:{deleteItem:function(t){this.sliderFill.splice(t,1),this.change()},changeItemIndex:function(t,e){if(t+e<0||t+e>this.sliderFill.length-1)return;let i=this.sliderFill.splice(t,1)[0],s=t+e;this.sliderFill.splice(s,0,i),this.change()},setSliderBgColor:function(t){this.swiperOpts.sliderBgColor=t.value,this.change()},setPaginationColor:function(t){this.swiperOpts.paginationColor=t.value,this.change()},setChangeBtnColor:function(t){this.swiperOpts.changeBtnColor=t.value,this.change()},showIndexEdit:function(t){this.sliderFill[t].isShowIndexEdit=!0},hideIndexEdit:function(t){this.sliderFill[t].isShowIndexEdit=!1},returnIsHasProps(t){if(void 0!==this.swiperOpts[t])return!0},change:function(){this.swiperOpts.nodeUpdate+=1,this.$store.commit(n.N23,{canUndo:!0})},beforeUpload:function(t){this.sliderFill.push({medium:"image",url:"",name:"",noUploaded:!0,isNewFile:!1,isShowIndexEdit:!1,uid:t.uid})},handleUploadSuccessCallback:function(t,e){return(0,s.p)(t).then((i=>{if(this.sliderFill.length>0&&this.sliderFill[0].uid===e.uid){const t=i.width,e=i.height;if(t/e>1.5){const i=parseFloat(String(this.item.style.width))*e/t;this.$store.commit(n.veJ,{item:this.item,height:i})}else{const i=parseFloat(String(this.item.style.height))*t/e;this.$store.commit(n.veJ,{item:this.item,width:i})}}const s=this.sliderFill.find((t=>t.uid===e.uid));s&&(s.url=t,s.isNewFile=!0,s.name=r.Z.getPathFilename(t),delete s.noUploaded,this.change())}))},uploadSuccess:function(t,e){1===Number(t.status)&&this.handleUploadSuccessCallback(t.filePath||t.fileSrc,e)},clickUploadBtn:function(){setTimeout((()=>{this.$refs.uploadSwiperBtn.click()}))},replaceRes(){this.$store.commit(n.Ewg,{isPreview:!1}),this.$store.commit(n.eKS,{isShow:!0})},addImgFromLibrary:function(){this.$store.commit(n.$8l,{menu:"image"}),this.$store.commit(n.xZf,{firstType:"image",secType:"upload-image"}),this.$store.commit(n.DyG,{isSelecting:!0,swiperItem:this.item,swiperItemIndex:this.$store.state.workSpace.currentSelectedItemIndex})},setPaginationTextColor:function(t){this.swiperOpts.paginationTextColor=t.value,this.change()},parallaxBgBeforeUpload:function(t){this.swiperOpts.parallax=!0,this.parallaxBackground.uid=t.uid,this.isUploadingParallaxBg=!0},parallaxBgUploadSuccess:function(t,e,i){this.parallaxBackground.url=t.filePath||t.fileSrc,this.parallaxBackground.name=r.Z.getPathFilename(this.parallaxBackground.url),this.parallaxBackground.isNewFile=!0,this.isUploadingParallaxBg=!1,this.change()},deleteParallaxBg:function(){this.parallaxBackground.url="",this.parallaxBackground.name="",this.parallaxBackground.isNewFile=!1,this.parallaxBackground.uid="",this.change()},parallaxBgUploadError:function(){this.isUploadingParallaxBg=!1},clickParallaxUploadBtn:async function(){await this.$nextTick(),this.$refs.ParallaxUploadBtn.click()}},mounted:function(){o.Q.$on(o.Y.DB_CLICK_SWIPER_ITEM,this.clickUploadBtn)},beforeMount:function(){o.Q.$off(o.Y.DB_CLICK_SWIPER_ITEM)},components:{PropGroup:l.default,UploadButtonIcon:h,DeleteIcon:g,PropsColor:()=>i.e(4124).then(i.bind(i,14124)),PropsInput:()=>i.e(9706).then(i.bind(i,49706))}},w=(0,d.Z)(f,(function(){var t=this,e=t._self._c;return e("div",[e("PropGroup",{staticClass:"replace_box"},[!t.isMulti&&t.showReplaceBtn?e("ResourceReplace"):t._e(),e("el-upload",{staticClass:"props_el-upload-width100",attrs:{action:`${t.uploadInterface}`,"show-file-list":!1,multiple:!0,data:t.uploadData,"on-success":t.uploadSuccess,"before-upload":t.beforeUpload,accept:t.uploadPanelUploadAcceptString}},[e("button",{ref:"uploadSwiperBtn",staticClass:"btn btn-white ctrl-btn"},[t._v(" "+t._s(t.$t("propsForSwiper_20250620.text6"))+" ")])]),t.isYZPro||t.isH5Pro?e("div",{staticClass:"upload-images btn btn-white ctrl-btn",on:{click:t.addImgFromLibrary}},[t._v(" "+t._s(t.$t("propsForSwiper_20250620.text1"))+" ")]):t._e(),t.sliderFill.length?e("div",{staticClass:"img-list"},t._l(t.sliderFill,(function(i,s){return e("div",{key:s,staticClass:"img-item",on:{mouseover:function(e){return t.showIndexEdit(s)},mouseleave:function(e){return t.hideIndexEdit(s)}}},[i.noUploaded?e("div",{staticClass:"loading"},[e("i",{staticClass:"el-icon-loading"})]):t._e(),i.url?e("div",{staticClass:"img-show",style:{backgroundImage:`url(${i.url})`}}):t._e(),i.isShowIndexEdit?e("div",{staticClass:"index-edit"},[e("el-row",{staticClass:"h-inde-edit",attrs:{type:"flex",justify:"space-between"}},[e("div",{staticClass:"index-edit-btn left-btn",on:{click:function(e){return e.stopPropagation(),t.changeItemIndex(s,-1)}}},[e("span",{staticClass:"icon left-btn-icon"})]),e("div",{staticClass:"index-edit-btn right-btn",on:{click:function(e){return e.stopPropagation(),t.changeItemIndex(s,1)}}},[e("span",{staticClass:"icon right-btn-icon"})])]),e("el-row",{staticClass:"v-inde-edit",attrs:{type:"flex",justify:"space-between"}},[e("div",{staticClass:"index-edit-btn top-btn",on:{click:function(e){return e.stopPropagation(),t.changeItemIndex(s,-2)}}},[e("span",{staticClass:"icon top-btn-icon"})]),e("div",{staticClass:"index-edit-btn bottom-btn",on:{click:function(e){return e.stopPropagation(),t.changeItemIndex(s,2)}}},[e("span",{staticClass:"icon bottom-btn-icon"})])]),e("div",{staticClass:"index-delete-btn",on:{click:function(e){return e.stopPropagation(),t.deleteItem(s)}}},[e("span",{staticClass:"icon index-delete-icon"})])],1):t._e()])})),0):t._e()],1),e("PropGroup",{attrs:{title:"PropsPanle_new.Slideshow.Settings"}},[t.returnIsHasProps("slidesPerView")?e("PropsInput",{attrs:{title:t.$t("swiper.slidesPerView"),settingValue:t.swiperOpts.slidesPerView},on:{input:t.change,"update:settingValue":function(e){return t.$set(t.swiperOpts,"slidesPerView",e)},"update:setting-value":function(e){return t.$set(t.swiperOpts,"slidesPerView",e)}}}):t._e(),t.returnIsHasProps("spaceBetween")?e("PropsInput",{attrs:{title:t.$t("swiper.spaceBetween"),settingValue:t.swiperOpts.spaceBetween,prefix:"px"},on:{input:t.change,"update:settingValue":function(e){return t.$set(t.swiperOpts,"spaceBetween",e)},"update:setting-value":function(e){return t.$set(t.swiperOpts,"spaceBetween",e)}}}):t._e(),t.returnIsHasProps("sliderBgColor")?e("PropsColor",{attrs:{title:t.$t("swiper.sliderBgColor"),color:t.swiperOpts.sliderBgColor,changeCallback:t.setSliderBgColor}}):t._e(),e("el-row",{staticClass:"parallax-background-setting",attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("span",{staticClass:"setting-title"},[t._v(" "+t._s(t.$t("newSwiperStyle_20250612.text6"))+" ")]),e("el-row",{staticClass:"upload-content"},[t.parallaxBackground.url&&!t.isUploadingParallaxBg?e("el-row",{staticClass:"preview-content",attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("img",{staticClass:"preview-img",attrs:{src:t.parallaxBackground.url},on:{click:t.clickParallaxUploadBtn}}),e("el-row",{staticClass:"delete-icon",attrs:{type:"flex",align:"middle",justify:"center"},nativeOn:{click:function(e){return t.deleteParallaxBg.apply(null,arguments)}}},[e("DeleteIcon")],1)],1):e("el-row",{staticClass:"parallax-background-upload",class:{"disabled-upload":t.isUploadingParallaxBg},attrs:{type:"flex",align:"middle",justify:"center"}},[t.isUploadingParallaxBg?e("el-row",{staticClass:"parallax-background-loading",attrs:{type:"flex",align:"middle",justify:"center"}},[e("i",{staticClass:"el-icon-loading"})]):t._e(),t.parallaxBackground.url||t.isUploadingParallaxBg?t._e():e("el-row",{staticClass:"parallax-upload-button",attrs:{type:"flex",align:"middle",justify:"center"},nativeOn:{click:function(e){return t.clickParallaxUploadBtn.apply(null,arguments)}}},[e("UploadButtonIcon")],1)],1),e("el-upload",{attrs:{hidden:"",action:`${t.uploadInterface}`,"show-file-list":!1,multiple:!1,disabled:t.isUploadingParallaxBg,data:t.uploadData,"before-upload":t.parallaxBgBeforeUpload,"on-success":t.parallaxBgUploadSuccess,"on-error":t.parallaxBgUploadError,accept:t.uploadPanelUploadAcceptString}},[e("button",{ref:"ParallaxUploadBtn",staticClass:"btn btn-white ctrl-btn"})])],1)],1)],1),t.isShowOtherSetting?e("PropGroup",{staticClass:"otherSetting",attrs:{title:"PropsPanle_new.Slideshow.OtherSettings"}},[t._l(t.fristList,(function(i){return[t.returnIsHasProps(i)?e("div",{key:i,staticClass:"checkedbox"},[e("el-checkbox",{attrs:{"data-v":"v2"},on:{change:t.change},model:{value:t.swiperOpts[i],callback:function(e){t.$set(t.swiperOpts,i,e)},expression:"swiperOpts[item]"}},[t._v(t._s(t.$t(`swiper.${i}`))+" "),"centeredSlides"===i?e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{width:"185px"}},[t._v(" "+t._s(t.$t("swiper.centerViewTips"))+" ")])]},proxy:!0}],null,!0)},[e("i",{staticClass:"el-icon-info"})]):t._e()],1),"autoplay"===i&&t.swiperOpts.autoplay?e("el-row",{staticClass:"secondSetting"},[e("PropsInput",{attrs:{title:t.$t("swiper.delayTime"),settingValue:t.swiperOpts.delayTime,prefix:"s"},on:{input:t.change,"update:settingValue":function(e){return t.$set(t.swiperOpts,"delayTime",e)},"update:setting-value":function(e){return t.$set(t.swiperOpts,"delayTime",e)}}})],1):t._e(),"addPagination"===i&&t.swiperOpts.addPagination?e("el-row",{staticClass:"secondSetting"},[e("PropsColor",{attrs:{title:t.$t("swiper.paginationBtnColor"),color:t.swiperOpts.paginationColor,changeCallback:t.setPaginationColor}})],1):t._e(),"addPagination"===i&&t.swiperOpts.addPagination?e("el-row",{staticClass:"secondSetting pagination-setting"},[e("el-radio-group",{staticClass:"pagination-option",model:{value:t.paginationOptionStyle,callback:function(e){t.paginationOptionStyle=e},expression:"paginationOptionStyle"}},[t._l(t.paginationOption,(function(i){return e("el-radio",{key:i.value,attrs:{"data-v":"v2",label:i.value,title:i.label},on:{change:t.saveUndo},nativeOn:{mousedown:function(e){return t.saveBeforePage.apply(null,arguments)}}},[t._v(t._s(i.label))])})),3===t.paginationOptionStyle?e("el-row",{staticClass:"number-dots-color"},[e("PropsColor",{attrs:{title:t.$t("newSwiperStyle_20250612.text5"),color:t.swiperOpts.paginationTextColor,changeCallback:t.setPaginationTextColor}})],1):t._e()],2)],1):t._e(),"addChangeBtn"===i&&t.swiperOpts.addChangeBtn?e("el-row",{staticClass:"secondSetting"},[e("PropsColor",{attrs:{title:t.$t("swiper.ctrlBtnColor"),color:t.swiperOpts.changeBtnColor,changeCallback:t.setChangeBtnColor}})],1):t._e()],1):t._e()]}))],2):t._e()],1)}),[],!1,null,"4afd38a4",null),m=w.exports},94101:function(t,e,i){i.d(e,{Z:function(){return r}});var s=i(18023),n=i(76748),a={name:"ResourceReplace",props:{text:{type:String,default:n.ag.t("propsForEffect.changeMaterial")}},data(){return{}},computed:{currentSelectedItem:function(){return this.$store.getters.currentSelectedItem}},methods:{intoReplaceMode(){if(this.currentSelectedItem.isAsyncItem)return this.$message.warning(this.$t("asyncItem_20240318.text4"));this.$store.commit(s.Ewg,{isPreview:!1}),this.$store.commit(s.eKS,{isShow:!0})}},components:{ReplaceIcon:()=>i.e(4210).then(i.bind(i,74210))}},l=(0,i(1001).Z)(a,(function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.intoReplaceMode.apply(null,arguments)}}},[e("el-icon",{staticStyle:{"margin-right":"5px"},attrs:{size:14}},[e("ReplaceIcon")],1),t._v(" "+t._s(t.text)+" ")],1)}),[],!1,null,"cc0535a6",null),r=l.exports},12915:function(t,e,i){i.d(e,{S:function(){return o}});var s=i(18023),n=i(94101),a={name:"ResourceTopGroup",data(){return{}},computed:{pathAnime:function(){return this.$store.state.timeline.pathAnime},pathItemSelectedIndex:function(){return this.pathAnime.pathItemSelectedIndex},item:function(){return-1!==this.pathItemSelectedIndex?this.$store.getters.currentSelectedPathItem:this.$store.getters.currentSelectedItem},isXZPro:function(){return this.$store.getters.isXZPro},isMulti:function(){return this.$store.getters.isMulti}},methods:{intoReplaceMode(){this.$store.commit(s.Ewg,{isPreview:!1}),this.$store.commit(s.eKS,{isShow:!0})},searchBeLike:function(){this.$store.commit(s.$8l,{menu:"material"}),this.isShowSearchPanel=!0,setTimeout((()=>{eventBus.$emit(busType.SEARCH_SIMILARITY,this.item.name)}),500)}},components:{PropGroup:i(11201).default}},l=(0,i(1001).Z)(a,(function(){var t=this,e=t._self._c;return e("PropGroup",{attrs:{itemId:t.item.id}},[t.isMulti?t._e():[e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.intoReplaceMode.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("propsForEffect.changeMaterial"))+" ")]),t.isXZPro?e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.searchBeLike.apply(null,arguments)}}},[t._v(" 搜索相似 ")]):t._e(),t.isXZPro?e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.searchBeLike.apply(null,arguments)}}},[t._v(" 收藏 ")]):t._e()],t._t("default")],2)}),[],!1,null,"5e160046",null),r=l.exports;const o={components:{ResourceReplace:n.Z,ResourceTopGroup:r},replaceRes:function(){this.$store.commit(s.Ewg,{isPreview:!1}),this.$store.commit(s.eKS,{isShow:!0})},computed:{currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},isEditingPath:function(){return this.$store.state.timeline.pathAnime.isEditingPath},showReplaceBtn:function(){return!(-1!==this.currentSelectedGroupItemIndex&&!this.isEditingPath)},isXZPro:function(){return this.$store.getters.isXZPro}}}}}]);