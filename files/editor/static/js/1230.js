"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[1230],{49434:function(e,r,t){t.r(r),t.d(r,{default:function(){return l}});var o=t(48589),s=t(7986),a=t(28671),i=t(43232),c=t(73145),n={name:"ResourceInfoPanel",props:{materialType:{type:String,default:""},resource:{type:Object,desc:"数据信息"},isHtml:{type:Boolean,default:!1,desc:"是否要用v-html渲染数据"},index:{type:Number,default:0}},data(){return{resourceTool:null,popoverResource:null}},mounted(){this.resourceTool=new c.E(this.isXZPro?0:1,36,this.project)},computed:{isShowCollect(){const e=this.resource.type,r=this.resource.svgClass;return("svg"!==e||"shape"!==r)&&"transShape"!==e&&"baseShape"!==e&&!["chart","eChart"].includes(e)},isXZPro:function(){return this.$store.getters.isXZPro}},methods:{addLikeRes(e){if(!e.id)return;const r="component"===this.materialType;e.isFavorite="1"===e.isFavorite?"0":"1";const t="1"===e.isFavorite?"素材收藏成功，可到<span style='cursor:pointer;text-decoration: underline;'>【素材库-收藏素材】</span>中查看！":"取消收藏成功！";(0,i.dE)({tool:this.resourceTool,systemResource:e,message:t,isComponent:r})},formatInfo(e){let r="";r=(0,a.K)({item:e,type:this.materialType}),"chart"===this.materialType&&(e.chartCode&&-1!==e.chartCode.chartClass.indexOf("柱状图")&&(r=this.$t("ResourceCardNew.BarChart")),e.chartCode&&-1!==e.chartCode.chartClass.indexOf("折线图")&&(r=this.$t("ResourceCardNew.LineChart")),e.chartCode&&-1!==e.chartCode.chartClass.indexOf("饼图")&&(r=this.$t("ResourceCardNew.PieChart"))),"eChart"===this.materialType&&(e.chartCode&&-1!==e.chartCode.chartClass.indexOf("柱状图")&&(r=this.$t("ResourceCardNew.BarChart")),e.chartCode&&-1!==e.chartCode.chartClass.indexOf("折线图")&&(r=this.$t("ResourceCardNew.LineChart")),e.chartCode&&-1!==e.chartCode.chartClass.indexOf("饼图")&&(r=this.$t("ResourceCardNew.PieChart")));const{name:t,author:o,isPixabay:i,originalUrl:c,originalOfficialWeb:n,id:l,localId:u,isFavorite:d,totalTime:p}=e;let h="",f=(0,s.A)(p);const C=e.newTime;return h="number"==typeof C?e.newTimeFormat?e.newTimeFormat:new Date(Number(C)).toLocaleString():e.updateTime||e.newTime,new s.k({newTime:h,totalTime:f,classify:r,name:this.isXZPro?"":t,author:o,keywords:e.resourceInfo,isPixabay:i,originalUrl:c,originalOfficialWeb:n,type:"resource",id:l||u,isFavorite:d})},updatePop(e){this.$nextTick((()=>{this.$refs.resourceCardRef[e].updatePopper()}))},popoverShow(e){this.popoverResource=e},popoverHide(e){e.localId===this.popoverResource.localId&&(this.popoverResource=null)}},components:{ResourceCardNew:o.Z}},l=(0,t(1001).Z)(n,(function(){var e=this,r=e._self._c;return r("el-row",{staticClass:"resource_info_panel",attrs:{type:"flex",justify:"space-between"}},[r("el-row",{staticClass:"resource_operate_top",attrs:{type:"flex",justify:"end",align:"start"}},[r("el-popover",{ref:"resourceCardRef",attrs:{placement:e.index%2==0?"bottom":"bottom-end",teleported:!1,width:"200","visible-arrow":!1,"popper-class":"resource_popover"},on:{show:function(r){return e.popoverShow(e.resource)},hide:function(r){return e.popoverHide(e.resource)}}},[r("el-row",{staticClass:"resource_more",class:{moreVisible:e.popoverResource&&e.popoverResource.localId===e.resource.localId},attrs:{slot:"reference",type:"flex",justify:"center",align:"middle"},slot:"reference"},[r("i",{staticClass:"el-icon-more"})]),r("el-row",{staticClass:"resource_info"},[r("ResourceCardNew",{attrs:{"resource-info":e.formatInfo(e.resource),"show-collect-btn":e.isXZPro&&e.isShowCollect},on:{"add-like":r=>e.addLikeRes(e.resource),"update-pop":function(r){return e.updatePop(e.index)}}},[r("el-row",{staticClass:"e_pb_15"})],1)],1)],1)],1)],1)}),[],!1,null,"6a72f2dc",null).exports}}]);