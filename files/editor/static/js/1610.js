"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[1610],{11610:function(t,s,i){i.r(s),i.d(s,{default:function(){return u}});var e=i(1585),o=i(66546),n=i(18023),p=i(83683),r={name:"PopupMsg",components:{},mixins:[e.Z],data(){return{}},mounted(){this.curActionListIndex=this.currentActionListIndex,o.Q.$on(`CONFIRM_POPUP_MSG_OPTS_${this.curActionListIndex}`,(()=>{this.setPopupMsgOpts()}))},beforeDestroy(){o.Q.$off(`CONFIRM_POPUP_MSG_OPTS_${this.curActionListIndex}`)},computed:{isPreviewMode:{get:function(){return this.$store.state.topHeader.isPreviewMode},set:function(t){this.$store.state.topHeader.isPreviewMode=t}},isShowPopupMsgEditor:{get:function(){return this.$store.state.rightPanel.isShowPopupMsgEditor},set:function(t){this.$store.state.rightPanel.isShowPopupMsgEditor=t}},popupMsgTempOpts:{get:function(){return this.$store.state.rightPanel.popupMsgTempOpts},set:function(t){this.$store.state.rightPanel.popupMsgTempOpts=t}},curActionListIndex:{get:function(){return this.$store.state.rightPanel.curActionListIndex},set:function(t){this.$store.state.rightPanel.curActionListIndex=t}}},methods:{setPopupMsgOpts:function(){this.popupMsgTempOpts.editored=!0;let t=0;this.actionList[this.curActionListIndex].popupMsg.newTime&&(t=this.actionList[this.curActionListIndex].popupMsg.newTime),this.actionList[this.curActionListIndex].popupMsg=JSON.parse(JSON.stringify(this.popupMsgTempOpts)),this.popupMsgTempOpts.editored&&this.saveUndo(),this.popupMsgTempOpts={},this.actionList[this.curActionListIndex].popupMsg.newTime=t,this.$store.commit(n.nFE,{unSavedStatus:!0,isUpdatePage:!0}),this.isShowPopupMsgEditor=!1},isHasPopMsg:function(t){return this.isHasAction&&!!Object.keys(this.actionList[t].popupMsg).length},popupMsgEditor:async function(t,s){this.isPreviewMode&&(this.isPreviewMode=!1,await new Promise((function(t,s){setTimeout((()=>{t(!0)}),100)}))),this.saveBeforePage(),this.popupMsgTempOpts={titleProps:{bgColor:"#333940",fontColor:"#ffffff",content:"",fontFamily:"",fontSize:15,textAlign:"left",elements:[],...t.titleProps},contentProps:new p.$(t.contentProps),windowWH:{maxW:375,maxH:160,...t.windowWH},imageOpts:{isAddImage:!1,imageUrl:"",name:"",imgPosition:0,isNewFile:!0,imgW:86,imgH:86,isClock:!0,...t.imageOpts},btnOpts:{isAddBtn:!1,btnText:"",bgColor:"#333940",fontColor:"#ffffff",btnLink:"",btnLinkHead:"https://",isClickClose:!0,...t.btnOpts}},this.curActionListIndex=s,this.isShowPopupMsgEditor=!0}}},u=(0,i(1001).Z)(r,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"PopupMsg group"},[s("div",{staticClass:"action-group item-group"},[s("div",{staticClass:"btn btn-white editor-btn",on:{click:function(s){return t.popupMsgEditor(t.actionList[t.currentActionListIndex].popupMsg,t.currentActionListIndex)}}},[t._v(" "+t._s(t.$t("popupMessage.editorMsg"))+" ")])])])}),[],!1,null,"aa707dbe",null).exports}}]);