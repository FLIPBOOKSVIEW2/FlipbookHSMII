(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[7208],{94782:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var i={name:"EditorSecondMenuTabs",props:{tabs:{type:Array,default:function(){return[]}},height:{type:Number,default:32},selectedTabType:{type:String,default:""}},data(){return{}},computed:{tabHeight(){return this.height},tabSelectedType(){return this.selectedTabType}},methods:{selectTab(e){this.tabSelectedType!==e.type&&(e.disable?this.$emit("tab-disabled-selected",e):this.$emit("tab-selected",e))}}},a=(0,s(1001).Z)(i,(function(){var e=this,t=e._self._c;return t("el-row",{staticClass:"editor_sec_menu_tabs",style:{height:e.tabHeight+"px"}},[t("el-row",{staticClass:"tabs_list",attrs:{type:"flex",align:"middle",justify:"center"}},[e._l(e.tabs,(function(s){return[s.isShow?e._e():t("span",{key:s.type,staticClass:"tab",class:{tab_selected:s.type===e.tabSelectedType,tab_not_allow:s.disable},on:{click:function(t){return e.selectTab(s)}}},[e._v(" "+e._s(s.tKey?e.$t(s.tKey):s.label)+" "),e._t(`slot-${s.type}`)],2)]}))],2)],1)}),[],!1,null,"2db8a61d",null).exports},97208:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return W}});s(57658);var i=s(18023),a=s(99519),r=s(63037),n=s(94782),o=s(58866),l=s(33917),c=s(43232),d=s(16382),u=s(10972),h=s(24118),m=s(30098),p=s(73264),g=s(68394),f=s(63722),y=s(37052),_=s(66741),v=s(66546),S=s(36208),b=s(13638),w=s(4306),x={name:"Gif",data(){return{startTime:0,time:0,gridsStyle:{sourceSize:{width:0,height:0},background:{url:"",x:0,y:0},size:{width:0,height:0},width:0,height:0,left:0,top:0}}},props:["item"],watch:{time:function(){if(!this.item.config)return;let e=new w.Z({grids:[this.item.config.grids],url:[this.item.config.url]});this.gridsStyle=e.get({time:(this.time-this.startTime)/1e3,totalTime:this.item.config.duration,gridsIndex:0})}},created:function(){this.start()},mounted:function(){},updated:function(){},beforeDestroy:function(){this.stop()},computed:{spriteStyle:function(){return{width:`${parseInt(this.gridsStyle.width)}px`,height:`${parseInt(this.gridsStyle.height)}px`,left:`${parseInt(this.gridsStyle.left)}px`,top:`${parseInt(this.gridsStyle.top)}px`,background:`url(${this.gridsStyle.background.url}) ${-parseInt(this.gridsStyle.background.x)}px ${-parseInt(this.gridsStyle.background.y)}px no-repeat`,position:"absolute"}}},methods:{start:function(){let e=this;this.startTime=(new Date).getTime(),this.interval=window.setInterval((function(){e.time=(new Date).getTime()}),40)},stop:function(){this.startTime=0,window.clearInterval(this.interval)}},components:{},directives:{}},I=s(1001),T=(0,I.Z)(x,(function(){var e=this._self._c;return e("div",{staticClass:"sprite-container"},[e("div",{style:this.spriteStyle})])}),[],!1,null,"4b04e96a",null).exports,C=s(37389),P=s(61632),$=s(12377);const k=s(52811);let M={};k.keys().forEach((e=>{const t=k(e),s=e.replace(/^\.\//,"").replace(/\.\w+$/,"");M[s]=t.default||t}));var L={name:"",props:{resource:{type:String,desc:"元素类型"},item:{type:[Object,String],desc:"元素"},index:{type:Number,desc:"元素索引"},elementPadding:{type:String,desc:"内边距"},isPixabayElement:{type:Boolean,default:!1},isSearchMode:{type:Boolean,default:!1}},data(){return{yzGetMinLevelId:b.gu,imageStatus:new Map,getItemStyle:$.gI}},watch:{isSearchMode(){}},computed:{isH5Pro:function(){return this.$store.getters.isH5Pro},isFlipPro:function(){return this.$store.getters.isFlipPro},isXZPro:function(){return this.$store.getters.isXZPro},isYZPro:function(){return this.$store.getters.isYZPro},uType:function(){return this.$store.state.userData.uType},resourceLimit:function(){return this.$store.getters.resourceLimit},isLoading:function(){return void 0!==this.item.isLoadingRes&&this.item.isLoadingRes},imgUrl(){return this.isH5Pro&&"transparent"===this.resource&&!this.isSearchMode?s(5174)(`./${this.item.url_shot}`):this.item.url_shot||this.item.url},isShowLevelXZ(){return"actions"!==this.resource&&("transShape"!==this.item.type&&("character"===this.resource?this.uType<this.item.limitVersion:this.uType<this.item.range))}},methods:{getMinLevelId(e){switch(this.resource){case"button":return{type:"button"};case"fontIcon":return{type:"fontIcon"};case"swiper":return{type:"swiper",swiperType:e.swiperType};case"widgets":return{type:e.value};case"character":return{type:"sprite",spriteId:e.id};default:return{type:"resource",resRange:Number(e.range)}}},isShowLevel(e){switch(this.resource){case"button":return!this.$store.getters.buttonLimit[this.uType];case"fontIcon":return!this.$store.getters.fontIconLimit[this.uType];case"swiper":return!this.$store.getters.slideShowTypeLimit[this.uType].includes(e.swiperType);case"widgets":return e.isShowLevel;case"character":return!this.$store.getters.characterMapUType[this.uType].includes(e.id);default:return!this.resourceLimit.includes(Number(e.range))}},showSecondList(e,t){this.$emit("showSecondList",e,t)}},components:{...M,Gif:T,loadBgImage:C.Z,LoadingSkeletonBox:P.default}},R=(0,I.Z)(L,(function(){var e=this,t=e._self._c;return t("el-skeleton",{staticClass:"element_skeleton",attrs:{loading:e.isLoading,animated:"",throttle:200}},[t("template",{slot:"template"},[t("el-skeleton-item",{staticClass:"element_skeleton-text-item",staticStyle:{width:"100%",height:"100%"},attrs:{variant:"image"}})],1),t("el-row",{staticClass:"card_item",style:{padding:e.elementPadding},attrs:{type:"flex",align:"middle",justify:"center"}},["widgets"===e.resource?[t("div",{staticClass:"widgets_box"},[t("div",{staticClass:"widgets_icon"},[t("el-icon",[t(e.item.icon,{tag:"component"})],1)],1),t("div",{staticClass:"widgets_name"},[e._v(" "+e._s(e.item.tKey?e.$t(e.item.tKey):e.item.label)+" ")])])]:"button"===e.resource?[t("div",{staticClass:"defalut-btn",attrs:{id:`system_button_${e.item.localId}`}},[t("div",{staticClass:"default-style",style:[e.item.buttonFont,e.item.buttonBackground]},[t("i",{staticClass:"defult-icon",class:e.item.buttonIcon.iconHref,style:e.item.buttonIcon}),t("span",[e._v(e._s(e.$t(`buttonMult.text${e.item.index?e.item.index+1:e.index+1}`)))])])])]:"phone"===e.resource?[t("div",{staticClass:"phone-btn",attrs:{id:`system_button_${e.item.localId}`}},[t("div",{staticClass:"default-style",style:[e.item.buttonFont,e.item.buttonBackground,e.getItemStyle({item:e.item,hasFilter:!0})]},[t("div",{staticClass:"phone_icon",style:e.item.buttonIcon},[t("svg",{staticClass:"svg-icon"},[t("use",{attrs:{href:`${e.item.buttonIcon.url}#icon-id`}})])]),e.item.isShowRing?t("div",{domProps:{innerHTML:e._s(e.item.ringHtml)}}):e._e(),"gradient"===e.item.buttonBackground.borderStyle?t("div",[t("div",{staticStyle:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",background:"var(--button-border-color)","border-radius":"var(--button-top-left-radius)"}}),t("div",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"calc(100% - (var(--button-border-width) * 2))",width:"calc(100% - (var(--button-border-width) * 2))",background:"var(--button-background-color)","border-radius":"var(--button-top-left-radius)"}})]):e._e(),e.item.buttonText?t("div",{style:e.item.buttonFont},[e._v(" "+e._s(e.$t(e.item.buttonText))+" ")]):e._e()])])]:"themes"===e.resource?[t("div",{staticClass:"img-item",class:{advance:e.item.advance},on:{click:function(t){return t.stopPropagation(),e.showSecondList(e.item,e.item.advance)}}},[e.item.frontCover?t("img",{staticClass:"workBg",attrs:{src:e.item.frontCover,alt:""}}):t("div",{staticClass:"admin-theme"},[t("span",[e._v(e._s(e.item.themeName||e.item.name))])])])]:"actions"===e.resource?[t("Gif",{attrs:{item:e.item}})]:"table"===e.resource?[t("div",{staticClass:"table-item",attrs:{id:`system_button_${e.item.tableIndex}`}},[t("div",{domProps:{innerHTML:e._s(e.item.htmlDiv)}})])]:"fontIcon"===e.resource?[t("div",{staticClass:"icon-item",class:`icon-${e.item.icon}`})]:[t("LoadingSkeletonBox",{attrs:{src:e.imgUrl,fit:e.isPixabayElement?"":"contain",imageStatus:e.imageStatus}})],e.isXZPro&&e.isShowLevelXZ?t("icon-version",{attrs:{"level-id":e.item.range||e.item.limitVersion,type:e.resource}}):e._e(),(e.isYZPro||e.isH5Pro)&&e.isShowLevel(e.item)&&"actions"!==e.resource?t("icon-version",{attrs:{"level-id":e.yzGetMinLevelId(e.getMinLevelId(e.item))}}):e._e()],2)],2)}),[],!1,null,"28f4fe70",null).exports,j=s(69367),Z=s(83093);(0,j.ql)();const E={education:[{id:-1,name:"MaterialCate_js.text91",secondId:"153,156"},{id:7,name:"materialSecPanel_js.text12",secondId:"153"},{id:4,name:"materialSecPanel_js.text10",secondId:"156"}],healthCare:[{id:-1,name:"MaterialCate_js.text91",secondId:"100,154"},{id:7,name:"materialSecPanel_js.text12",secondId:"154"},{id:4,name:"materialSecPanel_js.text10",secondId:"100"}],festival:[{id:-1,name:"MaterialCate_js.text91",secondId:"102,46"},{id:7,name:"materialSecPanel_js.text12",secondId:"102"},{id:4,name:"materialSecPanel_js.text10",secondId:"46"}],business:[{id:-1,name:"MaterialCate_js.text91",secondId:"56,150"},{id:7,name:"materialSecPanel_js.text12",secondId:"150"},{id:4,name:"materialSecPanel_js.text10",secondId:"56"}],life:[{id:-1,name:"MaterialCate_js.text91",secondId:"144,45,117"},{id:7,name:"materialSecPanel_js.text12",secondId:"144"},{id:4,name:"materialSecPanel_js.text10",secondId:"45"},{id:13,name:"materialSecPanel_js.text5",secondId:"117"}],traffic:[{id:-1,name:"MaterialCate_js.text91",secondId:"116,54,151"},{id:7,name:"materialSecPanel_js.text12",secondId:"151"},{id:4,name:"materialSecPanel_js.text10",secondId:"54"},{id:13,name:"materialSecPanel_js.text5",secondId:"116"}],delicacy:[{id:-1,name:"MaterialCate_js.text91",secondId:"73,52,119"},{id:7,name:"materialSecPanel_js.text12",secondId:"73"},{id:4,name:"materialSecPanel_js.text10",secondId:"52"},{id:13,name:"materialSecPanel_js.text5",secondId:"119"}],personage:[{id:-1,name:"MaterialCate_js.text91",secondId:"139,47,69"},{id:7,name:"materialSecPanel_js.text12",secondId:"69"},{id:4,name:"materialSecPanel_js.text10",secondId:"47"},{id:13,name:"materialSecPanel_js.text5",secondId:"139"}],animal:[{id:-1,name:"MaterialCate_js.text91",secondId:"70,49,120"},{id:7,name:"materialSecPanel_js.text12",secondId:"70"},{id:4,name:"materialSecPanel_js.text10",secondId:"49"},{id:13,name:"materialSecPanel_js.text5",secondId:"120"}],plant:[{id:-1,name:"MaterialCate_js.text91",secondId:"121,51,149"},{id:7,name:"materialSecPanel_js.text12",secondId:"149"},{id:4,name:"materialSecPanel_js.text10",secondId:"51"},{id:13,name:"materialSecPanel_js.text5",secondId:"121"}],building:[{id:-1,name:"MaterialCate_js.text91",secondId:"76,48,118"},{id:7,name:"materialSecPanel_js.text12",secondId:"76"},{id:4,name:"materialSecPanel_js.text10",secondId:"48"},{id:13,name:"materialSecPanel_js.text5",secondId:"118"}],athletics:[{id:-1,name:"MaterialCate_js.text91",secondId:"53"},{id:4,name:"materialSecPanel_js.text10",secondId:"53"}],textbox:[{id:-1,name:"MaterialCate_js.text91",secondId:"99,152"},{id:7,name:"materialSecPanel_js.text12",secondId:"152"},{id:4,name:"materialSecPanel_js.text10",secondId:"99"}],science:[{id:-1,name:"MaterialCate_js.text91",secondId:"75,142"},{id:7,name:"materialSecPanel_js.text12",secondId:"75"},{id:4,name:"materialSecPanel_js.text10",secondId:"142"}],motherBaby:[{id:-1,name:"MaterialCate_js.text91",secondId:"63"},{id:4,name:"materialSecPanel_js.text10",secondId:"63"}],landscape:[{id:-1,name:"MaterialCate_js.text91",secondId:"104,77,148"},{id:7,name:"materialSecPanel_js.text12",secondId:"104,77"},{id:4,name:"materialSecPanel_js.text10",secondId:"148"}],icons:[{id:-1,name:"MaterialCate_js.text91",secondId:"107,109"},{id:4,name:"materialSecPanel_js.text10",secondId:"107,109"}],geometric:[{id:-1,name:"MaterialCate_js.text91",secondId:"58,141"},{id:4,name:"materialSecPanel_js.text10",secondId:"58,141"}],background:[{id:-1,name:"MaterialCate_js.text91",secondId:"155"},{id:4,name:"materialSecPanel_js.text10",secondId:"155"}],weather:[{id:-1,name:"MaterialCate_js.text91",secondId:"64,110"},{id:4,name:"materialSecPanel_js.text10",secondId:"64,110"}],gesture:[{id:-1,name:"MaterialCate_js.text91",secondId:"111"},{id:4,name:"materialSecPanel_js.text10",secondId:"111"}],others:[{id:-1,name:"MaterialCate_js.text91",secondId:"101,50,57,8,105"},{id:7,name:"materialSecPanel_js.text12",secondId:"8,105"},{id:4,name:"materialSecPanel_js.text10",secondId:"101,50,57"}]},F=e=>{switch(e){case 1:return"picture";case 3:return"icon";case 4:return"vector";case 6:return"chart";case 8:return"line";case 7:return"transparent";case 9:return"frames";case 2:return"transShape";case-1:return"liked";case 12:return"effect";case 13:return"actEffect"}};var H=s(85838),D=s(70169);const V=s(52811);let A={};V.keys().forEach((e=>{const t=V(e),s=e.replace(/^\.\//,"").replace(/\.\w+$/,"");A[s]=t.default||t}));var B={data(){return{isLoading:!0,isShowArrowLeft:!1,isShowArrowRight:!0,pageSize:12,forbidExc:["widgets","character"],isDisableSwiper:!1,getUTypeName:_.AR,getLevelIdName:_.Gq,msg:null,disabledReplace:["pagination","component","themes"],third_url:"",reqeustFail:!1,elementTipObj:{hotspot:"hotshoptTip_20240710.text1",frames:"framesTip_20240710.text1"},isNoResourceInfo:["widgets","themes","character","button","swiper","phone","table","fontIcon"]}},mixins:[m.P],props:{element:{require:!0,type:Object,default:()=>{}},isTeam:{type:Boolean,default:!1},isSearchLoading:{type:Boolean,default:!1},isSearchMode:{type:Boolean,default:!1}},async mounted(){const e=this.$props.element;!e.isRequest||e.list&&0!==e.list.length||await this.getData(),this.isLoading=!1,this.isShowArrowRight=!!(this.isShowMoreBtn||this.element.list.length>3),this.isXZPro&&(this.disabledReplace=["pagination","component","themes","widgets"])},activated(){this.isShowArrowLeft=!1,this.isShowArrowRight=!!(this.isShowMoreBtn||this.element.list.length>3)},computed:{teamId:function(){return this.$store.state.menuPanel.teamId},ownerVal:function(){return this.$store.state.menuPanel.ownerVal},isYZPro:function(){return this.$store.getters.isYZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},isFlipPro:function(){return this.$store.getters.isFlipPro},isXZPro:function(){return this.$store.getters.isXZPro},materialType(){return this.$props.element.value},spriteCharacterRootPath:function(){return this.$store.getters.spriteCharacterRootPath},isChangeGif:{get:function(){return this.$store.state.timeline.characterPanel.isChangeGif},set:function(e){this.$store.state.timeline.characterPanel.isChangeGif=e}},isClickAddToGif:{get:function(){return this.$store.state.timeline.characterPanel.isClickAddToGif},set:function(e){this.$store.state.timeline.characterPanel.isClickAddToGif=e}},isENZHLang(){return["en","EN","zh-CN","zh-cn","cn","zh-TW","zh-tc","zh-TC"].includes(this.$store.state.appLanguage)},elementTitle(){return this.isXZPro&&"widgets"===this.materialType?"小工具":this.isXZPro&&"effect"===this.materialType?"动态特效":this.element.tKey?this.$t(this.element.tKey):this.element.label},elementWidth(){return this.isIndefinite?"unset":"button"===this.element.value&&!this.isENZHLang||"themes"===this.element.value?"134px":"86px"},elementPadding(){return["swiper","character","hotspot"].includes(this.element.value)?"10px":this.isPixabayElement||"themes"===this.element.value?"0":"widgets"===this.element.value||"button"===this.element.value&&this.isENZHLang?"5px":"15px"},isShowReplaceResMode(){return this.$store.state.workSpace.isShowReplaceResMode},isPixabayElement(){return!!["pixabay","pexels"].includes(this.element.value)},isIndefinite(){return this.isH5Pro&&(this.isPixabayElement||"transparent"===this.materialType)},isShowMoreBtn(){return!(this.element.list.length<4)},isShowTipElement(){return!(!this.isPixabayElement&&!["hotspot","frames"].includes(this.element.value))},isVisitorMode(){return this.$store.state.pagePanel.isVisitorMode}},methods:{onSwiper(e){if(this.isDisableSwiper)return;this.isDisableSwiper=!0;let t,s=this.$refs.scroll_wapper.scrollLeft,i="button"===this.element.value&&!this.isENZHLang||"themes"===this.element.value?288:192;"prev"===e?t=s-i:"next"===e&&(t=s+i);const a=performance.now(),r=e=>{const i=e-a,n=Math.min(i/500,1),o=s+(t-s)*n;this.$refs.scroll_wapper.scrollLeft=o,n<1?requestAnimationFrame(r):this.isDisableSwiper=!1};requestAnimationFrame(r);let n=this.$refs.library_list.$el.getBoundingClientRect().width,o=this.$refs.scroll_wapper.getBoundingClientRect().width;this.isShowArrowLeft=!(t<=0);const l=n-o-t;this.isShowArrowRight=!(l<=0)},onElementClick(e,t){if(!this.disabledReplace.includes(e.value)&&!this.disabledReplace.includes(this.materialType)||!this.isShowReplaceResMode)switch(this.materialType){case"widgets":(0,u.Q)(e.value);break;case"phone":(0,y.Z1)(e);break;case"button":(0,y.qP)(e,t);break;case"fontIcon":(0,y.fK)(e,t);break;case"hotspot":(0,y.lz)(e);break;case"swiper":(0,y.WM)(e);break;case"character":this.choseFirstCate(e);break;case"actions":(0,y.d5)(e);break;case"table":(0,y.iJ)(e);break;default:"image"===e.type&&e.isPixabay?(e.url.includes("pixabay.com")?S.dE.push("material.pixabayClick"):e.url.includes("images.pexels.com")&&S.dE.push("material.pexelsClick"),(0,Z.j)({item:e})):(0,y._R)(e,this.$props.element.value)}},choseFirstCate(e){setTimeout((()=>{this.$store.commit(i.vR0,{isShow:!0}),this.$store.state.timeline.characterPanel.curItemCharacterId=0,this.$store.state.timeline.characterPanel.curItemSecondCateGifID=0,this.$store.state.timeline.characterPanel.isShowFirstPanel=!0,this.$store.state.timeline.characterPanel.isChangeGif=!1,this.$store.state.timeline.characterPanel.isClickAddToGif=!1,this.$store.state.timeline.characterPanel.firstCate=e}))},async getData(){const e=this.$props.element;switch(e.value){case"hotspot":const{list:t}=this.isFlipPro?await(0,c.K6)():await(0,c.JN)();e.list=(0,c.B9)(t).slice(0,12);break;case"swiper":e.list=d.f.map((e=>new f.v1({item:e,type:"swiper"}))).slice(0,12);break;case"button":e.list=g.R.map(((e,t)=>(e.buttonText=this.$t(`buttonMult.text${t+1}`),new f.v1({item:e,type:"button"})))).slice(0,12);break;case"phone":{const t=JSON.parse(JSON.stringify($.sR));e.list=await Promise.all(t.map((async e=>{if(this.isFlipPro){const t=await fetch(`./static/clientImages/phoneButton/${e.buttonIcon.iconHref}`),s=await t.blob();e.buttonIcon.url=URL.createObjectURL(s)}else e.buttonIcon.url=s(16799)(`./${e.buttonIcon.iconHref}`);return new f.v1({item:e,type:"phone"})})).slice(0,12));break}case"themes":const{res:i}=await(0,c.Vn)(),a=(0,c.tJ)(i.themeCategoryArr);e.list=a.slice(0,12);break;case"pixabay":const r=await(0,c.tq)();e.list=r.status?r.list:[],this.reqeustFail=!r.status,this.third_url="https://pixabay.com/service/license-summary/";break;case"pexels":const n=await(0,c.DQ)();e.list=n.status?n.list:[],this.reqeustFail=!n.status,this.third_url="https://www.pexels.com/license/";break;case"table":const o=JSON.parse(JSON.stringify(D.R));e.list=o.map(((e,t)=>(this.isXZPro&&(e.range=2),new f.v1({item:e,type:"table"}))));break;default:if(e.isNewClassify)return void(e.list=await async function(e){const t={sortType:2,isCommercial:1,secondId:E[e][0].secondId,pageSize:12,pageIndex:0},{res:s}=await(0,c.XY)({postData:t});let i=s.resources;return i=i.map((e=>new f.v1({item:e,type:F(e.firstId)}))),i}(e.value));if(this.isH5Pro&&"transparent"===e.value)return void(e.list=j.m5);if(this.isH5Pro&&this.isVisitorMode&&"transShape"===e.value){let t=this.getList([]);const s=t.findIndex((e=>"triangle"===e.transType));if(-1!==s){const e=t[s];t[s]=t[2],t[2]=e}const i=t[3];t[3]=t[1],t[1]=i,t=t.slice(0,12),e.list=(0,c.tV)(t,this.materialType)}if(this.isFlipPro&&"transShape"===e.value){let t=H.eg.map((e=>{const t=h.Z.copy(e,!0);return void 0!==t.keywords&&(t.keywords=this.$t(t.keywords)),void 0!==t.name&&(t.name=this.$t(t.name)),t}));const s=t.findIndex((e=>"triangle"===e.transType));if(-1!==s){const e=t[s];t[s]=t[2],t[2]=e}const i=t[3];t[3]=t[1],t[1]=i,t=t.slice(0,12),e.list=(0,c.tV)(t,this.materialType)}else await this.getMaterialData();"chart"===e.value&&e.list.forEach((e=>{e.keywords=this.isH5Pro?this.$t(e.keywords):e.keywords}))}},async getMaterialData(){const e=this.$props.element;try{const{res:t}=await(0,c.XY)({materialType:e.value,isTeam:this.$props.isTeam,postData:this.getParams()});let s=t?.resources||t?.data?.list||t?.templates||[];if(s=this.getList(s),"transShape"===this.element.value){const e=s.findIndex((e=>"triangle"===e.transType));if(-1!==e){const t=s[e];s[e]=s[2],s[2]=t}const t=s[3];s[3]=s[1],s[1]=t}s=s.slice(0,12),e.list=(0,c.tV)(s,this.materialType)}catch(e){}},getParams(){const e=this.$props.element,t=this.$props.isTeam;let s=2;"effect"!==this.materialType&&"actEffect"!==this.materialType||(s=3);let i={};return"component"===this.materialType?i={templateType:2,orderType:4,pageSize:this.pageSize,pageIndex:0,endTime:h.Z.getSystemTime(),categoryId:-1===Number(e.id)?9:e.id}:t?(i={teamId:this.teamId,pageIndex:0,pageSize:this.pageSize,type:1},"4"===this.imgTypeId&&(i.type=5),i.mine=1===this.ownerVal?1:0):i=this.isYZPro||this.isH5Pro?{firstIds:e.id,sortType:s,size:this.pageSize,current:1,isCommercial:1}:{firstIds:e.id,sortType:s,pageSize:this.pageSize,pageIndex:0},i},toMoreMenu(e){if(!this.disabledReplace.includes(this.materialType)||!this.isShowReplaceResMode)switch(this.element.value){case"actions":case"character":S.dE.push("material.character"),setTimeout((()=>{this.$store.commit(i.vR0,{isShow:!0}),this.$store.state.timeline.characterPanel.curItemCharacterId=0,this.$store.state.timeline.characterPanel.curItemSecondCateGifID=0,this.$store.state.timeline.characterPanel.isShowFirstPanel=!0,this.$store.state.timeline.characterPanel.isChangeGif=!1,this.$store.state.timeline.characterPanel.isClickAddToGif=!1,this.$store.state.timeline.characterPanel.searchInfo={searchValue:this.$store.state.menuPanel.secMenuSearchValue,selectTypeId:"actions"===this.element.value?1:0}}));break;default:if(["transShape","chart","frames","actEffect","effect","vector","transparent","component","themes","button","hotspot","swiper","phone","fontIcon","pexels","pixabay","widgets","eChart"].includes(this.element.value)&&S.dE.push(`material.${this.element.value}`),this.element.isNewClassify)return this.$store.commit(i.$8l,{menu:"classify"}),void this.$store.commit(i.xZf,{firstType:"classify",secType:this.element.value});this.$store.commit(i.$8l,{menu:this.element.value})}},showSecondList(e,t){(this.disabledReplace.includes(e.value)||this.disabledReplace.includes(this.materialType))&&this.isShowReplaceResMode||(this.$store.commit(i.$8l,{menu:this.element.value}),t||this.$store.commit(i.xZf,{firstType:"themes",secType:e.id}))},getItemKey(e,t){return"fontIcon"===this.materialType?e.icon:"chart"!==this.materialType||e.chartId?e.id||e.localId||e.chartId||e.value+"_"+e.icon:"chart_"+t},getItem(e,t){return"button"===e.type&&(e.buttonText=this.$t(`buttonMult.text${t+1}`)),e}},components:{...A,CardItem:R,InfoTipsIcon:()=>s.e(3352).then(s.bind(s,83352)),ResourceInfoPanel:()=>s.e(1230).then(s.bind(s,49434))},directives:{drag2Add:p.Z}},N=(0,I.Z)(B,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"element_card"},[t("el-skeleton",{staticClass:"element_skeleton",attrs:{loading:e.isLoading||e.isSearchLoading,animated:""}},[t("template",{slot:"template"},[t("el-row",{staticClass:"element_skeleton-header",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-skeleton-item",{staticClass:"element_skeleton-text-item",staticStyle:{width:"50%"},attrs:{variant:"text"}}),t("el-skeleton-item",{staticClass:"element_skeleton-text-item",staticStyle:{width:"20%"},attrs:{variant:"text"}})],1),t("el-row",{staticClass:"element_skeleton-content",attrs:{type:"flex",align:"middle"}},[t("el-skeleton-item",{staticClass:"element_skeleton-img-item",attrs:{variant:"image"}}),t("el-skeleton-item",{staticClass:"element_skeleton-img-item",attrs:{variant:"image"}}),t("el-skeleton-item",{staticClass:"element_skeleton-img-item",attrs:{variant:"image"}})],1)],1),[t("el-row",{staticClass:"header",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.elementTitle)+" "),t("el-tooltip",{attrs:{placement:"top","open-delay":800,"popper-class":"third_gallery_tooltip"},scopedSlots:e._u([{key:"content",fn:function(){return[e.isPixabayElement?t("div",[t("div",{staticStyle:{"margin-bottom":"10px"}},[e._v(" "+e._s(e.$t("thirdPartyGallery.linkText1"))+" ")]),t("div",[e._v(" "+e._s(e.$t("thirdPartyGallery.linkText1-2"))),t("a",{attrs:{href:e.third_url,target:"_blank"}},[e._v(" "+e._s(e.$t("thirdPartyGallery.linkText2"))+" ")]),e._v(" "+e._s(e.$t("thirdPartyGallery.linkText3"))+" ")])]):t("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.$t(`${e.elementTipObj[e.element.value]}`)))])]},proxy:!0}])},[e.isShowTipElement?t("el-icon",{staticStyle:{"font-size":"12px",color:"#bbb","vertical-align":"middle"}},[t("InfoTipsIcon")],1):e._e()],1)],1),e.isShowMoreBtn?t("div",{staticClass:"more",class:{disabled:e.disabledReplace.includes(e.element.value)&&e.isShowReplaceResMode},on:{click:e.toMoreMenu}},[e._v(" "+e._s(e.$t("secMenuElement.more"))+" "),t("i",{staticClass:"el-icon-arrow-right"})]):e._e()]),t("div",{staticClass:"swiper_contatiner",staticStyle:{width:"100%",position:"relative"}},[e.reqeustFail&&0===e.element.list.length?t("div",{staticClass:"request_fail_box"},[e._v(" "+e._s(e.$t("thirdPartyGallery.errorTips1"))+" "+e._s(e.$t("thirdPartyGallery.errorTips3"))+" ")]):t("div",{ref:"scroll_wapper",staticClass:"scroll_wapper"},[t("el-row",{ref:"library_list",staticClass:"library_list",attrs:{type:"flex",align:"middle"}},[e._l(e.element.list,(function(s,i){return t("div",{key:e.getItemKey(s,i),class:[e.isIndefinite?"library_item_pixabay":"library_item",{disabled:(e.disabledReplace.includes(s.value)||e.disabledReplace.includes(e.element.value))&&e.isShowReplaceResMode}],style:{width:e.isH5Pro&&"transparent"===e.element.value?86*s.k+"px":e.elementWidth,background:"themes"===e.element.value?"transparent":e.isXZPro?"#F1F1F4":"#e8e9ea"}},[t("div",{directives:[{name:"drag2Add",rawName:"v-drag2Add",value:{item:e.getItem(s,i),forbidDragToAdd:e.forbidExc.includes(e.element.value),targetId:"button"===e.element.value?`system_button_${s.localId}`:"",materialType:e.element.value},expression:"{\n                  item: getItem(item,index),\n                  forbidDragToAdd: forbidExc.includes(element.value),\n                  targetId:\n                    element.value === 'button'\n                      ? `system_button_${item.localId}`\n                      : '',\n                      materialType: element.value\n                    \n                }"}],staticClass:"library_item_image",class:{disabled:e.disabledReplace.includes(s.value)&&e.isShowReplaceResMode},style:{width:e.elementWidth},on:{click:function(t){return e.onElementClick(s,i)},mouseenter:function(t){return e.materialMouseenter(s,i)},mouseleave:e.materialMouseleave}},[t("CardItem",{attrs:{resource:e.element.value,item:s,index:i,elementPadding:e.elementPadding,isPixabay:e.isIndefinite,isSearchMode:e.isSearchMode},on:{showSecondList:e.showSecondList}})],1),e.isNoResourceInfo.includes(e.element.value)?e._e():t("ResourceInfoPanel",{attrs:{materialType:e.materialType,resource:s,index:i,isHtml:!0}}),1!==parseFloat(s.isCommercial)&&"character"!==e.materialType||!e.isYZPro&&!e.isXZPro?e._e():t("icon-commercial",{staticClass:"icon-commercial system_resource_icon",attrs:{placement:"bottom-left"}})],1)})),e.isShowMoreBtn?t("div",{staticClass:"more_library library_item",class:{disabled:e.disabledReplace.includes(e.element.value)&&e.isShowReplaceResMode},on:{click:e.toMoreMenu}},[t("el-icon",[t("MoreIcon",{tag:"component"})],1)],1):e._e()],2)],1),e.isShowArrowLeft&&e.element.list&&e.element.list.length>2?t("div",{staticClass:"arrow-left",on:{click:function(t){return e.onSwiper("prev")}}},[t("el-icon",[t("ArrowLeftIcon",{tag:"component"})],1)],1):e._e(),e.isShowArrowRight&&e.element.list&&e.element.list.length>2?t("div",{staticClass:"arrow-right",on:{click:function(t){return e.onSwiper("next")}}},[t("el-icon",[t("ArrowRightIcon",{tag:"component"})],1)],1):e._e()])]],2)],1)}),[],!1,null,"d20d87b0",null).exports,z=s(10932),G=s(44910),O=s(73145),X=s(45197),Y=s(94414),K={name:"",data(){return{resourceList:[],isIniting:!1,isLoadingMore:!1,noMoreData:!1,virtualStartIndex:-1,virtualEndIndex:-1,resourceTool:new O.E,classify:new X.v({id:"",name:"全部"}),msg:null}},computed:{isXZPro(){return this.$store.getters.isXZPro},project(){return this.$store.state.project},classifyCells(){return[{name:"SecondMenuForSearch_vue.text11",id:-1},{name:"SecondMenuForSearch_vue.text12",id:"13"},{name:"SecondMenuForSearch_vue.text13",id:"12"},{name:"SecondMenuForMine_vue.text21",id:"4, 6, 3, 2, 8"},{name:"SecondMenuForSearch_vue.text14",id:"7"},{name:"SecondMenuForSearch_vue.text15",id:"1"},{name:"SecondMenuForSearch_vue.text17",id:"9"},{name:"SecondMenuForSearch_vue.text16",id:"11"},{name:"LikedList_vue.text2",id:"99"}]},resourceVisibleList(){return-1!==this.virtualStartIndex&&-1!==this.virtualEndIndex?this.resourceList.slice(this.virtualStartIndex,this.virtualEndIndex):this.resourceList}},mounted(){this.resourceTool=new O.E(this.isXZPro?0:1,36,this.project),this.init()},methods:{init(){this.resetData(),this.isIniting=!0,this.getLikeData().then((()=>{this.isIniting=!1}))},resetData(){this.resourceList=[],this.noMoreData=!1,this.isLoadingMore=!1,this.resourceTool.reset()},getLikeData(e=null){const t=e||this.classify,s=Object.assign({},t&&"99"===t.id?{templateType:2,categoryId:"",rangeCode:""}:{firstIds:-1!==t.id?t.id:""}),i=t&&"99"===t.id?"template/get-user-favorite-template-online.php":Y.C.getCollectResource;return this.resourceTool.fetchSystemResource(s,`${this.$store.getters.host}/${i}`).then((({list:e})=>{e&&this.addSystemResource(e.map((e=>{const s=t&&"99"===t.id?"component":this.getMaterialType(e.firstId);return e.isFavorite="1",new f.v1({item:e,type:s,fileType:e.type})})))})).catch((e=>{e.message})).finally((()=>{this.isLoadingMore=!1}))},addSystemResource(e){const t=e;this.noMoreData=t.length<this.resourceTool.pageSize,this.resourceList.push(...t)},addResource(e){(0,c._R)(e,this.materialType)},getMaterialByClassifyChange(e){this.classify=e,this.init()},getMaterialType(e){switch(e=e.toString()){case"2":return"transShape";case"3":return"icon";case"4":return"vector";case"6":return"chart";case"8":return"line";case"7":case"1":case"11":return"picture";case"9":return"frames";case"13":case"12":return"effect"}},loadMoreData(){if(!(this.noMoreData||this.isLoadingMore||this.isIniting))return this.isLoadingMore=!0,this.getLikeData()},visibleRangeChange(e,t){this.virtualEndIndex=t,this.virtualStartIndex=e},changeFavorite(e){const t=this.classify&&"99"===this.classify.id;e.isFavorite="1"===e.isFavorite?"0":"1";const s="1"===e.isFavorite?t?"模板收藏成功，可到<span style='cursor:pointer;text-decoration: underline;'>【模板-收藏】</span>中查看！":"素材收藏成功":"取消收藏成功！";if("0"===e.isFavorite){const t=this.resourceList.findIndex((t=>t.id===e.id));-1!==t&&this.resourceList.splice(t,1)}(0,c.dE)({tool:this.resourceTool,systemResource:e,message:s,isComponent:t})}},components:{LibrarySecondLayout:z.Z,SystemResourceList:G.Z}},q=(0,I.Z)(K,(function(){var e=this,t=e._self._c;return t("LibrarySecondLayout",{attrs:{showTitle:!1,showCellMoreBtn:!1,showFooter:!1,isSearch:!1,cells:e.classifyCells,"resource-total":e.resourceList.length,"show-loading-skeleton":e.isIniting||e.isLoadingMore,"grid-template-columns":3,"loading-skeleton-custom-style":{marginTop:e.isLoadingMore?"10px":""},"no-more-data":!e.isIniting&&e.noMoreData},on:{"choose-classify":e.getMaterialByClassifyChange,"notify-load-more":e.loadMoreData,"notify-visible-range":e.visibleRangeChange},scopedSlots:e._u([{key:"noDateDesc",fn:function(){return[t("div",{staticStyle:{margin:"5px 0"}},[e._v("您还未收藏素材")]),t("div",[e._v("去素材库收藏您喜欢的素材吧~")])]},proxy:!0}])},[e.isIniting?e._e():t("SystemResourceList",{attrs:{"resource-list":e.resourceVisibleList},on:{"notify-add":e.addResource,"notify-favorite":e.changeFavorite}})],1)}),[],!1,null,"6862b55a",null).exports,U=s(6832),J={name:"EditorElementPanel",data(){return{templateMenuData:U.J,isSearchMode:!1,isLoading:!1,elementList:(0,j.pu)(),scrollPost:!1,scrollTop:0,keepSearchValue:"",bePosition:!1}},computed:{selectedTabType(){return this.$store.state.menuPanel.secMenuNavType.material},secMenuSearchValue:{get(){return this.$store.state.menuPanel.secMenuSearchValue},set(e){this.$store.state.menuPanel.secMenuSearchValue=e}},project:function(){return this.$store.state.project}},mounted(){this.secMenuSearchValue&&this.templateSearch(this.secMenuSearchValue),v.Q.$on(v.Y.SEARCH_SIMILARITY,(e=>{this.templateSearch(e),e||this.$nextTick((()=>{const e=this.$refs.SearchInput;e&&"function"==typeof e.focusSearchInput&&e.focusSearchInput()}))}))},destroyed(){v.Q.$off(v.Y.SEARCH_SIMILARITY)},methods:{close(){this.$store.commit(i.$8l,{menu:"scene"})},setStorageSearchValue:function(e){this.$store.commit(i.F$g,{newSearchValue:e,type:"searchValueList"})},async templateSearch(e){this.keepSearchValue!==e&&((0,c.xb)(this.$i18n.t("CharacterPanel_vue.text25")),this.keepSearchValue=e,this.secMenuSearchValue=e,this.setStorageSearchValue(e),this.$store.commit(i.xZf,{firstType:"material",secType:"resource"}),e?(this.isLoading=!0,this.elementList=await(0,c.$E)(e),this.isLoading=!1):this.elementList=(0,j.pu)(this.project))},navChange(e){this.$store.commit(i.xZf,{firstType:"material",secType:e.type}),"resource"===e.type&&S.dE.push("resource")},debounceScoll(e){const t=e.target.scrollTop,s=this.$refs.scroll_content.scrollHeight-t-this.$refs.scrollContainer.scrollHeight;this.bePosition=t>150,this.scrollTop=t,s<20&&(this.scrollPost=!0)},toggleBackTopButton(e){this.showBackTopButton=e},backToTop(){if(this.$refs.scroll_content){const e=this.$refs.scroll_content;e&&e.scrollTo({top:0,behavior:"smooth"})}}},async activated(){this.$nextTick((()=>{this.$refs.scroll_content&&(this.$refs.scroll_content.scrollTop=this.scrollTop||0)})),this.secMenuSearchValue!==this.keepSearchValue&&await this.templateSearch(this.secMenuSearchValue)},components:{EditorSecondMenu:a.Z,EditorSecondMenuTitle:o.Z,EditorSecondMenuSearchInput:r.Z,EditorSecondMenuTabs:n.Z,ElementCard:N,LikedList:q,SearchHistory:l.Z}},W=(0,I.Z)(J,(function(){var e=this,t=e._self._c;return t("EditorSecondMenu",[t("el-row",{staticClass:"editor_element_panel",attrs:{type:"flex"}},[t("el-row",{staticClass:"editor_element_panel_operate"},[t("el-row",{staticClass:"e_pb_15"},[t("EditorSecondMenuTitle",{attrs:{title:e.$t(e.templateMenuData.tKey)},on:{"close-panel":e.close}})],1),t("el-row",{staticClass:"e_pb_15"},[t("EditorSecondMenuSearchInput",{ref:"SearchInput",attrs:{keyword:e.keepSearchValue,showHistroy:!0,isSearchMode:e.isSearchMode,localKey:"searchValueList","show-search-icon":!e.isLoading,"is-lock":e.isLoading},on:{"update-search":e.templateSearch,"update:isSearchMode":function(t){e.isSearchMode=t},"update:is-search-mode":function(t){e.isSearchMode=t}}})],1),e.templateMenuData.children.length>1?t("el-row",{class:{e_pb_18:"like"!==e.selectedTabType}},[t("EditorSecondMenuTabs",{attrs:{tabs:e.templateMenuData.children,"selected-tab-type":e.selectedTabType},on:{"tab-selected":e.navChange}})],1):e._e()],1),t("el-row",{staticClass:"editor_element_panel_list",attrs:{type:"flex"}},["resource"===e.selectedTabType||"like"===e.selectedTabType?t("div",{directives:[{name:"bar",rawName:"v-bar"}],ref:"scrollContainer",staticClass:"scroll_contatiner"},[t("div",{ref:"scroll_content",staticClass:"scroll_content",on:{scroll:e.debounceScoll}},["resource"===e.selectedTabType?t("el-skeleton",{staticClass:"element_skeleton",attrs:{loading:e.isLoading,animated:""}},[t("template",{slot:"template"},e._l(6,(function(e){return t("div",{key:e,staticStyle:{"margin-bottom":"20px"}},[t("el-row",{staticClass:"element_skeleton-header",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-skeleton-item",{staticClass:"element_skeleton-text-item",staticStyle:{width:"50%"},attrs:{variant:"text"}}),t("el-skeleton-item",{staticClass:"element_skeleton-text-item",staticStyle:{width:"20%"},attrs:{variant:"text"}})],1),t("el-row",{staticClass:"element_skeleton-content",attrs:{type:"flex",align:"middle"}},[t("el-skeleton-item",{staticClass:"element_skeleton-img-item",attrs:{variant:"image"}}),t("el-skeleton-item",{staticClass:"element_skeleton-img-item",attrs:{variant:"image"}}),t("el-skeleton-item",{staticClass:"element_skeleton-img-item",attrs:{variant:"image"}})],1)],1)})),0),[e.elementList.length?[e._l(e.elementList,(function(s){return[t("ElementCard",{key:`${s.value}_${s.id}`,attrs:{element:s,isSearchLoading:e.isLoading,isSearchMode:""!==e.keepSearchValue}})]}))]:t("el-row",{staticClass:"no_data",attrs:{type:"flex",align:"middle"}},[t("img",{attrs:{src:s(58788),alt:""}}),t("span",[e._v(e._s(e.$t("SecondMenuForSearch_vue.NoResultsFound")))])])]],2):e._e(),t("el-tooltip",{attrs:{content:e.$t("PropsPanle_new.BackToTop"),"open-delay":800}},[t("div",{staticClass:"backToTop editor_v2_back_2_top",class:{showBackToTop:e.bePosition},on:{click:function(t){return e.backToTop()}}},[t("i",{staticClass:"el-icon-arrow-up"})])])],1)]):e._e(),"like"===e.selectedTabType?t("LikedList"):e._e()],1)],1)],1)}),[],!1,null,"e23ee4ac",null).exports},44910:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var i=s(13638),a=s(73264),r=s(26648),n=s(48589),o=s(83808),l=s(37389),c=s(61632),d=s(7986),u=s(28671),h={name:"SystemResourceList",props:{resourceList:{require:!0,type:Array},resourceImageContainerStyle:{type:Object,default:function(){return{padding:"10px"}}},isHtml:{type:Boolean,default:!1,desc:"是否要用v-html渲染数据"},materialType:{type:String,default:""}},data(){return{yzGetMinLevelId:i.gu,popoverResource:null,imageStatus:new Map}},computed:{resourceLimit:function(){return this.$store.getters.resourceLimit},uType(){return this.$store.state.userData.uType},isYZPro:function(){return this.$store.getters.isYZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},isXZPro:function(){return this.$store.getters.isXZPro},isFlipPro:function(){return this.$store.getters.isFlipPro},isAdmin:function(){return this.$store.state.userData.isAdmin}},methods:{formatInfo(e){const{name:t,author:s,isPixabay:i,pixabayUrl:a,pixabayFrom:r,id:n,localId:o,isFavorite:l,totalTime:c}=e;let h="";h=(0,u.K)({item:e,type:this.materialType}),"chart"===this.materialType&&e.chartCode&&(-1!==e.chartCode.chartClass.indexOf("柱状图")&&(h=this.$t("ResourceCardNew.BarChart")),-1!==e.chartCode.chartClass.indexOf("折线图")&&(h=this.$t("ResourceCardNew.LineChart")),-1!==e.chartCode.chartClass.indexOf("饼图")&&(h=this.$t("ResourceCardNew.PieChart")));let m="",p=(0,d.A)(c);return m="number"==typeof e.newTime?e.newTimeFormat:e.updateTime||e.newTime,new d.k({newTime:m,totalTime:p,classify:h,name:this.isXZPro?"":t,author:s,keywords:e.resourceInfo,isPixabay:i,pixabayUrl:a,pixabayFrom:r,type:"resource",id:n||o,isFavorite:l})},isShowCollect(e){const t=e.type,s=e.svgClass;return("svg"!==t||"shape"!==s)&&"transShape"!==t&&"baseShape"!==t&&"chart"!==t},updatePop(e){this.$nextTick((()=>{this.$refs.resourceCardRef[e].updatePopper()}))},popoverShow(e){this.popoverResource=e},popoverHide(e){e.localId===this.popoverResource.localId&&(this.popoverResource=null)},addResource(e){this.$emit("notify-add",e)},addLike(e){this.$emit("notify-favorite",e)},materialMouseenter(e){this.$refs[`VersionRef_${e.localId}`]&&this.$refs[`VersionRef_${e.localId}`][0].show(),(0,o.z)(e)},materialMouseleave(e){this.$refs[`VersionRef_${e.localId}`]&&this.$refs[`VersionRef_${e.localId}`][0].hide(),(0,o.v)()},resToTop(e,t){this.$emit("resToTop",e,t)}},directives:{drag2Add:a.Z},components:{ImageSkeleton:r.Z,ResourceCardNew:n.Z,loadBgImage:l.Z,LoadingSkeletonBox:c.default}},m=(0,s(1001).Z)(h,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"editor_resource_list"},e._l(e.resourceList,(function(s,i){return t("div",{key:s.localId,staticClass:"resource_item"},[s.isLoadingRes?[t("el-skeleton",{staticClass:"imageSkeleton",attrs:{loading:!0,animated:""}},[t("template",{slot:"template"},[t("el-skeleton-item",{staticClass:"imageSkeleton"})],1)],2)]:[t("el-row",{staticClass:"resource_image_container",style:e.resourceImageContainerStyle},[t("div",{directives:[{name:"drag2Add",rawName:"v-drag2Add",value:{item:s},expression:"{\n              item: resource,\n            }"}],staticClass:"resource_image",on:{click:function(t){return e.addResource(s)},mouseenter:function(t){return e.materialMouseenter(s)},mouseleave:function(t){return e.materialMouseleave(s)}}},[t("LoadingSkeletonBox",{key:"Loading"+s.localId,attrs:{src:s.url_shot,fit:"contain",imageStatus:e.imageStatus}})],1)]),t("el-row",{staticClass:"resource_operate",attrs:{type:"flex",justify:"space-between"}},[t("el-row",{staticClass:"resource_operate_top",attrs:{type:"flex",justify:"end",align:"start"}},[e.isFlipPro?e._e():t("el-popover",{ref:"resourceCardRef",refInFor:!0,attrs:{"append-to":"editor_resource_list",width:"200",placement:i%2==0?"bottom":"bottom-end","visible-arrow":!1,"popper-class":"resource_popover"},on:{show:function(t){return e.popoverShow(s)},hide:function(t){return e.popoverHide(s)}}},[t("el-row",{staticClass:"resource_more",class:{moreVisible:e.popoverResource&&e.popoverResource.localId===s.localId},attrs:{slot:"reference",type:"flex",justify:"center",align:"middle"},slot:"reference"},[t("i",{staticClass:"el-icon-more"})]),t("el-row",{staticClass:"resource_info"},[t("ResourceCardNew",{attrs:{"resource-info":e.formatInfo(s),"show-collect-btn":e.isXZPro&&e.isShowCollect(s)},on:{"update-pop":function(t){return e.updatePop(i)},"add-like":()=>e.addLike(s)}},["component"===e.materialType&&e.isAdmin?t("el-row",{staticClass:"resource_icons",attrs:{type:"flex"}},[t("el-row",{staticClass:"e_plr_15"},[t("el-divider",{staticClass:"card-divider"})],1),t("el-row",{staticClass:"resource_icon_row e_plr_15",attrs:{type:"flex",align:"middle"},nativeOn:{click:function(t){return e.resToTop(s.id,!0)}}},[t("span",[e._v(e._s(e.$t("KeywordPanel_vue.text8")))])]),t("el-row",{staticClass:"resource_icon_row e_plr_15",attrs:{type:"flex",align:"middle"},nativeOn:{click:function(t){return e.resToTop(s.id,!1)}}},[t("span",[e._v(e._s(e.$t("KeywordPanel_vue.text9")))])])],1):t("el-row",{staticClass:"e_pb_15"})],1)],1)],1)],1),1===parseFloat(s.isCommercial)&&(e.isYZPro||e.isXZPro)?t("icon-commercial",{staticClass:"icon-commercial system_resource_icon",attrs:{placement:"bottom-left"}}):e._e(),e.isXZPro&&e.uType<s.range&&"transShape"!==s.type?t("icon-version",{ref:`VersionRef_${s.localId}`,refInFor:!0,staticClass:"system_resource_icon",attrs:{isBindParent:!1,"level-id":s.range}}):e._e(),!e.isYZPro&&!e.isH5Pro||e.resourceLimit.includes(Number(s.range))?e._e():t("icon-version",{ref:`VersionRef_${s.localId}`,refInFor:!0,staticClass:"system_resource_icon",attrs:{"level-id":e.yzGetMinLevelId({type:"resource",resRange:Number(s.range)}),isBindParent:!1,placement:"bottom-right"}})],1)]],2)})),0)])}),[],!1,null,"5bca0af8",null).exports},30098:function(e,t,s){"use strict";s.d(t,{P:function(){return r}});var i=s(83808),a=s(71423);const r={data(){return{lottieObj:null}},destroyed:function(){},computed:{localImageList:function(){switch(this.materialType){case"transShape":return a.Z.baseShapeList;case"chart":return a.Z.chartList;default:return[]}},type:function(){return"picture"===this.materialType||"transparent"===this.materialType?"picture":"line"===this.materialType?"line":this.materialType}},methods:{materialMouseenter:function(e,t){e.isLoadError||(0,i.z)(e)},materialMouseleave:function(){(0,i.v)()},getList(e,t="all"){let s=[];if("transShape"!==this.materialType)s="component"===this.materialType?e:this.localImageList.concat(e);else if("all"===t){let t=[...a.Z.transshapeList1,...a.Z.transshapeList2,...a.Z.transshapeList3,...a.Z.transshapeList4];s=this.localImageList.concat(t,e)}else if(void 0!==t){let i=a.Z[`transshapeList${t}`];s=this.localImageList.concat(i,e)}return s}}}},73145:function(e,t,s){"use strict";s.d(t,{E:function(){return n}});var i=s(97873),a=(s(21703),s(68939)),r=s(46450);s(63722);class n extends r.m{constructor(e=0,t=20,s="h5"){super(e,t,s),(0,i.Z)(this,"cancelHandle",{system:null,search:null,favorite:null})}fetchSystemResource(e,t){const s=Object.assign({},e,this.pagingParams);return a.Z.post(t,s,{cancelToken:new a.Z.CancelToken((e=>{this.cancelHandle.system=e}))}).then((e=>{const{data:t}=e})).catch((e=>{throw Error(e.message)})).finally((()=>{}))}fetchFavoriteResource(e,t){return a.Z.post(t,e,{cancelToken:new a.Z.CancelToken((e=>{this.cancelHandle.favorite=e}))}).then((e=>{const{data:t}=e,s=Number(e.data.status)||e.data.code.toUpperCase();if(1!==s&&"OK"!==s)throw Error(t.msg)})).catch((e=>{if("canceled"!==e.message)throw Error(e.message)})).finally((()=>{}))}}},46450:function(e,t,s){"use strict";s.d(t,{m:function(){return a}});var i=s(97873);class a{constructor(e=0,t=20,s="h5"){(0,i.Z)(this,"originPageIndex",1),(0,i.Z)(this,"pageIndex",1),(0,i.Z)(this,"pageSize",20),(0,i.Z)(this,"project","h5"),(0,i.Z)(this,"cancelHandle",{}),this.pageIndex=e,this.originPageIndex=e,this.pageSize=t,this.project=s}reset(){this.pageIndex=this.originPageIndex,this.cancelOtherPost("")}cancelOtherPost(e){Object.keys(this.cancelHandle).forEach((t=>{t!==e&&this.cancelHandle[t]&&(this.cancelHandle[t](),this.cancelHandle[t]=null)}))}get pagingParams(){return"xz"===this.project?{pageSize:this.pageSize,pageIndex:this.pageIndex}:{size:this.pageSize,current:this.pageIndex}}}},5174:function(e,t,s){var i={"./trans_01_shot.png":88904,"./trans_02_shot.png":28259,"./trans_03_shot.png":14933,"./trans_04_shot.png":4840,"./trans_05_shot.png":9620,"./trans_06_shot.png":12885,"./trans_07_shot.png":26600,"./trans_08_shot.png":94750,"./trans_09_shot.png":80304,"./trans_10_shot.png":17214,"./trans_11_shot.png":75684,"./trans_12_shot.png":15160};function a(e){var t=r(e);return s(t)}function r(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=5174},88904:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_01_shot.png"},28259:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_02_shot.png"},14933:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_03_shot.png"},4840:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_04_shot.png"},9620:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_05_shot.png"},12885:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_06_shot.png"},26600:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_07_shot.png"},94750:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_08_shot.png"},80304:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_09_shot.png"},17214:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_10_shot.png"},75684:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_11_shot.png"},15160:function(e,t,s){"use strict";e.exports=s.p+"static/img/trans_12_shot.png"}}]);