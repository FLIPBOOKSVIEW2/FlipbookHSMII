"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[3093,1899,7713],{94101:function(t,e,i){i.d(e,{Z:function(){return r}});var s=i(18023),o=i(76748),l={name:"ResourceReplace",props:{text:{type:String,default:o.ag.t("propsForEffect.changeMaterial")}},data(){return{}},computed:{currentSelectedItem:function(){return this.$store.getters.currentSelectedItem}},methods:{intoReplaceMode(){if(this.currentSelectedItem.isAsyncItem)return this.$message.warning(this.$t("asyncItem_20240318.text4"));this.$store.commit(s.Ewg,{isPreview:!1}),this.$store.commit(s.eKS,{isShow:!0})}},components:{ReplaceIcon:()=>i.e(4210).then(i.bind(i,74210))}},n=(0,i(1001).Z)(l,(function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.intoReplaceMode.apply(null,arguments)}}},[e("el-icon",{staticStyle:{"margin-right":"5px"},attrs:{size:14}},[e("ReplaceIcon")],1),t._v(" "+t._s(t.text)+" ")],1)}),[],!1,null,"cc0535a6",null),r=n.exports},78758:function(t,e,i){i.d(e,{Z:function(){return o}});var s={name:"TextStyleTooltip",components:{},data(){return{tooltipTextStyle:{}}},mounted(){},methods:{setTooltipPosition:function(t){switch(this.arrowPosition){case"center":this.tooltipTextStyle={left:`${t.left+t.width/2}px`,top:`${t.top}px`};break;case"left":this.tooltipTextStyle={left:`${t.left}px`,top:`${t.top}px`};break;case"right":this.tooltipTextStyle={right:`${t.right}px`,top:`${t.top}px`}}}},computed:{},props:["tooltipText","tooltipTextPostion","arrowPosition","isCustomText","placement"],watch:{tooltipTextPostion:function(t){0!==Object.keys(t).length&&this.setTooltipPosition(t)}}},o=(0,i(1001).Z)(s,(function(){var t=this,e=t._self._c;return e("div",{ref:"TextStyleTooltip",staticClass:"TextStyleTooltip",class:{"arrow-left":"left"===this.arrowPosition,"arrow-right":"right"===this.arrowPosition,"arrow-center":"center"===this.arrowPosition,"arrow-bottom":"bottom"===this.placement},style:t.tooltipTextStyle},[e("div",{staticClass:"text-style-tooltip"},[t.isCustomText?t._e():e("span",{staticClass:"tooltip-text-content"},[t._v(" "+t._s(t.tooltipText)+" ")]),t._t("custom-tooltip"),e("div",{ref:"tooltipArrow",staticClass:"tooltip-arrow"})],2)])}),[],!1,null,"031ee10c",null).exports},8250:function(t,e,i){i.r(e),i.d(e,{default:function(){return I}});var s=i(18023),o=i(11201),l=i(80597),n=i(23448),r=i(24118),c=i(78758),a=i(66546),h=i(65687),u=(i(57658),i(95944));const d={data(){return{borderTypeOption:[{label:"PropsForBaseShape_vue.text7",value:"solid"},{label:"PropsForBaseShape_vue.text6",value:"dotted"},{label:"PropsForBaseShape_vue.text8",value:"dashed"},{label:"PropsForBaseShape_vue.text9",value:"double"},{label:"PropsForBaseShape_vue.text10",value:"groove"},{label:"PropsForBaseShape_vue.text11",value:"ridge"},{label:"PropsForBaseShape_vue.text13",value:"outset"}],fontCssOption:[{tooltips:"propsForText2022_11_07.text3",type:"bold",icon:"BlodIcon"},{tooltips:"propsForText2022_11_07.text4",type:"italic",icon:"ItalicIcon"},{tooltips:"propsForText2022_11_07.text5",type:"underline",icon:"UnderlineIcon"}],textAlignOption:[{tooltips:"propsForText2022_11_07.text6",type:"left",icon:"AlignLeftIcon"},{tooltips:"propsForText2022_11_07.text7",type:"center",icon:"AlignCenterIcon"},{tooltips:"propsForText2022_11_07.text8",type:"right",icon:"AlignRightIcon"}],tableAddOption:[{tooltips:"table2023_04_04.text16",type:"up",icon:"AddUp"},{tooltips:"table2023_04_04.text17",type:"down",icon:"AddDown"},{tooltips:"table2023_04_04.text18",type:"left",icon:"AddLeft"},{tooltips:"table2023_04_04.text19",type:"right",icon:"AddRight"}],delRowAndColOption:[{tooltips:"table2023_04_04.text12",type:"row",icon:"DelRow"},{tooltips:"table2023_04_04.text13",type:"col",icon:"DelCol"}],selectStyleIndex:null}},computed:{writingMode:{get:function(){return this.item.innerTextStyle.writingMode},set:function(t){this.item.innerTextStyle.writingMode=t}},textDirection:function(){return this.item.innerTextStyle.direction},uType:function(){return this.$store.state.userData.uType},curUTypeCanAddTable:function(){return this.$store.state.upgradePanel.serviceLimit.EDIT_CAN_USE_TABLE[this.uType]},item:function(){return this.$store.getters.currentSelectedItem},isYZPro:function(){return this.$store.getters.isYZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},isXZPro:function(){return this.$store.getters.isXZPro},selectRowIndex:function(){return this.$store.getters.selectRowIndex},selectColIndex:function(){return this.$store.getters.selectColIndex}},methods:{changeTableStyle:async function(t,e){!this.isH5Pro&&!this.isYZPro||(0,u.$P)({permissionType:"table"})||(0,u.DB)({permissionType:"table"}),this.selectStyleIndex=e;let i=this.item,o=this.$store.state.workSpace.currentSelectedItemIndex;i.bgColor="",i.borderColor=t.borderColor,i.tableIndex=t.tableIndex,this.isXZPro&&(i.range=t.range);for(let e=0;e<i.rows;e++)for(let s=0;s<i.columns;s++)switch(i.tableList[e][s].borderColor=t.borderColor,t.tableType){case"1":i.tableList[e][s].bgColor=t.bgColor1;break;case"2":i.tableList[e][s].bgColor=0===e?t.bgColor1:"#FFF";break;case"3":i.tableList[e][s].bgColor=0===e?t.bgColor1:t.bgColor2;break;case"4":0===e||e===i.rows-1?i.tableList[e][s].bgColor=t.bgColor1:i.tableList[e][s].bgColor="#FFF";break;case"5":0===e&&(i.tableList[e][s].bgColor=t.bgColor1),0===s&&0!==e&&(i.tableList[e][s].bgColor=t.bgColor2),0!==s&&0!==e&&(i.tableList[e][s].bgColor=t.bgColor3)}i.tableIndex=t.tableIndex,this.$store.getters.currentPageItems.splice(o,1,i),this.$store.commit(s.dmy,{index:o})},insertRow:function(t){let e=[];this.item.tableList[this.selectRowIndex][this.selectColIndex].width,this.item.tableList[this.selectRowIndex][this.selectColIndex].height;for(let t=0;t<this.item.columns;t++){let i=r.Z.copy(this.item.tableList[this.selectRowIndex][t],!0);i.value="",i.checked=!1,e.push(i)}let i="up"===t?this.selectRowIndex:this.selectRowIndex+1;this.item.tableList.splice(i,0,e),this.$store.commit(s.sBx,{selectRowIndex:"up"===t?this.selectRowIndex+1:this.selectRowIndex}),this.item.rows+=1,this.rows=this.item.rows,this.$store.commit(s.N23,{canUndo:!0})},insertCol:function(t){this.$store.commit(s.K0o,{isDelCol:!0});let e="left"===t?this.selectColIndex:this.selectColIndex+1,i={width:this.item.style.width.split("px")[0]/this.item.columns,height:this.item.tableList[this.selectRowIndex][this.selectColIndex].height};i={width:this.item.tableList[this.selectRowIndex][this.selectColIndex].width,height:this.item.tableList[this.selectRowIndex][this.selectColIndex].height},this.item.tableList.forEach(((t,s)=>{let o=r.Z.copy(this.item.tableList[s][this.selectColIndex],!0);o.width=i.width,o.value="",o.checked=!1,t.splice(e,0,o)}));let o=parseFloat(this.item.style.width)+this.item.tableList[this.selectRowIndex][this.selectColIndex].width+"px";this.$store.commit(s.veJ,{item:this.item,width:o}),this.$store.commit(s.ApY,{selectColIndex:"left"===t?this.selectColIndex+1:this.selectColIndex}),this.item.columns+=1,this.$store.commit(s.N23,{canUndo:!0})},undo:function(){this.$store.commit(s.N23,{canUndo:!0})},setTable:function(t){this.item.tableList.forEach(((e,i)=>{e.splice(t,1)}))},findLastSelectedPosition(t,e){let i=null;return t.forEach(((t,e)=>{t.forEach(((t,s)=>{t.checked&&(i={value:t,rowIndex:e,colIndex:s,position:[e,s]})}))})),i}}};var m=i(12915),p=i(31937),x=i(13638),f=i(36564),S=i(63722),y=i(56202);const b=i(35732);let T={};b.keys().forEach((t=>{const e=b(t),i=t.replace(/^\.\//,"").replace(/\.\w+$/,"");T[i]=e.default||e}));var g={components:{PropGroup:o.default,ColorPickerV2:l.default,TextStyleTooltip:c.Z,DropdownForFontFamily:n.default,CustomSelect:y.default,...T,PropsInput:()=>i.e(9706).then(i.bind(i,49706))},mixins:[d,m.S],computed:{fontSize:{get:function(){let t=parseInt(this.item.innerTextStyle.fontSize);return t=this.isMultipleSelection?parseInt(this.selectList[0].innerTextStyle.fontSize):this.isSingleSelection?parseInt(this.item.tableList[this.selectRowIndex||0][this.selectColIndex||0].innerTextStyle.fontSize):parseInt(this.item.innerTextStyle.fontSize),t},set:function(t){let e=t+"px";this.$store.commit(s.Dn,{fontSize:t,itemId:this.item.id}),this.isMultipleSelection?this.item.tableList.forEach((t=>{t.forEach((t=>{t.checked&&(t.innerTextStyle.fontSize=e)}))})):this.isSingleSelection?this.item.tableList[this.selectRowIndex][this.selectColIndex].innerTextStyle.fontSize=e:(this.item.innerTextStyle.fontSize=e,this.item.tableList.forEach((t=>{t.forEach((t=>{t.innerTextStyle.fontSize=e}))})))}},fontColor:{get:function(){let t=this.item.innerTextStyle.color;return t=this.isMultipleSelection?this.selectList[0].innerTextStyle.color:this.isSingleSelection?this.item.tableList[this.selectRowIndex||0][this.selectColIndex||0].innerTextStyle.color:this.item.innerTextStyle.color,t},set:function(t){this.isMultipleSelection?this.item.tableList.forEach((e=>{e.forEach((e=>{e.checked&&(e.innerTextStyle.color=t)}))})):this.isSingleSelection?this.item.tableList[this.selectRowIndex][this.selectColIndex].innerTextStyle.color=t:(this.item.innerTextStyle.color=t,this.item.tableList.forEach((e=>{e.forEach((e=>{e.innerTextStyle.color=t}))})))}},isSelectedCell:function(){return this.selectColIndex||0===this.selectColIndex},textAlign:{get:function(){let t=this.item.innerTextStyle.textAlign;return t=this.isMultipleSelection?this.selectList[0].innerTextStyle.textAlign:this.isSingleSelection?this.item.tableList[this.selectRowIndex||0][this.selectColIndex||0].innerTextStyle.textAlign:this.item.innerTextStyle.textAlign,t},set:function(t){this.isMultipleSelection?this.item.tableList.forEach((e=>{e.forEach((e=>{e.checked&&(e.innerTextStyle.textAlign=t)}))})):this.isSingleSelection?this.item.tableList[this.selectRowIndex][this.selectColIndex].innerTextStyle.textAlign=t:(this.item.innerTextStyle.textAlign=t,this.item.tableList.forEach((e=>{e.forEach((e=>{e.innerTextStyle.textAlign=t}))})))}},textIndent:{get:function(){let t=this.item.innerTextStyle.textIndent;return t=this.isMultipleSelection?this.selectList[0].innerTextStyle.textIndent:this.isSingleSelection?this.item.tableList[this.selectRowIndex||0][this.selectColIndex||0].innerTextStyle.textIndent:this.item.innerTextStyle.textIndent+"em",t},set:function(t){this.isMultipleSelection?this.item.tableList.forEach((e=>{e.forEach((e=>{e.checked&&(e.innerTextStyle.textIndent=t+"em")}))})):this.isSingleSelection?this.item.tableList[this.selectRowIndex][this.selectColIndex].innerTextStyle.textIndent=t+"em":(this.item.innerTextStyle.textIndent=t+"em",this.item.tableList.forEach((e=>{e.forEach((e=>{e.innerTextStyle.textIndent=t+"em"}))})))}},isSingleSelection:function(){return this.$store.state.table.isSingleSelection},isMultipleSelection:function(){return this.$store.state.table.isMultipleSelection},selectList:function(){return this.$store.state.table.selectList},fontFamily:{get:function(){return"[object Object]"===Object.prototype.toString.call(this.item.innerTextStyle.fontFamily)?this.item.innerTextStyle.fontFamily.value:this.item.innerTextStyle.fontFamily},set:function(t){this.item.innerTextStyle.fontFamily=t}},cellFamily:{get:function(){return this.isMultipleSelection?this.selectList[0].innerTextStyle.fontFamily:this.item.tableList[this.selectRowIndex||0][this.selectColIndex||0].innerTextStyle.fontFamily},set:function(t){this.item.tableList[this.selectRowIndex][this.selectColIndex].innerTextStyle.fontFamily=t}},isEditingText:function(){return-1!==this.$store.state.pagePanel.textCopyIndex},pageFontUrlInfor:function(){return this.$store.state.pagePanel.pageFontUrlInfor},pageFontTextInfor:function(){return this.$store.state.pagePanel.pageFontTextInfor},borderStyle:function(){let t=this.item.tableList[0][0];t=this.isMultipleSelection?this.selectList[0]:this.isSingleSelection?this.item.tableList[this.selectRowIndex||0][this.selectColIndex||0]:this.item;let{borderColor:e,bgColor:i,borderWidth:s}=t;return{borderColor:e,bgColor:i,borderWidth:s}},borderWidth:{get:function(){return this.item.borderWidth||"1"},set:function(t){this.item.borderWidth=t,this.item.tableList.forEach((e=>{e.forEach((e=>{e.borderWidth=t}))})),this.undo()}}},watch:{rows:function(t){this.item.rows=parseInt(t),this.item.tableList=this.initTable(this.item.rows,this.item.columns)},columns:function(t){this.item.columns=parseInt(t)}},data(){return{fontSizeOptions:Array.from({length:189},((t,e)=>e+12)),rows:3,columns:3,delColIndex:null,delRowIndex:null,isShowTextStyleTooltip:!1,textStyleTooltip:"",textStyleTooltipPostion:{},textStyleTooltipArrowPosition:"left",toolTipTextOptions:{},tableList:[],yzGetMinLevelId:x.gu}},mounted:function(){const t=JSON.parse(JSON.stringify(p.d));this.isXZPro&&(t.forEach(((t,e)=>{this.$set(t,"range",2)})),this.tableList=t.map(((t,e)=>new S.v1({item:t,type:"table"})))),this.tableList=t,this.rows=this.item.rows,this.columns=this.item.columns,(0===this.item.tableIndex||this.item.tableIndex)&&(this.selectStyleIndex=this.item.tableIndex,this.$nextTick((()=>{const t=this.$refs.tableStyleListRef.$el.childNodes[this.selectStyleIndex];t&&t.scrollIntoView({block:"center"})})))},methods:{saveBeforePage:function(){this.$store.commit(s.CjF)},setBorderColor:function(t){this.judeCaseStyle("borderColor",t.value)},setBgColor:function(t){this.judeCaseStyle("bgColor",t.value)},setFontColor:function(t){this.judeCaseStyle("color",t.value,"fontSize")},increaseSize:function(){this.saveBeforePage(),this.fontSize=Number(this.fontSize)+1,this.$store.commit(s.N23,{canUndo:!0})},decreaseSize:function(){this.saveBeforePage(),this.fontSize=Number(this.fontSize)-1,Number(this.fontSize)<1?this.fontSize=1:this.$store.commit(s.N23,{canUndo:!0})},getTypeValue:function({type:t,value:e,isUpload:i,isTeamResource:s}){this.saveBeforePage(),this.setinnerTextStyle({type:t,value:e,isUpload:i,isTeamResource:s})},setTextStyle:async function({type:t,value:e}){this.saveBeforePage(),this.$store.commit(s.Jct,{item:this.item}),this.$nextTick((()=>{this.isMultipleSelection?this.item.tableList.forEach((e=>{e.forEach((e=>{e.checked&&this.itemTextStyle(e,t)}))})):this.isSingleSelection?this.itemTextStyle(this.item.tableList[this.selectRowIndex][this.selectColIndex],t):(this.itemTextStyle(this.item,t),this.item.tableList.forEach((e=>{e.forEach((e=>{this.itemTextStyle(e,t)}))})))})),this.saveUndo()},itemTextStyle(t,e){this.$nextTick((async()=>{switch(e){case"bold":t.isAllBold=!t.isAllBold;break;case"italic":t.isAllItalic=!t.isAllItalic;break;case"underline":t.isAllUndeline=!t.isAllUndeline;break;case"strikeThrough":t.strikeThrough=!t.strikeThrough}a.Q.$emit(a.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0})}))},getFontFace:async function({item:t,tableItem:e,value:i,isEditingText:o,isUpload:l,isLastIndex:n=!1}){let r=this.pageFontUrlInfor[i];if(l)this.$store.commit(s.u_l,{item:t,textState:!0}),this.$store.commit(s.WDe,{item:t}),await this.$store.dispatch(s.qd3,{item:e,uploadFont:i,getFont:t.uploadedFontToSvg}),await(0,h.i1)({item:e}).catch((()=>{t.uploadedFontToSvg=!1,this.msg&&this.msg.close(),this.msg=this.$message({message:this.$i18n.t("PropsForText_vue.text18"),type:"warning",duration:5e3})})),this.$store.commit(s.u_l,{item:e,textState:!1}),this.$store.commit(s.ahn,{item:e});else if(r&&r.loadAll)await(0,h.i1)({item:e,needTimeout:!0}),o||a.Q.$emit(a.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0});else{let i=e.value;if(o){i=document.querySelector(".textCloneArea").querySelector(".textArea").innerText}this.$store.commit(s.u_l,{item:t,textState:!0}),(this.isSingleSelection||n)&&await this.$store.dispatch(s.eNr,{item:e,textStr:e.value,uploadMiniFont:!1}),o?await(0,h.i1)({item:t}):(this.$store.commit(s.WDe,{item:e}),await this.$store.dispatch(s.oq5,{item:e,needTimeout:!0}),a.Q.$emit(a.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0}),this.$store.commit(s.ahn,{item:e})),this.$store.commit(s.u_l,{item:t,textState:!1,canUndo:!1})}},setinnerTextStyle:async function({type:t,value:e,isUpload:i,isTeamResource:o}){if(this.saveBeforePage(),"fontSize"===t&&this.$store.commit(s.Dn,{fontSize:e,itemId:this.item.id}),"fontName"===t&&this.$store.commit(s.cg$,{fontFamily:e}),"textIndent"===t&&this.$store.commit(s.RV5,{textIndent:e}),this.isMultipleSelection){const s=this.findLastSelectedPosition(this.item.tableList),{rowIndex:l,colIndex:n}=s;this.item.tableList.forEach(((s,r)=>{s.forEach(((s,c)=>{if(s.checked){const a=r===l&&c===n;this.setStyle({item:this.item,tableItem:s,type:t,value:e,isUpload:i,isTeamResource:o,isLastIndex:a})}}))}))}else if(this.isSingleSelection){const s=this.item.tableList[this.selectRowIndex][this.selectColIndex];this.setStyle({item:this.item,tableItem:s,type:t,value:e,isUpload:i,isTeamResource:o})}else"fontName"===t&&(this.item.innerTextStyle.fontFamily=e),"textAlign"===t&&(this.item.innerTextStyle.textAlign=e),"textIndent"===t&&(this.item.innerTextStyle.textIndent=this.item.innerTextStyle.textIndent?"":e),"fontSize"===t&&(this.item.innerTextStyle.fontSize=String(e).indexOf("px")>-1?e:e+"px"),this.item.tableList.forEach(((s,l)=>{s.forEach(((n,r)=>{const c=l===this.item.tableList.length-1&&r===s.length-1;this.setStyle({item:this.item,tableItem:n,type:t,value:e,isUpload:i,isTeamResource:o,isLastIndex:c})}))}));this.$store.commit(s.N23,{canUndo:!0})},setStyle:async function({item:t,tableItem:e,type:i,value:o,isUpload:l,isTeamResource:n,isLastIndex:c}){if(t.isTeamResource="boolean"==typeof n&&n,this.$store.commit(s.n2Y,{textItem:e,type:i,value:"[object Object]"!==Object.prototype.toString.call(o)?o:o.value}),"fontName"===i){if(l){const t=r.Z.getPathFilename(o.url);e.uploadFontUrl=o.url,e.uploadedFontFileName=t,e.isNewFile=!0}else e.isNewFile=!1;this.$store.commit(s.hye),this.getFontFace({item:t,tableItem:e,value:o,isEditingText:this.isEditingText,isUpload:l,isLastIndex:c})}else(this.isH5Pro||this.isYZPro)&&await(0,h.i1)({item:e,textChangeSize:!1}),this.isEditingText||a.Q.$emit(a.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0})},showTextStyleTooltip:function(t,e,i,s={}){const o=window.innerWidth,{top:l,left:n,right:r,width:c}=t.target.getBoundingClientRect();this.textStyleTooltip=e,this.textStyleTooltipPostion={top:l,left:n,right:o-r,width:c},this.textStyleTooltipArrowPosition=i,this.isShowTextStyleTooltip=!0},initTable(t,e,i,s,o){let l=Array.from(new Array(t),(()=>new Array(e))),n=r.Z.copy(this.item.tableList),c=n.length,a=n[0].length;for(let s=0;s<t;s++)for(let o=0;o<e;o++)if(t>c)!i&&s<c&&o<a?l[s][o]=r.Z.copy(n[s][o],!0):!this.isMultipleSelection&&!this.isSingleSelection&&s>c-1&&(l[s][o]=r.Z.copy(l[c-1][o],!0),l[s][o].value="",l[s][o].checked=!1);else if(t<c){l[s][o]=n[s][o];let e=this.splitPx(this.item.style.height),i=0;for(let e=0;e<c-t;e++)i+=n[c-e-1][o].height;setTimeout((()=>{this.item.style.height=e-i+"px"}),10)}else if(e>a)s<c&&o<a?(l[s][o]=n[s][o],l[s][o].width=this.splitPx(this.item.style.height)/e):!this.isMultipleSelection&&!this.isSingleSelection&&o>a-1&&(l[s][o]=r.Z.copy(l[s][a-1],!0),l[s][o].width=this.splitPx(this.item.style.width)/e,l[s][o].value="",l[s][o].checked=!1);else if(e<a)if("colDel"===i&&s<c&&o<a)l[s][o]=o<this.delColIndex?n[s][o]:n[s][o+1];else if(s<c&&o<a){l[s][o]=n[s][o];let t=this.splitPx(this.item.style.width),i=0;for(let t=0;t<a-e;t++)i+=n[s][a-t-1].width;setTimeout((()=>{this.item.style.width=t-i+"px"}),10)}else l[s][o]=new f.pj({height:n[s][o].height,width:this.splitPx(this.item.style.width)/e,innerTextStyle:this.item.innerTextStyle,borderColor:this.item.borderColor,borderWidth:this.item.borderWidth,bgColor:this.item.bgColor});else s<c&&o<a?l[s][o]=n[s][o]:(l[s][o].innerTextStyle=r.Z.copy(this.item.innerTextStyle,!0),l[s][o].borderColor=this.item.borderColor,l[s][o].borderWidth=this.item.borderWidth,l[s][o].bgColor=this.item.bgColor);return l},deleteCurRow:function(){if(1===this.item.rows)return;let t=this.$store.state.table.selectRowIndex,e=this.$store.state.table.selectColIndex,i=this.item.tableList[t][e].height,o=this.splitPx(this.item.style.height);this.item.rows=this.item.rows-1,this.rows=parseInt(this.item.rows),this.item.tableList.splice(t,1),this.$store.commit(s.LLS,{isMultipleSelection:!1}),this.$store.commit(s.EFR,{isSingleSelection:!1}),this.$store.commit(s.sBx,{selectRowIndex:null}),this.$store.commit(s.ApY,{selectColIndex:null}),this.$store.commit(s.T33,{selectList:[]}),this.item.tableList.forEach((t=>{t.forEach((t=>{t.checked=!1}))})),this.$nextTick((()=>{this.item.style.height=o-i+"px"})),this.$store.commit(s.N23,{canUndo:!0})},deleteCurCol:function(){if(1===this.item.columns)return;this.$store.commit(s.K0o,{isDelCol:!0});let t=this.$store.state.table.selectColIndex,e=this.$store.state.table.selectRowIndex;this.delColIndex=t;let i=this.splitPx(this.item.style.width),o=this.item.tableList[e][t].width;this.item.style.width=i-o+"px",this.item.columns=this.item.columns-1,this.columns=parseInt(this.item.columns),this.setTable(t),this.$store.commit(s.sBx,{selectRowIndex:null}),this.$store.commit(s.ApY,{selectColIndex:null}),this.$store.commit(s.LLS,{isMultipleSelection:!1}),this.$store.commit(s.EFR,{isSingleSelection:!1}),this.$store.commit(s.T33,{selectList:[]}),this.item.tableList.forEach((t=>{t.forEach((t=>{t.checked=!1}))})),this.$store.commit(s.N23,{canUndo:!0})},splitPx:function(t){let e=0;return t&&(e=parseFloat(t.split("px")[0])),e},judeCaseStyle:function(t,e,i){this.isMultipleSelection?this.item.tableList.forEach((s=>{s.forEach((s=>{s.checked&&("fontSize"===i?this.$set(s.innerTextStyle,t,e):this.$set(s,t,e))}))})):this.isSingleSelection?"fontSize"===i?this.item.tableList[this.selectRowIndex][this.selectColIndex].innerTextStyle.color=e:this.item.tableList[this.selectRowIndex][this.selectColIndex][t]=e:("fontSize"===i?this.$set(this.item.innerTextStyle,t,e):this.$set(this.item,t,e),this.item.tableList.forEach((s=>{s.forEach((s=>{"fontSize"===i?this.$set(s.innerTextStyle,t,e):this.$set(s,t,e)}))})))},setWidth:function(t){this.item.borderWidth=t,this.item.tableList.forEach((e=>{e.forEach((e=>{e.borderWidth=t}))}))},saveUndo:function(){this.$store.commit(s.N23,{canUndo:!0})},addRowAndColumn:function(t){switch(t){case"up":case"down":this.insertRow(t);break;case"right":case"left":this.insertCol(t)}this.isShowTextStyleTooltip=!1},delRowAndCol:function(t){"row"===t?this.deleteCurRow():this.deleteCurCol()}}},w=(0,i(1001).Z)(g,(function(){var t=this,e=t._self._c;return e("div",{key:t.item.id,staticClass:"PropsForTable"},[e("PropGroup",[e("el-row",{attrs:{type:"flex"}},[e("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"table-style-box"},[e("div",[e("el-row",{ref:"tableStyleListRef",staticClass:"table-style-content",attrs:{type:"flex"}},t._l(t.tableList,(function(i,s){return e("div",{key:s,class:["table-style-item",t.item.tableIndex===i.tableIndex?"is-active-table-style":""],on:{click:function(e){return t.changeTableStyle(i,s)}}},[e("div",{staticClass:"table-icon",domProps:{innerHTML:t._s(i.propsIcon)}}),t.isXZPro&&t.uType<i.range?e("icon-version",{attrs:{"level-id":i.range,placement:"bottom-right"}}):t._e(),!t.isH5Pro&&!t.isYZPro||t.curUTypeCanAddTable?t._e():e("icon-version",{attrs:{"level-id":t.yzGetMinLevelId({type:"table"}),placement:"bottom-right"}})],1)})),0)],1)])])],1),t.isSelectedCell?e("PropGroup",{attrs:{title:"table2023_04_04.text14"}},[e("el-row",{staticClass:"text_row",attrs:{type:"flex"}},[e("el-row",{staticClass:"fontCss fontCss_box addCss_box",attrs:{type:"flex"}},t._l(t.tableAddOption,(function(i,s){return e("div",{key:s,staticClass:"cssBox",on:{click:function(e){return t.addRowAndColumn(i.type)},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t(i.tooltips),"center")},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e(i.icon,{tag:"component"})],1)],1)})),0),e("el-row",{staticClass:"fontCss fontCss_box delCss_box",attrs:{type:"flex"}},t._l(t.delRowAndColOption,(function(i,s){return e("div",{key:s,class:["cssBox",{"disabled-del":"row"===i.type&&1===t.rows||"col"===i.type&&1===t.columns}],on:{click:function(e){return t.delRowAndCol(i.type)},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t(i.tooltips),"right")},mouseleave:function(e){t.isShowTextStyleTooltip=!1},mousedown:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e(i.icon,{tag:"component"})],1)],1)})),0)],1)],1):t._e(),e("PropGroup",{attrs:{title:t.isSelectedCell?"table2023_04_04.text21":"table2023_04_04.text4"}},[t.isH5Pro||t.isYZPro?e("el-row",{staticClass:"fontFamily"},[0===t.selectColIndex||t.selectColIndex?e("el-col",[e("DropdownForFontFamily",{attrs:{type:"fontName",value:t.cellFamily,maxH:370},on:{getTypeValue:t.getTypeValue}})],1):e("el-col",[e("DropdownForFontFamily",{key:t.item.id+t.selectRowIndex+t.selectColIndex,attrs:{type:"fontName",value:t.fontFamily,maxH:370},on:{getTypeValue:t.getTypeValue}})],1)],1):t._e(),e("el-row",[e("el-col",{staticClass:"selectColor",attrs:{span:5}},[e("div",{staticClass:"selectcolorRow"},[e("ColorPickerV2",{attrs:{color:t.fontColor,changeCallback:t.setFontColor}})],1)]),e("el-col",{staticClass:"DropdownFontSize",attrs:{span:11}},[e("custom-select",{attrs:{"data-v":"v2","popper-class":"props-select-input-popper",value:t.fontSize,options:t.fontSizeOptions},on:{change:e=>t.getTypeValue({type:"fontSize",value:e})}})],1),e("el-col",{attrs:{span:8}},[e("el-row",{staticClass:"trunSize_box",attrs:{type:"flex"}},[e("el-row",{staticClass:"trunSize icon-decreaseSize",attrs:{type:"flex",align:"middle",justify:"center"},nativeOn:{click:function(e){return t.decreaseSize()},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t("propsForText2022_11_07.text2"),"right")},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e("DecreaseSizeIcon",{tag:"component"})],1)],1),e("el-row",{staticClass:"trunSize icon-increaseSize",attrs:{type:"flex",align:"middle",justify:"center"},nativeOn:{click:function(e){return t.increaseSize()},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t("propsForText2022_11_07.text1"),"right")},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e("IncreaseSizeIcon",{tag:"component"})],1)],1)],1)],1)],1),e("el-row",{staticClass:"text_row",attrs:{type:"flex"}},[e("el-row",{staticClass:"fontCss fontCss_box",attrs:{type:"flex"}},t._l(t.fontCssOption,(function(i,s){return e("div",{key:s,staticClass:"cssBox",on:{click:function(e){return t.setTextStyle({type:i.type})},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t(i.tooltips),"center")},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e(i.icon,{tag:"component"})],1)],1)})),0),e("el-row",{staticClass:"fontCss fontCss_box",attrs:{type:"flex"}},t._l(t.textAlignOption,(function(i,s){return e("div",{key:s,staticClass:"cssBox",class:{selected:t.textAlign===i.type},on:{click:function(e){return t.setinnerTextStyle({type:"textAlign",value:i.type})},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t(i.tooltips),"right")},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e(i.icon,{tag:"component"})],1)],1)})),0)],1)],1),e("PropGroup",{attrs:{title:t.isSelectedCell?"table2023_04_04.text22":"table2023_04_04.text24"}},[e("el-row",[e("el-col",{attrs:{span:19}},[e("span",[t._v(t._s(t.$t("table2023_04_04.text7")))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"color-btn"},[e("ColorPickerV2",{attrs:{color:t.borderStyle.bgColor,changeCallback:t.setBgColor}})],1)])],1),t.isMultipleSelection||t.isSingleSelection?t._e():e("el-row",[e("el-col",{attrs:{span:19}},[e("span",[t._v(t._s(t.$t("table2023_04_04.text8")))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"color-btn"},[e("ColorPickerV2",{attrs:{color:t.borderStyle.borderColor,changeCallback:t.setBorderColor}})],1)])],1),t.isMultipleSelection||t.isSingleSelection?t._e():e("el-row",[e("PropsInput",{attrs:{title:t.$t("table2023_04_04.text15"),type:"number",min:1,max:10,iptW:115,settingValue:t.borderWidth},on:{"update:settingValue":function(e){t.borderWidth=e},"update:setting-value":function(e){t.borderWidth=e},change:t.saveUndo},nativeOn:{mousedown:function(e){return t.saveBeforePage.apply(null,arguments)}}})],1)],1),e("TextStyleTooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTextStyleTooltip,expression:"isShowTextStyleTooltip"}],staticClass:"table-tooltip",attrs:{tooltipText:t.textStyleTooltip,tooltipTextPostion:t.textStyleTooltipPostion,arrowPosition:t.textStyleTooltipArrowPosition,textOptions:t.toolTipTextOptions}})],1)}),[],!1,null,"067318b6",null),I=w.exports},12915:function(t,e,i){i.d(e,{S:function(){return c}});var s=i(18023),o=i(94101),l={name:"ResourceTopGroup",data(){return{}},computed:{pathAnime:function(){return this.$store.state.timeline.pathAnime},pathItemSelectedIndex:function(){return this.pathAnime.pathItemSelectedIndex},item:function(){return-1!==this.pathItemSelectedIndex?this.$store.getters.currentSelectedPathItem:this.$store.getters.currentSelectedItem},isXZPro:function(){return this.$store.getters.isXZPro},isMulti:function(){return this.$store.getters.isMulti}},methods:{intoReplaceMode(){this.$store.commit(s.Ewg,{isPreview:!1}),this.$store.commit(s.eKS,{isShow:!0})},searchBeLike:function(){this.$store.commit(s.$8l,{menu:"material"}),this.isShowSearchPanel=!0,setTimeout((()=>{eventBus.$emit(busType.SEARCH_SIMILARITY,this.item.name)}),500)}},components:{PropGroup:i(11201).default}},n=(0,i(1001).Z)(l,(function(){var t=this,e=t._self._c;return e("PropGroup",{attrs:{itemId:t.item.id}},[t.isMulti?t._e():[e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.intoReplaceMode.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("propsForEffect.changeMaterial"))+" ")]),t.isXZPro?e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.searchBeLike.apply(null,arguments)}}},[t._v(" 搜索相似 ")]):t._e(),t.isXZPro?e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.searchBeLike.apply(null,arguments)}}},[t._v(" 收藏 ")]):t._e()],t._t("default")],2)}),[],!1,null,"5e160046",null),r=n.exports;const c={components:{ResourceReplace:o.Z,ResourceTopGroup:r},replaceRes:function(){this.$store.commit(s.Ewg,{isPreview:!1}),this.$store.commit(s.eKS,{isShow:!0})},computed:{currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},isEditingPath:function(){return this.$store.state.timeline.pathAnime.isEditingPath},showReplaceBtn:function(){return!(-1!==this.currentSelectedGroupItemIndex&&!this.isEditingPath)},isXZPro:function(){return this.$store.getters.isXZPro}}}}}]);