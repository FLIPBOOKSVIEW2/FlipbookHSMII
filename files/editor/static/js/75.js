"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[75],{70075:function(t,e,i){i.r(e),i.d(e,{default:function(){return z}});var o=i(11201),s=i(80597),n=i(23448),l=i(49986),r=i.n(l),a=(i(57658),i(18023)),u=i(25986),c=i(59659),p=i(59693),h=i(24118),d={name:"ApplyTextStyleMode",data(){return{showNotice:!1,targetDefault:0,textCheckBoxs:[{key:"normalText",label:this.isXZPro?"ApplyTextStyle_vue.text8":"ApplyTextStyle_vue.xzText8",value:"",disabled:!1,check:!0},{key:"subtitleText",label:this.isXZPro?"ApplyTextStyle_vue.text9":"ApplyTextStyle_vue.xzText9",value:"",disabled:!1,check:!1},{key:"all",label:this.isXZPro?"ApplyTextStyle_vue.text10":"ApplyTextStyle_vue.xzText10",value:"",disabled:!1,check:!1}],styleCheckBoxs:[{key:"fontFamily",label:this.$i18n.t("ApplyTextStyle_vue.fontFamily"),value:"",disabled:!1,check:!0},{key:"fontSize",label:this.$i18n.t("ApplyTextStyle_vue.text11"),value:"",disabled:!1,check:!1},{key:"fontColor",label:this.$i18n.t("ApplyTextStyle_vue.text12"),value:"",disabled:!1,check:!1},{key:"lineHeight",label:this.$i18n.t("ApplyTextStyle_vue.text13"),value:"",disabled:!1,check:!1},{key:"letterSpacing",label:this.$i18n.t("ApplyTextStyle_vue.text14"),value:"",disabled:!1,check:!1},{key:"textAlign",label:this.$i18n.t("ApplyTextStyle_vue.text15"),value:"",disabled:!1,check:!1},{key:"textDirection",label:this.$i18n.t("v2022_3_23.textDirection"),value:"",disabled:!1,check:!1},{key:"rotate",label:this.$i18n.t("ApplyTextStyle_vue.text16"),value:"",disabled:!1,check:!1},{key:"opacity",label:this.$i18n.t("PropsForText_vue.text12"),value:"",disabled:!1,check:!1},{key:"dropShadow",label:this.$i18n.t("ApplyTextStyle_vue.text17"),value:"",disabled:!1,check:!1},{key:"stroke",label:this.$i18n.t("ApplyTextStyle_vue.text18"),value:"",disabled:!1,check:!1},{key:"gradient",label:this.$i18n.t("ApplyTextStyle_vue.text19"),value:"",disabled:!1,check:!1},{key:"position",label:this.$i18n.t("ApplyTextStyle_vue.text21"),value:"",disabled:!0,check:!1},{key:"bColor",label:this.$i18n.t("ApplyTextStyle_vue.text22"),value:"",disabled:!0,check:!1}],uploadFont2Svg:{key:"toSvg",label:this.$i18n.t("ApplyTextStyle_vue.text20"),value:"",disabled:!0,check:!1},systemFont2Svg:{key:"systemFontToSvg",label:this.$i18n.t("ApplyTextStyle_vue.text20"),value:"",disabled:!0,check:!1},sceneDefault:0,sceneCheckoutBoxs:[{key:"curScene",label:this.isXZPro?"ApplyTextStyle_vue.text23":"ApplyTextStyle_vue.yztext23",value:"",disabled:!1,check:!1},{key:"allScene",label:this.isXZPro?"ApplyTextStyle_vue.text24":"ApplyTextStyle_vue.yztext24",value:"",disabled:!1,check:!0}],showLoadingBox:!1,isIndeterminate:!1,checkAll:!1,showStep1:!1,showStep2:!1,onlySubKey:["position","bColor"]}},watch:{targetDefault:function(t){for(let e=0;e<this.styleCheckBoxs.length;e++){let i=this.styleCheckBoxs[e];this.onlySubKey.includes(i.key)&&(1===t||2===t?i.disabled=!1:(i.disabled=!0,i.check=!1))}}},computed:{isShowApplyTextStyleMode:{get:function(){return this.$store.state.rightPanel.isShowApplyTextStyleMode},set:function(t){this.$store.state.rightPanel.isShowApplyTextStyleMode=t}},isYZPro:function(){return this.$store.getters.isYZPro},currentSelectedItem:function(){return this.$store.getters.currentSelectedItem},innerTextStyle:function(){return this.currentSelectedItem.innerTextStyle},fontFamily:function(){return this.innerTextStyle.fontFamily},fontFamilyFormat:function(){if(this.currentSelectedItem.isUploadedFont)return this.fontFamily;return c.Z.getFontJsonValue(this.fontFamily).label},isSystemFont:function(){return this.currentSelectedItem.isSystemFont},uploadedFontToSvg:function(){return this.currentSelectedItem.uploadedFontToSvg},textAlignFormat:function(){switch(this.innerTextStyle.textAlign){case"left":return this.$i18n.t("ApplyTextStyle_vue.text25");case"center":return this.$i18n.t("ApplyTextStyle_vue.text26");case"right":return this.$i18n.t("ApplyTextStyle_vue.text27");case"justify":return this.$i18n.t("propsForText2022_11_07.text9")}},stroke:function(){return this.currentSelectedItem.stroke},dropShadow:function(){return this.currentSelectedItem.filter.dropShadow},gradient:function(){return this.currentSelectedItem.gradient},subBColor:function(){return this.currentSelectedItem.subBColor},pages:function(){return this.$store.state.pagePanel.pages},isXZPro:function(){return this.$store.getters.isXZPro},selectMultiList:function(){return this.$store.state.pagePanel.selectMultiList},isZHCNLang(){return this.$store.getters.isZHCNLang}},mounted(){this.initStyleConfig(),this.currentSelectedItem.isSubtitle&&(this.targetDefault=1)},methods:{checkChange:function(t){t&&(this.showNotice=!1);for(let t=0;t<this.styleCheckBoxs.length;t++){let e=this.styleCheckBoxs[t];e.disabled||e.check||this.checkAll&&(this.isIndeterminate=!0)}},getStr:function(t){return this.currentSelectedItem.id!==t.id?t.name:""},getConfig:async function(){let t=[];if(this.styleCheckBoxs.forEach((e=>{e.check&&t.push(e.key)})),0===t.length)this.showNotice=!0;else{this.showLoadingBox=!0;let e=[];if(0===this.sceneDefault?e.push(this.$store.state.pagePanel.currentIndex):1===this.sceneDefault&&(e=Array.from({length:this.pages.length},((t,e)=>e))),this.currentSelectedItem.isUploadedFont)this.showStep2=!0,await this.$store.dispatch(a.qd3,{item:this.currentSelectedItem}),await this.$store.dispatch(a.eB4,{textStyleList:t,sceneValue:this.sceneDefault,targetValue:this.targetDefault,pageArray:e}).then((()=>{this.showStep2=!1,this.showLoadingBox=!1,this.isShowApplyTextStyleMode=!1,this.$store.commit(a.N23,{action:"applyToAll",canUndo:!0})}));else if(this.fontFamily===p._.defaultFamily&&this.isXZPro)this.showStep2=!0,this.$store.dispatch(a.eB4,{textStyleList:t,sceneValue:this.sceneDefault,targetValue:this.targetDefault,pageArray:e}).then((()=>{this.showStep2=!1,this.showLoadingBox=!1,this.isShowApplyTextStyleMode=!1,this.$store.commit(a.N23,{action:"applyToAll",canUndo:!0})}));else{let i="";this.pages.forEach(((t,o)=>{if(e.includes(o)){if(0===this.targetDefault||2===this.targetDefault){t.items.forEach((e=>{if("text"===e.type&&(-1===this.selectMultiList.indexOf(o)&&(this.$store.commit(a.XnR,{index:o}),this.$store.commit(a.fu1,{item:{item:h.Z.copy(t,!0),pageIndex:o}})),i+=this.getStr(e)),"group"===e.type){e.items.forEach((e=>{"text"===e.type&&(-1===this.selectMultiList.indexOf(o)&&(this.$store.commit(a.XnR,{index:o}),this.$store.commit(a.fu1,{item:{item:h.Z.copy(t,!0),pageIndex:o}})),i+=this.getStr(e))}))}}))}if(1===this.targetDefault||2===this.targetDefault){t.subtitle.items.forEach((t=>{i+=this.getStr(t)}))}}})),this.showStep1=!0,this.$set(this.$store.state.pagePanel.pageFontTextInfor,this.fontFamily,i),this.$store.dispatch(a.eNr,{fontFamily:this.fontFamily,uploadMiniFont:!1}).then((()=>{this.showStep1=!1,this.showStep2=!0,this.$store.dispatch(a.eB4,{textStyleList:t,sceneValue:this.sceneDefault,targetValue:this.targetDefault,pageArray:e}).then((()=>{this.showStep2=!1,this.showLoadingBox=!1,this.$store.commit(a.N23,{action:"applyToAll",canUndo:!0}),this.isShowApplyTextStyleMode=!1}))}))}}},initStyleConfig:function(){if(this.isXZPro){const t=this.styleCheckBoxs.findIndex((t=>"gradient"===t.key));this.styleCheckBoxs.splice(t+1,0,this.uploadFont2Svg)}this.styleCheckBoxs.forEach((t=>{switch(t.key){case"fontFamily":t.value=this.fontFamilyFormat;break;case"fontSize":t.value=parseInt(this.innerTextStyle.fontSize)+"px";break;case"fontColor":t.value=this.innerTextStyle.color;break;case"lineHeight":t.value=this.innerTextStyle.lineHeight+"px";break;case"letterSpacing":t.value=this.innerTextStyle.letterSpacing;break;case"textAlign":t.value=this.textAlignFormat;break;case"textDirection":t.value=this.innerTextStyle.direction;break;case"rotate":t.value=parseInt(this.currentSelectedItem.rotate)+this.$i18n.t("ApplyTextStyle_vue.text28");break;case"opacity":t.value=this.currentSelectedItem.style.opacity;break;case"stroke":t.disabled=!1,this.currentSelectedItem.isShowStroke||(t.value=this.$i18n.t("ApplyTextStyle_vue.text29"));break;case"systemFontToSvg":this.currentSelectedItem.systemFontToSvg?t.value=this.$i18n.t("ApplyTextStyle_vue.text30"):t.value=this.$i18n.t("ApplyTextStyle_vue.text31"),t.disabled=!1;break;case"toSvg":this.currentSelectedItem.isUploadedFont?(this.uploadedFontToSvg?t.value=this.$i18n.t("ApplyTextStyle_vue.text30"):t.value=this.$i18n.t("ApplyTextStyle_vue.text31"),t.disabled=!1):t.disabled=!0;break;case"dropShadow":t.disabled=!1,this.currentSelectedItem.isShowShadow||(t.value=this.$i18n.t("ApplyTextStyle_vue.text32"));break;case"gradient":t.disabled=!1,this.gradient.show||(t.value=this.$i18n.t("ApplyTextStyle_vue.text33"));break;case"position":this.currentSelectedItem.isSubtitle?t.disabled=!1:t.disabled=!0;break;case"bColor":this.currentSelectedItem.isSubtitle?(t.disabled=!1,this.subBColor.isShow||(t.value=this.$i18n.t("ApplyTextStyle_vue.text34"))):t.disabled=!0}}))},handleCheckAllChange:function(t){t?(this.styleCheckBoxs.forEach((t=>{t.disabled||(t.check=!0)})),this.isIndeterminate=!1):(this.styleCheckBoxs.forEach((t=>{t.disabled||(t.check=!1)})),this.isIndeterminate=!1)}},components:{Lightbox:u.default}},f=i(1001),x=(0,f.Z)(d,(function(){var t=this,e=t._self._c;return t.isShowApplyTextStyleMode?e("Lightbox",{attrs:{isShow:t.isShowApplyTextStyleMode,title:t.$t("ApplyTextStyle_vue.text1"),showConfirm:!0,isAutoWidth:!1,forbidConfirm:t.showLoadingBox,forbidClose:t.showLoadingBox,customWidth:640,confirmCallBackNoClose:t.getConfig},on:{"update:isShow":function(e){t.isShowApplyTextStyleMode=e},"update:is-show":function(e){t.isShowApplyTextStyleMode=e}}},[e("div",{staticClass:"ApplyTextStyleMode w-full pl-[30px] flex flex-col"},[e("el-row",{staticClass:"targetText"},[e("el-col",{staticClass:"at_title",attrs:{span:5}},[e("el-row",{staticStyle:{"line-height":"26px"}},[t._v(t._s(t.$t("ApplyTextStyle_vue.text2")))]),e("el-row",{staticClass:"checkAll"},[e("el-checkbox",{attrs:{"data-v":"v2",indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v(t._s(t.$t("RightPanel_vue.text1")))])],1)],1),e("el-col",{staticClass:"at_checkboxs",attrs:{span:19}},[e("div",{staticClass:"at_flex"},t._l(t.styleCheckBoxs,(function(i){return e("div",{key:i.key,staticClass:"at_singleBox",attrs:{span:12}},[e("el-checkbox",{attrs:{"data-v":"v2",disabled:i.disabled},on:{change:t.checkChange},model:{value:i.check,callback:function(e){t.$set(i,"check",e)},expression:"option.check"}},[e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",["fontColor"!==i.key?[t._v(" "+t._s(i.label)+t._s(t.isZHCNLang?"：":": ")),""!==i.value?e("span",[t._v(t._s(i.value))]):t._e()]:[t._v(" "+t._s(i.label)+t._s(t.isZHCNLang?"：":": ")),e("span",{staticClass:"colorBox",style:{backgroundColor:i.value}}),t._v(" "+t._s(i.value)+" ")]],2)]},proxy:!0}],null,!0)},[e("div",["fontColor"!==i.key?[t._v(" "+t._s(i.label)+t._s(t.isZHCNLang?"：":": ")),""!==i.value?e("span",[t._v(t._s(i.value))]):t._e()]:[t._v(" "+t._s(i.label)+t._s(t.isZHCNLang?"：":": ")),e("span",{staticClass:"colorBox",style:{backgroundColor:i.value}}),t._v(" "+t._s(i.value)+" ")]],2)])],1)],1)})),0)])],1),e("el-row",{staticClass:"targetText",attrs:{type:"flex",align:"middle"}},[e("el-col",{staticClass:"at_title",attrs:{span:5}},[t._v(t._s(t.$t("ApplyTextStyle_vue.text3"))+" ")]),e("el-col",{attrs:{span:19}},[e("el-row",{staticClass:"at_flex",attrs:{type:"flex",align:"middle"}},[e("el-radio-group",{staticClass:"at_radio_group",model:{value:t.targetDefault,callback:function(e){t.targetDefault=e},expression:"targetDefault"}},t._l(t.textCheckBoxs,(function(i,o){return e("el-radio",{key:i.key,staticClass:"singleRadio",attrs:{"data-v":"v2",label:o,disabled:i.disabled}},[t._v(" "+t._s(t.$t(i.label))+" ")])})),1)],1)],1)],1),e("el-row",{staticClass:"targetText",attrs:{type:"flex",align:"middle"}},[e("el-col",{staticClass:"at_title",attrs:{span:5}},[t._v(" "+t._s(t.$t("ApplyTextStyle_vue.text4"))+" ")]),e("el-col",{attrs:{span:19}},[e("el-row",{staticClass:"at_flex",attrs:{type:"flex",align:"middle"}},[e("el-radio-group",{staticClass:"at_radio_group",model:{value:t.sceneDefault,callback:function(e){t.sceneDefault=e},expression:"sceneDefault"}},t._l(t.sceneCheckoutBoxs,(function(i,o){return e("el-radio",{key:i.key,staticClass:"singleRadio",attrs:{"data-v":"v2",label:o,disabled:i.disabled}},[t._v(t._s(t.$t(i.label)))])})),1)],1)],1)],1),t.showNotice?e("el-row",{staticClass:"textStyleNotic"},[e("p",[t._v(t._s(t.$t("ApplyTextStyle_vue.text5")))])]):t._e()],1),t.showLoadingBox?e("el-row",{staticClass:"fontLoading",attrs:{type:"flex",justify:"center",align:"middle"}},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"loadingBox"}),t.showStep1?e("p",[t._v(t._s(t.$t("ApplyTextStyle_vue.text6")))]):t._e(),t.showStep2?e("p",[t._v(t._s(t.$t("ApplyTextStyle_vue.text7")))]):t._e()]):t._e()],1):t._e()}),[],!1,null,"d6b5572a",null).exports,m=i(78758),g=i(65687),S=i(66546),y=i(33446),v=i(69361),T={name:"PropsForTextScroll",components:{PropGroup:o.default,Lightbox:()=>Promise.resolve().then(i.bind(i,82958)),TextScrollSetting:()=>i.e(9144).then(i.bind(i,29144)),PropsSwitch:v.default},data(){return{isSetOverflow:!1,isShowTips:!1}},watch:{overflow:{handler:function(t){this.isSetOverflow="hidden auto"===t,S.Q.$emit(S.Y.TEXT_IS_SET_OVERFLOW,{isSetOverflow:this.isSetOverflow,item:this.item})},immediate:!0}},mounted(){},computed:{isXZPro:function(){return this.$store.getters.isXZPro},isYZPro:function(){return this.$store.getters.isYZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},isFlipPro:function(){return this.$store.getters.isFlipPro},multiList:function(){return this.$store.getters.multiList},isMulti:function(){return this.$store.getters.isMulti},item:function(){return this.isMulti?this.multiList[0]:this.$store.getters.currentSelectedItem},overflow:{get:function(){return this.item.overflow},set:function(t){this.item.overflow=t}},isEditingText:function(){return-1!==this.$store.state.pagePanel.textCopyIndex},middleAnime:function(){return this.item.animations.middle},isHideScrollBar:{get:function(){return this.item.isHideScrollBar},set:function(t){this.item.isHideScrollBar=t}},isTextLink(){return this.item.isTextLink}},methods:{switchChange:async function(t){if(t)this.setTextOverflow(),this.isSetOverflow=!0,this.item.isHideScrollBar=!1;else{this.isHasTextScrollAnime()?(this.isSetOverflow=!0,this.isShowTips=!0):(this.setTextOverflow(),this.isSetOverflow=!1)}S.Q.$emit(S.Y.TEXT_IS_SET_OVERFLOW,{isSetOverflow:this.isSetOverflow,item:this.item})},setTextOverflow:async function(){this.isXZPro&&(this.isHideScrollBar=!0),this.$store.commit(a.n2Y,{textItem:this.item,type:"overflow",value:"hidden auto"}),await(0,g.i1)({item:this.item,textChangeSize:!0}),this.isEditingText||(S.Q.$emit(S.Y.TIMELINE_CREATE_ANIME,{isSeekToCurrentSlider:!0}),this.$store.commit(a.N23,{canUndo:!0}))},createScrollAnimate:function(t){let e=!1;if(this.middleAnime.forEach((t=>{"textScroll"===t.animeKey&&(e=!0)})),e){let e=0;for(let t=0;t<this.middleAnime.length;t++)if("textScroll"===this.middleAnime[t].animeKey){e=t;break}const i={item:this.item,middleIndex:e,e:t,isNewAdd:!1};S.Q.$emit(S.Y.OPEN_TEXT_SCROLL_ANIMATE_PANEL,i)}else{const t={animeKey:"textScroll",type:"textScroll",animeConfig:y.Z,isNewAdd:!0};S.Q.$emit(S.Y.OPEN_TEXT_SCROLL_ANIMATE_PANEL,t)}},deleteTextScrollAnimate:function(){if(this.isSetOverflow=!1,0===this.middleAnime.length)return;const t=this.middleAnime.filter((t=>"textScroll"!==t.animeKey));this.item.animations.middle=t},isHasTextScrollAnime:function(){if(0===this.middleAnime.length)return!1;let t=!1;return this.middleAnime.forEach((e=>{"textScroll"===e.animeKey&&(t=!0)})),t},lightboxConfirmCallback:function(){this.deleteTextScrollAnimate(),this.setTextOverflow()}}},b=(0,f.Z)(T,(function(){var t=this,e=t._self._c;return e("PropGroup",{staticClass:"PropsForTextScroll"},[e("PropsSwitch",{attrs:{title:t.isXZPro?t.$t("textScroll_middle.text5"):t.$t("textScroll_middle2023_06_14.text1"),isBold:!0,value:t.isSetOverflow,disabled:t.isTextLink,disabledTips:t.isTextLink?t.$t("page_text_link.CannotEnableBoth"):""},on:{"update:value":function(e){t.isSetOverflow=e},change:t.switchChange}}),!t.isXZPro&&t.isSetOverflow?e("TextScrollSetting",{attrs:{item:t.item}}):t._e(),t.isXZPro&&t.isSetOverflow?e("div",{staticClass:"button-group"},[e("div",{staticClass:"btn btn-white",on:{click:t.createScrollAnimate}},[t._v(" "+t._s(t.$t("textScroll_middle.text6"))+" ")])]):t._e(),t.isShowTips?e("Lightbox",{attrs:{isShow:t.isShowTips,modalType:"Confirm",isAutoWidth:!0,showConfirm:!0,isConfirm:!0,title:t.$t("lightBox10_12.tips"),confirmCallBack:t.lightboxConfirmCallback},on:{"update:isShow":function(e){t.isShowTips=e},"update:is-show":function(e){t.isShowTips=e}}},[e("div",{staticClass:"alert-content"},[t._v(t._s(t.$t("textScroll_middle.text10")))])]):t._e()],1)}),[],!1,null,"5b0325b1",null).exports,C=i(14784);let w={};w={data(){return{}},computed:{uploadedFontToSvg:{get:function(){return this.item.uploadedFontToSvg},set:function(t){this.item.uploadedFontToSvg=t}}},methods:{fontToSvg:async function(t){t?await this.$store.dispatch(a.FKI,{item:this.item,isGroupItem:!1,needTimeout:!0}).then((t=>{})).catch((()=>{this.msg&&this.msg.close(),this.msg=this.$message({message:this.$i18n.t("PropsForText_vue.text18"),type:"warning",duration:5e3})})):(this.item.svgText={svgCode:"",viewBox:"",pathCount:0},this.item.gradient.show=!1)}}};var k=i(19428),_=i(21264),P=(i(89951),i(3956)),$={data(){return{isTurningSvg:!1,showPresetStroke:!1,presetList:Object.freeze([{fontColor:"#fff",strokeColor:"#000"},{fontColor:"#d4d4d4",strokeColor:"#888"},{fontColor:"#e9cfbf",strokeColor:"#c17950"},{fontColor:"#bfcfe9",strokeColor:"#507dc1"},{fontColor:"#dfe9bf",strokeColor:"#a8c150"},{fontColor:"#bfe9dc",strokeColor:"#53c29f"},{fontColor:"#bfe8e9",strokeColor:"#50bec1"},{fontColor:"#d7bfe9",strokeColor:"#9050c1"},{fontColor:"#e8bdd3",strokeColor:"#c1508a"},{fontColor:"#ffd3a6",strokeColor:"#ff8812"},{fontColor:"#dcd6c8",strokeColor:"#a1906f"},{fontColor:"#ccdbca",strokeColor:"#789e73"},{fontColor:"#c5c4e3",strokeColor:"#605eb2"},{fontColor:"#ffaba9",strokeColor:"#ff1712"},{fontColor:"#ffd1e2",strokeColor:"#ff81ad"},{fontColor:"#d3dae4",strokeColor:"#8499b5"},{fontColor:"#d0d7d7",strokeColor:"#7f9191"},{fontColor:"#efdeb5",strokeColor:"#d6a937"},{fontColor:"#c3e6c1",strokeColor:"#5db957"},{fontColor:"#e9c0bf",strokeColor:"#c15250"}]),strokeSides:[{value:"inside",label:this.$t("stroke.strokeInside"),tKey:"stroke.strokeInside"},{value:"outside",label:this.$t("stroke.strokeOutside")}]}},mounted(){},computed:{multiSettingCount:function(){return this.$store.getters.multiSettingCount},multiList:function(){return this.$store.getters.multiList},isMulti:function(){return this.$store.getters.isMulti},item:function(){return this.isMulti?this.multiList.find((t=>"text"===t.type)):this.$store.getters.currentSelectedItem},currentPageItems:function(){return this.$store.getters.currentPageItems},isShowStroke:{get:function(){return this.item.isShowStroke},set:function(t){if(this.isMulti){let e={isShowStroke:t};this.$store.commit(a.GE1,{attribute:e,type:"text"})}else this.item.isShowStroke=t}},textStrokeSide:{get:function(){return this.item.stroke.alignment},set:function(t){this.item.stroke.alignment=t}},strokeColor:{get:function(){return this.item.stroke.color},set:function(t){}},strokeWidth:{get:function(){return Math.round(this.item.stroke.width)},set:function(t){this.saveBeforePage(),this.setStrokeWidth(t)}},fontColor:{get:function(){return this.item.innerTextStyle.color},set:function(t){}},presetBtnStroke:function(){let t={};return t.textStroke="1px"+this.strokeColor,t.color=this.fontColor,t}},methods:{saveBeforePage:function(){this.$store.commit(a.CjF)},textToSvg:function(){this.changeTextSvgCode().finally((()=>{this.$store.commit(a.N23,{canUndo:!0})}))},changeStrokeColor:function({value:t}){this.saveBeforePage(),this.setStrokeColor(t),this.changeTextSvgCode().finally((()=>{this.$store.commit(a.N23,{canUndo:!0})}))},setStrokeColor(t){this.isMulti?this.multiSettingCount.forEach((e=>{const i=this.currentPageItems[e];this.applyStrokeProperty({type:"strokeColor",value:t,item:i})})):this.applyStrokeProperty({type:"strokeColor",value:t,item:this.item})},changeStrokeWidth(){this.changeTextSvgCode().finally((()=>{this.$store.commit(a.N23,{canUndo:!0})}))},setStrokeWidth(t){this.isMulti?this.multiSettingCount.forEach((e=>{const i=this.currentPageItems[e];this.applyStrokeProperty({type:"strokeWidth",value:t,item:i})})):this.applyStrokeProperty({type:"strokeWidth",value:t,item:this.item})},applyStrokeProperty({type:t,value:e,item:i}){"text"===i.type?("strokeWidth"===t&&(i.stroke.width=e),"strokeColor"===t&&(i.stroke.color=e)):"group"===i.type&&i.items.forEach((i=>{this.applyStrokeProperty({type:t,value:e,item:i})}))},changeTextSvgCode:async function(t){const e=[],i=t=>{"text"===t.type?e.push((0,g.i1)({item:t,isGroupItem:this.isMulti})):"group"===t.type&&t.items.forEach(i)};return this.isMulti?this.multiSettingCount.forEach((t=>{i(this.currentPageItems[t])})):i(this.item),e.push(this.$store.dispatch(a.jMY,{textItem:this.item})),Promise.all(e)},hidePresetStroke:function(){this.showPresetStroke=!1},presetStroke:function(t){let e={};return e.textStroke="1px"+t.strokeColor,e.color=t.fontColor,e},chooseStroke:async function({strokeColor:t,fontColor:e}){this.saveBeforePage(),this.setStrokeColor(t),await this.setFontColor(e),this.originalStrokeColor!==this.strokeColor&&(this.originalStrokeColor=this.strokeColor),this.$store.commit(a.N23,{canUndo:!0})},setFontColor(t){return(0,P.t)({type:"foreColor",value:t})}},components:{PropGroup:o.default,PropsInput:()=>i.e(9706).then(i.bind(i,49706)),PropsColor:()=>i.e(4124).then(i.bind(i,14124)),PropsSlider:()=>Promise.resolve().then(i.bind(i,19428)),PropsSwitch:()=>Promise.resolve().then(i.bind(i,69361)),PropsSelect:()=>i.e(1871).then(i.bind(i,61871))},directives:{ClickOutside:r()}},I=(0,f.Z)($,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"stroke-wrapper"},[e("PropGroup",[e("PropsSwitch",{attrs:{title:t.$t("rightPanel.text_stroke"),isBold:!0,value:t.isShowStroke},on:{"update:value":function(e){t.isShowStroke=e},change:t.textToSvg,switchDown:t.saveBeforePage}}),t.isShowStroke?e("el-row",{staticClass:"props_direction_column_gap10",attrs:{type:"flex"}},[e("PropsColor",{attrs:{title:t.$t("rightPanel.text_strokeOptions_color"),color:t.strokeColor,changeCallback:t.changeStrokeColor,isText:!0}}),e("PropsInput",{attrs:{title:t.$t("rightPanel.text_strokeOptions_size"),settingValue:t.strokeWidth,type:"number",min:1,iptW:115,isLoading:t.isTurningSvg},on:{"update:settingValue":function(e){t.strokeWidth=e},"update:setting-value":function(e){t.strokeWidth=e},mousedown:t.saveBeforePage,change:t.changeStrokeWidth}}),e("PropsSelect",{attrs:{title:t.$t("stroke.strokeSide"),value:t.textStrokeSide,options:t.strokeSides},on:{"update:value":function(e){t.textStrokeSide=e}}}),e("el-row",{staticClass:"preset",attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("div",{staticClass:"preset_title"},[e("p",[t._v(t._s(t.$t("rightPanel.text_strokeOptions_preset")))])]),e("div",{directives:[{name:"click-outside",rawName:"v-click-outside.native",value:t.hidePresetStroke,expression:"hidePresetStroke",modifiers:{native:!0}}],staticClass:"select_box"},[e("div",{staticClass:"preset-btn",on:{click:function(e){t.showPresetStroke=!t.showPresetStroke}}},[e("el-row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("p",{staticClass:"text selected_preset",style:t.presetBtnStroke},[t._v("A")]),e("span",{staticClass:"icon el-icon-arrow-down"})]),t.showPresetStroke?e("div",{staticClass:"preset-wrap"},t._l(t.presetList,(function(i,o){return e("p",{key:o,staticClass:"text",class:{actived:i.strokeColor===t.strokeColor},style:t.presetStroke(i),on:{click:function(e){return t.chooseStroke(i)}}},[t._v(" A ")])})),0):t._e()],1)])])],1):t._e()],1)],1)}),[],!1,null,"3394c698",null).exports,A=i(20015),H={name:"",data(){return{errorMsg:null}},computed:{multiSettingCount:function(){return this.$store.getters.multiSettingCount},item:function(){return this.isMulti?this.multiList[0]:this.$store.getters.currentSelectedItem},currentPageItems:function(){return this.$store.getters.currentPageItems},isMulti:function(){return this.$store.getters.isMulti},multiList:function(){return this.$store.getters.multiList},gradientShow:{get:function(){return this.item.gradient.show},set:function(t){if(this.isMulti){let e={gradient:{show:t}};this.$store.commit(a.GE1,{attribute:e,type:"text"})}else this.item.gradient.show=t}},gradient:function(){return this.item.gradient},isFlipPro:function(){return this.$store.getters.isFlipPro},isXZPro:function(){return this.$store.getters.isXZPro},isUploadedFont:function(){return this.item.isUploadedFont},uploadedFontToSvg:function(){return this.item.uploadedFontToSvg}},methods:{saveBeforePage:function(){this.$store.commit(a.CjF)},useGradient:function(){this.whichTextCannotUseGradient()?(this.errorMsg&&this.errorMsg.close(),this.errorMsg=this.$message({showClose:!0,message:this.$i18n.t("TextStyle_vue.text11"),type:"warning",duration:1500}),this.gradientShow=!1):this.$store.commit(a.N23,{canUndo:!0})},whichTextCannotUseGradient:function(){return!(!this.isXZPro&&!this.isFlipPro)&&(this.isUploadedFont&&!this.uploadedFontToSvg)},setHorGradColor:function({value:t,index:e}){if(this.isMulti)return void this.multiSettingCount.forEach((i=>{const{type:o}=this.currentPageItems[i];"group"===o?this.currentPageItems[i].items.forEach((i=>{this.setSingerColor({value:t,index:e,item:i})})):this.setSingerColor({value:t,index:e,item:this.currentPageItems[i]})}));let i={colorList:A.Z.getSortColorList({colorList:t.colorList}),isLinear:"linear"===t.gradientType,gradientType:t.gradientType,gradientDeg:t.gradientDeg,show:this.gradientShow};this.$store.commit(a.tLT,{item:this.item,gradient:i})},setSingerColor:function({value:t,index:e,item:i}){let o={colorList:A.Z.getSortColorList({colorList:t.colorList}),isLinear:"linear"===t.gradientType,gradientType:t.gradientType,gradientDeg:t.gradientDeg,show:this.gradientShow};this.$store.commit(a.tLT,{item:i,gradient:o})}},components:{PropGroup:o.default,PropsColor:()=>i.e(4124).then(i.bind(i,14124)),PropsSwitch:()=>Promise.resolve().then(i.bind(i,69361))}},L=(0,f.Z)(H,(function(){var t=this,e=t._self._c;return e("PropGroup",[e("PropsSwitch",{attrs:{title:t.$t("SecondMenuLayout_vue.text5"),descTips:t.$t("SecondMenuLayout_vue.text7"),descTipsClass:"gradientColorTip",isBold:!0,value:t.gradientShow},on:{"update:value":function(e){t.gradientShow=e},change:t.useGradient,switchDown:t.saveBeforePage}}),t.gradientShow?[e("PropsColor",{attrs:{title:t.$t("PropsForText_vue.text11"),color:t.gradient,changeCallback:t.setHorGradColor,hasGradient:!0,isTextGradient:!0,showTabs:!1,args:0}})]:t._e()],2)}),[],!1,null,"6b1c59ca",null).exports,F=i(27988),B=(i(97754),i(13017)),Z={name:"TextColumns",components:{PropGroup:o.default,PropsSwitch:()=>Promise.resolve().then(i.bind(i,69361)),PropsSlider:()=>Promise.resolve().then(i.bind(i,19428))},data(){return{}},computed:{multiSettingCount:function(){return this.$store.getters.multiSettingCount},multiList:function(){return this.$store.getters.multiList},isMulti:function(){return this.$store.getters.isMulti},currentPageItems:function(){return this.$store.getters.currentPageItems},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},item:function(){return this.isMulti?this.multiList[0]:this.$store.getters.currentSelectedItem},columnsInfo(){return this.item.columnsInfo?this.item.columnsInfo:new F.f},useColumns:{get(){return this.columnsInfo.useColumns},set(t){this.columnsInfo.useColumns=t}},columnsGap:{get(){return this.getColumnsGap()},set(t){const e=Number(t);e!==this.getColumnsGap()&&this.setTextStyle({type:"gap",value:e})}},columnsCount:{get(){return this.columnsInfo.count},set(t){this.setColumnsCount(t)}}},methods:{getColumnsGap(){if(this.isMulti){const t=[],e=i=>{"text"===i.type&&i.columnsInfo?t.push(i.columnsInfo.gap):"group"===i.type&&i.items.forEach(Number(e))};return this.multiSettingCount.forEach((async t=>{const i=this.currentPageItems[t];e(i)})),Math.max(...t)}return Number(this.columnsInfo.gap)},saveBeforePage:function(){this.$store.commit(a.CjF)},addUndo(){this.$store.commit(a.N23,{canUndo:!0})},setColumnsGap(t){this.isMulti&&this.saveBeforePage(),(0,B.K)({type:"gap",value:Number(t)}).finally((()=>{this.addUndo()}))},setColumnsCount(t){this.saveBeforePage(),(0,B.K)({type:"count",value:t}).finally((()=>{this.addUndo()}))},toggleColumns(t){this.saveBeforePage(),(0,B.K)({type:"useColumns",value:t}).finally((()=>{this.addUndo()}))},setTextStyle({type:t,value:e}){const i=o=>{"text"===o.type?this.$store.commit(a.n2Y,{textItem:o,type:t,value:e}):"group"===o.type&&o.items.forEach(i)};this.isMulti?this.multiSettingCount.forEach((async t=>{const e=this.currentPageItems[t];i(e)})):i(this.item)}}},M=(0,f.Z)(Z,(function(){var t=this,e=t._self._c;return e("PropGroup",{staticClass:"TextColumns"},[e("PropsSwitch",{attrs:{title:t.$t("textColumns.title"),isBold:!0,value:t.useColumns},on:{"update:value":function(e){t.useColumns=e},change:t.toggleColumns,switchDown:t.saveBeforePage}}),t.useColumns?e("el-row",{staticClass:"props_direction_column_gap10",attrs:{type:"flex"}},[e("el-row",[e("el-radio-group",{staticClass:"columns-group",nativeOn:{mousedown:function(e){return t.saveBeforePage.apply(null,arguments)}},model:{value:t.columnsCount,callback:function(e){t.columnsCount=e},expression:"columnsCount"}},[e("el-row",{attrs:{type:"flex"}},[e("el-radio",{attrs:{"data-v":"v2",label:2}},[t._v(t._s(t.$t("textColumns.2columns")))])],1),e("el-row",{attrs:{type:"flex"}},[e("el-radio",{attrs:{"data-v":"v2",label:3}},[t._v(t._s(t.$t("textColumns.3colums")))])],1)],1)],1),e("el-row",[e("PropsSlider",{attrs:{title:t.$t("textColumns.columsSpacing"),sliderNumber:t.columnsGap,min:0,max:5,step:.5,isAddHistory:!1,isInputAddHistory:!1},on:{"update:sliderNumber":function(e){t.columnsGap=e},"update:slider-number":function(e){t.columnsGap=e},mousedown:t.saveBeforePage,sliderChange:t.setColumnsGap,"input-value-change":t.setColumnsGap}})],1)],1):t._e()],1)}),[],!1,null,"09bdc674",null),N=M.exports,O=i(57626),E=i(56202);const G=i(81269);let X={};G.keys().forEach((t=>{const e=G(t),i=t.replace(/^\.\//,"").replace(/\.\w+$/,"");X[i]=e.default||e}));var D={name:"PropsForText",mixins:[C.b,w],data:function(){return{fontZHCNName:[],msg:null,isShowTextStyleTooltip:!1,textStyleTooltip:"",textStyleTooltipPostion:{},textStyleTooltipArrowPosition:"left",toolTipTextOptions:{},isInEditing:!1,isShowTextLinkPopper:!1,isShowListStyleTips:!1}},mounted:function(){this.fontZHCNName=Object.freeze(i(15505).n)},computed:{isYZPro:function(){return this.$store.getters.isYZPro},isXZPro:function(){return this.$store.getters.isXZPro},isH5Pro:function(){return this.$store.getters.isH5Pro},isFlipPro:function(){return this.$store.getters.isFlipPro},isMulti:function(){return this.$store.getters.isMulti},isShowTextScroll(){return!this.isTextLink&&(!this.isMulti&&(!!this.isH5Pro||(!(!this.isXZPro||this.isSubtitle)||(!!this.isYZPro||!!this.isFlipPro))))},isShowTextLink(){return"hidden auto"!==this.item.overflow&&(!this.item.isAsyncItem&&!(!this.isH5Pro||this.isSubtitle||this.isMulti))},pages(){return this.$store.state.pagePanel.pages},isTextLink:{get(){return this.item.isTextLink},set(t){this.item.isTextLink=t}},crossLinks(){if(this.isTextLink){return(0,g.fs)(this.item)}return[]},textLinks(){return this.crossLinks.map((t=>({id:t.id,text:t.textStr,...this.getTextPageInfo(t)})))},currentIndex:{get:function(){return this.$store.state.pagePanel.currentIndex},set:function(t){this.$store.state.asyncItem.isTextLoading||this.$store.commit(a.dmC,{index:t})}}},methods:{async changeTextLink(t){t?(this.$store.state.workSpace.isShowTextLinkResMode=!0,this.$store.commit(a.CjF),this.$store.commit(a.e56,{textItem:this.item}),this.$store.commit(a.$8l,{menu:"scene"})):this.$cusConfirm({title:this.$t("page_text_link.DisableCross"),message:this.$t("page_text_link.DisableTips")}).then((t=>{this.changeCrossLink()})).catch((t=>{}))},getTextPageInfo(t){const{pageId:e,id:i}=t.linkInfo;let o={};if(-1===e&&-1===i){const e=t.linkInfo.parentInfo,i=this.pages.findIndex((t=>t.pageId===e.pageId));let s=(0,g.aM)({items:this.pages[i]?.items||[],id:e.id});if(!s)return o;o={pageIndex:this.pages.findIndex((t=>t.pageId===s.linkInfo.pageId)),pageId:s.linkInfo.pageId,id:s.linkInfo.id}}else{const t=this.pages.findIndex((t=>t.pageId===e));let s=(0,g.aM)({items:this.pages[t]?.items||[],id:i});if(!s)return o;const n=s.linkInfo.parentInfo,l=this.pages.findIndex((t=>t.pageId===n.pageId));o={...n,pageIndex:l}}return o},toTextItem(t){this.$store.commit(a.EOE,{hide:!0}),this.currentIndex!==t.pageIndex&&(this.currentIndex=t.pageIndex,S.Q.$emit(S.Y.AFTERFOTOPAGE,t.pageIndex));const e=this.$store.state.pagePanel.pages[t.pageIndex].items;let i=-1,o=-1;t:for(let s=0;s<e.length;s++){const n=e[s];if(n.id===t.id){i=s;break}if(n.items&&n.items.length>0)for(let t=0;t<n.items.leng;t++){if(e[t].id===text.id){i=s,o=t;break t}}}-1!==i&&this.$store.commit(a.dmy,Object.assign({index:i},-1!==o?{key:o}:{}))},editCrossText(){this.$store.state.workSpace.isShowTextLinkResMode=!0,this.$store.commit(a.e56,{crossTextLinks:this.textLinks}),this.$store.commit(a.$8l,{menu:"scene"})},changeCrossLink(){this.$store.commit(a.mkA,{item:this.item})},getTextStr(t){const e=`<div>${t}</div>`;return(new DOMParser).parseFromString(e,"text/html").body.firstChild.textContent},ListStyleName(){const t=this.listOptions.find((t=>t.listStyleType===this.listStyleType));return t?t.name:""}},components:{...X,PropsSlider:k.default,PropsInput:()=>i.e(9706).then(i.bind(i,49706)),PropsColor:()=>i.e(4124).then(i.bind(i,14124)),PropsSelect:()=>i.e(1871).then(i.bind(i,61871)),PropGroup:o.default,ColorPickerV2:s.default,DropdownForFontFamily:n.default,ApplyTextStyle:x,TextStyleTooltip:m.Z,PropsForTextScroll:b,Shadow:_.Z,Stroke:I,TextColumns:N,GradientColor:L,PropsSwitch:v.default,TextRow:O.Z,CloseIcon:()=>i.e(608).then(i.bind(i,30608)),LinkIcon:()=>Promise.resolve().then(i.bind(i,88051)),CustomSelect:E.default,InfoTipsIcon:()=>i.e(3352).then(i.bind(i,83352))},directives:{ClickOutside:r()}},Y=D,W=(0,f.Z)(Y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"PorpsForText",on:{mousedown:function(t){t.stopPropagation()}}},[t.isMulti||t.item.isNumberIncrease?t._e():e("PropGroup",{attrs:{title:""}},[e("div",{staticClass:"editor_v2_white_btn",on:{click:function(e){return t.editorText(!1)}}},[t._v(" "+t._s(t.$t("PropsForText_vue.text1"))+" ")])]),e("PropGroup",{staticClass:"fontBasic"},[t.item.isSubtitle?t._e():e("template",{slot:"title"},[e("el-row",{attrs:{type:"flex",align:"middle"}},[t._v(" "+t._s(t.$t("rightPanel.text_font"))+" "),e("el-tooltip",{attrs:{placement:"top","open-delay":800},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",{staticStyle:{"max-width":"300px"}},[t._v(" "+t._s(t.$t("propsForText2022_11_07.textTips"))+" ")])]},proxy:!0}],null,!1,380041283)},[e("el-icon",{staticStyle:{"font-size":"12px","margin-left":"3px",color:"#bbb"}},[e("InfoTipsIcon",{tag:"component"})],1)],1)],1)],1),t.item.isSubtitle?e("div",{staticClass:"setAllSubtitles"},[e("PropsSelect",{attrs:{value:t.subtitleAlign,title:t.$t("PropsForText_vue.text5"),options:t.subtitleAlignOptions},on:{"update:value":function(e){t.subtitleAlign=e}}})],1):t._e(),e("el-row",{staticClass:"fontFamily"},[e("DropdownForFontFamily",{attrs:{type:"fontName",value:t.fontFamily,maxH:370},on:{getTypeValue:t.getTypeValue}})],1),e("el-row",[e("el-col",{staticClass:"selectColor",attrs:{span:5}},[e("div",{staticClass:"selectcolorRow"},[e("ColorPickerV2",{attrs:{color:t.fontColor,placement:"bottom",changeCallback:t.setFontColor,isText:!0}})],1)]),e("el-col",{staticClass:"DropdownFontSize",attrs:{span:11}},[t.isYZPro||t.isH5Pro?e("custom-select",{attrs:{"data-v":"v2","popper-class":"props-select-input-popper",value:t.fontSize,options:t.fontSizeOptions},on:{change:e=>t.setStyle({type:"fontSize",value:e})}}):e("el-select",{attrs:{"data-v":"v2","popper-class":"props-select-input-popper",value:t.fontSize},on:{change:e=>t.getTypeValue({type:"fontSize",value:e})}},t._l(t.fontSizeOptions,(function(t){return e("el-option",{key:t,attrs:{value:t,label:t}})})),1)],1),e("el-col",{attrs:{span:8}},[e("TextRow",{attrs:{options:t.trunFontSizeOption,isSingle:!0,textStyleTooltipArrowPosition:"right"},on:{changeStyle:t.setTextSize}})],1)],1),t.item.isNumberIncrease?t._e():e("el-row",{staticClass:"text_row",attrs:{type:"flex"}},[t.isFlipPro?e("TextRow",{attrs:{rowW:150,options:t.fontCssOption,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setStyle}}):e("div",{staticClass:"yz-font-css"},[e("TextRow",{attrs:{rowW:34,options:t.boldOption,curSelect:t.isBold,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setStyle}}),e("TextRow",{attrs:{rowW:34,options:t.italicOption,curSelect:t.isItalic,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setStyle}}),e("TextRow",{attrs:{rowW:34,options:t.underlineOption,curSelect:t.isUnderline,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setStyle}}),e("TextRow",{attrs:{rowW:34,options:t.strikeThroughOption,curSelect:t.isStrikeThrough,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setStyle}}),e("div",{staticClass:"line"}),e("TextRow",{attrs:{styleType:"textAlign",rowW:100,options:t.caseLettersOption,curSelect:t.textTransform,textStyleTooltipArrowPosition:"right"},on:{changeStyle:t.setLetter}})],1)],1),e("el-row",{staticClass:"text_row",staticStyle:{gap:"5px"},attrs:{type:"flex"}},[e("TextRow",{attrs:{styleType:"textAlign",rowW:120,options:t.textAlignOption,curSelect:t.textAlign,textStyleTooltipArrowPosition:"center"},on:{changeStyle:t.setinnerTextStyle}}),!t.isYZPro&&!t.isH5Pro||t.item.isTextLink?t._e():e("el-tooltip",{attrs:{placement:"top",trigger:"manual",value:t.isShowListStyleTips},scopedSlots:t._u([{key:"content",fn:function(){return[e("div",[t._v(" "+t._s(t.isEditingText?t.$t("propsForText2022_11_07.list"):t.$t("propsForText2022_11_07.ListStyleTips"))+" ")])]},proxy:!0}],null,!1,2327680707)},[e("custom-select",{attrs:{"data-v":"v2",disabled:!t.isEditingText,value:t.listStyleType,options:t.listOptions,SelectKey:"listStyleType",LabelKey:"name",placement:"bottom-start",customWidth:120,customStyle:{width:"35px"}},on:{change:t.setListStyle}},[e("div",{staticClass:"h-full w-full flex items-center justify-center cursor-pointer",style:{color:t.isEditingText?"#333":"#828282",cursor:t.isEditingText?"pointer":"not-allowed"},on:{mouseenter:function(e){t.isShowListStyleTips=!0},mouseleave:function(e){t.isShowListStyleTips=!1}}},[e("el-icon",{attrs:{size:13}},[e("ListStyleIcon",{tag:"component"})],1)],1)])],1),e("TextRow",{attrs:{styleType:"writingMode",rowW:35,options:t.writingModeOption,curSelect:t.writingMode,isSingle:!0,textStyleTooltipArrowPosition:"right"},on:{changeStyle:t.setinnerTextStyle}}),e("TextRow",{attrs:{rowW:35,options:t.textDirectionOption,curSelect:t.textDirection,isSingle:!0,textStyleTooltipArrowPosition:"right"},on:{changeStyle:t.setTextDirection}})],1),t.item.isNumberIncrease?t._e():e("el-row",{staticClass:"text_row",attrs:{type:"flex"}},[e("TextRow",{attrs:{styleType:"textIndent",options:t.textIndentOption,curSelect:t.textIndent,isSingle:!0,hasTooltip:!1},on:{changeStyle:t.setinnerTextStyle}})],1),t.isMulti||t.item.isNumberIncrease?t._e():e("div",{staticClass:"setAllSubtitles"},[e("div",{staticClass:"btn btn-white subtitleTitleBtn",attrs:{title:t.$t("PropsForText_vue.text4")},on:{click:t.showTextStyleMode,mousedown:t.saveSubtitle}},[t._v(" "+t._s(t.$t("PropsForText_vue.text3"))+" ")])]),t.isZHCN?e("el-row",[e("p",{staticStyle:{"line-height":"20px"}},[e("span",[t._v(t._s(t.$t("PropsForText_vue.text7")))]),t._v(t._s(t.$t("PropsForText_vue.text8"))+" ")])]):t._e()],2),t.item.isNumberIncrease?e("PropGroup",{attrs:{title:"rightPanel.text_turnSvg"}},[e("PropsInput",{attrs:{title:"起始数字",settingValue:t.startNumber,min:0},on:{"update:settingValue":function(e){t.startNumber=e},"update:setting-value":function(e){t.startNumber=e},change:t.saveUndo}}),e("PropsInput",{attrs:{title:"结束数字",settingValue:t.endNumber,min:0},on:{"update:settingValue":function(e){t.endNumber=e},"update:setting-value":function(e){t.endNumber=e},change:t.saveUndo}})],1):t._e(),t.item.isNumberIncrease?t._e():e("PropGroup",{attrs:{title:"rightPanel.text_spacing"}},[e("div",{staticClass:"letterSpacing"},[e("PropsSlider",{attrs:{title:t.$t("rightPanel.text_letterSpacing"),min:-10,max:100,step:1,sliderNumber:t.letterSpacing,isAddHistory:!1,isInputAddHistory:!1},on:{"update:sliderNumber":function(e){t.letterSpacing=e},"update:slider-number":function(e){t.letterSpacing=e},mousedown:t.saveBeforePage,sliderChange:e=>t.setinnerTextStyle({type:"letterSpacing",value:e}),"input-value-change":e=>t.setinnerTextStyle({type:"letterSpacing",value:e})}})],1),e("div",{staticClass:"lineHeight"},[e("PropsSlider",{attrs:{title:t.$t("rightPanel.text_lineHeight"),min:.5,max:2.5,step:.01,sliderNumber:t.lineHeight,isAddHistory:!1,isInputAddHistory:!1},on:{"update:sliderNumber":function(e){t.lineHeight=e},"update:slider-number":function(e){t.lineHeight=e},mousedown:t.saveBeforePage,sliderChange:e=>t.setinnerTextStyle({type:"lineHeight",value:e}),"input-value-change":e=>t.setinnerTextStyle({type:"lineHeight",value:e})}})],1),t.isXZPro?t._e():e("div",{staticClass:"paragraphSpacing"},[e("PropsSlider",{attrs:{title:t.$t("rightPanel.text_ParagraphSpacing"),min:0,max:50,step:1,sliderNumber:t.paragraphSpace,isAddHistory:!1,isInputAddHistory:!1},on:{"update:sliderNumber":function(e){t.paragraphSpace=e},"update:slider-number":function(e){t.paragraphSpace=e},mousedown:t.saveBeforePage,sliderChange:e=>t.setStyle({type:"paragraphSpace",value:e}),"input-value-change":e=>t.setStyle({type:"paragraphSpace",value:e})}})],1)]),t.isShowTextLink?e("PropGroup",[e("PropsSwitch",{attrs:{title:t.$t("page_text_link.TextLinking"),descTips:t.$t("page_text_link.tooltips"),isBold:!0,value:t.isTextLink,disabled:t.isSetOverflow,disabledTips:t.isSetOverflow?t.$t("page_text_link.CannotEnableBoth"):"",isManualOperation:!0},on:{"update:value":function(e){t.isTextLink=e},change:t.changeTextLink}}),t.isTextLink?e("el-row",{staticClass:"cross_text",attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("el-popover",{attrs:{"popper-class":"cross_text_edit_popover",placement:"left",width:"300",trigger:"manual",value:t.isShowTextLinkPopper,"visible-arrow":!1}},[e("div",{staticClass:"check",attrs:{slot:"reference"},on:{click:function(e){t.isShowTextLinkPopper=!0}},slot:"reference"},[t._v(" "+t._s(t.$t("page_text_link.checkLinks"))+" ")]),e("div",{staticClass:"links_box"},[e("el-row",{staticClass:"header",attrs:{type:"flex",align:"middle",justify:"space-between"}},[e("span",[t._v(t._s(t.$t("page_text_link.checkLinks")))]),e("el-row",{staticStyle:{cursor:"pointer"},nativeOn:{click:function(e){t.isShowTextLinkPopper=!1}}},[e("el-icon",{attrs:{size:10}},[e("CloseIcon",{tag:"component"})],1)],1)],1),e("el-row",{staticClass:"content",attrs:{type:"flex"}},t._l(t.textLinks,(function(i,o){return e("el-row",{key:o,staticClass:"text_item",class:{active:t.item.id===i.id},attrs:{type:"flex",align:"middle"},nativeOn:{click:function(e){return t.toTextItem(i)}}},[e("el-row",{staticClass:"text_level",attrs:{type:"flex",align:"middle"}},[e("el-icon",{attrs:{size:10}},[e("LinkIcon",{tag:"component"})],1),e("span",[t._v(t._s(o+1))])],1),e("div",{staticClass:"item_text"},[t._v(" P"+t._s(i.pageIndex+1)+": "+t._s(t.getTextStr(i.text))+" ")])],1)})),1)],1)]),e("el-row",{staticClass:"editor_v2_white_btn",nativeOn:{click:function(e){return t.editCrossText.apply(null,arguments)}}},[t._v(t._s(t.$t("page_text_link.edit")))])],1):t._e()],1):t._e(),t._t("alignSizePosition"),t.isH5Pro||t.isYZPro?e("TextColumns"):t._e(),t.isShowTextScroll&&!t.item.isNumberIncrease?e("PropsForTextScroll"):t._e(),t.isShowFontToSvg&&!t.item.isNumberIncrease?e("PropGroup",{attrs:{title:"rightPanel.text_turnSvg"}},[e("el-radio",{attrs:{"data-v":"v2",label:!1},on:{change:function(e){return t.fontToSvg(!1)}},model:{value:t.uploadedFontToSvg,callback:function(e){t.uploadedFontToSvg=e},expression:"uploadedFontToSvg"}},[t._v(t._s(t.$t("PropsForText_vue.text9")))]),e("el-radio",{staticClass:"radio-text",attrs:{"data-v":"v2",label:!0},on:{change:function(e){return t.fontToSvg(!0)}},model:{value:t.uploadedFontToSvg,callback:function(e){t.uploadedFontToSvg=e},expression:"uploadedFontToSvg"}},[t._v(t._s(t.$t("PropsForText_vue.text10")))])],1):t._e(),this.isEditingText?t._e():[e("Shadow"),t.$store.getters.isFlipPro&&t.isMulti?t._e():e("Stroke"),this.$store.getters.isFlipPro?t._e():e("GradientColor")],t.isShowApplyTextStyleMode&&!t.isMulti?e("ApplyTextStyle"):t._e(),!t.isH5Pro&&!t.isYZPro||t.isMulti?t._e():e("PropGroup",[e("PropsSwitch",{attrs:{title:t.$t("PropsPanle_new.textCompatible"),descTips:t.isYZPro?"如果中文有字符显示异常，可开启这个选项，开启后，将会保留语言的所有连词，而不会将每个字符拆成单个。":t.$t("PropsForText_vue.textCompatibleTip"),isBold:!0,disabled:t.isTextLink,disabledTips:t.isTextLink?t.$t("page_text_link.CannotDisableLanguage"):"",value:t.transformPositionText},on:{"update:value":function(e){t.transformPositionText=e},change:t.addCanUndo}})],1),t.isSubtitle?e("PropGroup",[e("PropsSwitch",{attrs:{title:t.$t("rightPanel.text_backgroundColor"),isBold:!0,value:t.showBColor},on:{"update:value":function(e){t.showBColor=e},change:t.addCanUndo}}),t.showBColor?[e("PropsColor",{attrs:{title:t.$t("PropsForText_vue.text11"),color:t.bColor,changeCallback:t.setBColor,isText:!0}}),e("PropsSlider",{attrs:{title:t.$t("PropsForText_vue.text12"),min:0,max:100,step:1,sliderNumber:t.bcOpacity,isAddHistory:!1,isInputAddHistory:!1,isShowIpt:!1,sliderW:140},on:{"update:sliderNumber":function(e){t.bcOpacity=e},"update:slider-number":function(e){t.bcOpacity=e},sliderChange:t.setSubBColorOpacity}}),e("PropsSlider",{attrs:{title:t.$t("PropsForText_vue.text13"),min:0,max:100,step:1,isAddHistory:!1,isInputAddHistory:!1,sliderNumber:t.bcPadding},on:{"update:sliderNumber":function(e){t.bcPadding=e},"update:slider-number":function(e){t.bcPadding=e},sliderChange:t.setSubBColorPadding}}),e("PropsInput",{attrs:{title:t.$t("PropsForBaseShape_vue.text4"),settingValue:t.bcBorderWidth,type:"number",min:0,iptW:115},on:{"update:settingValue":function(e){t.bcBorderWidth=e},"update:setting-value":function(e){t.bcBorderWidth=e},change:t.setSubBColorPadding}}),e("PropsColor",{attrs:{title:t.$t("PropsForBaseShape_vue.text3"),color:t.bcBorderColor,changeCallback:t.setBorderColor,isText:!0}}),e("PropsSelect",{attrs:{title:t.$t("PropsForBaseShape_vue.text2"),placeholder:t.$t("PropsForText_vue.text6"),value:t.bcBorderType,options:t.borderTypeOption},on:{"update:value":function(e){t.bcBorderType=e}}}),e("PropsSelect",{attrs:{title:t.$t("PropsForText_vue.text19"),placeholder:t.$t("PropsForText_vue.text6"),value:t.sizeType,options:t.captionSizeOptions},on:{"update:value":function(e){t.sizeType=e}}}),e("PropsInput",{attrs:{title:t.$t("PropsForText_vue.text14"),settingValue:t.bcBorderRadius,type:"number",min:0,iptW:115},on:{"update:settingValue":function(e){t.bcBorderRadius=e},"update:setting-value":function(e){t.bcBorderRadius=e},change:t.setSubBColorPadding}})]:t._e()],2):t._e(),e("TextStyleTooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTextStyleTooltip,expression:"isShowTextStyleTooltip"}],attrs:{tooltipText:t.textStyleTooltip,tooltipTextPostion:t.textStyleTooltipPostion,arrowPosition:t.textStyleTooltipArrowPosition}})],2)}),[],!1,null,"6b69bdc6",null),z=W.exports},78758:function(t,e,i){i.d(e,{Z:function(){return s}});var o={name:"TextStyleTooltip",components:{},data(){return{tooltipTextStyle:{}}},mounted(){},methods:{setTooltipPosition:function(t){switch(this.arrowPosition){case"center":this.tooltipTextStyle={left:`${t.left+t.width/2}px`,top:`${t.top}px`};break;case"left":this.tooltipTextStyle={left:`${t.left}px`,top:`${t.top}px`};break;case"right":this.tooltipTextStyle={right:`${t.right}px`,top:`${t.top}px`}}}},computed:{},props:["tooltipText","tooltipTextPostion","arrowPosition","isCustomText","placement"],watch:{tooltipTextPostion:function(t){0!==Object.keys(t).length&&this.setTooltipPosition(t)}}},s=(0,i(1001).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{ref:"TextStyleTooltip",staticClass:"TextStyleTooltip",class:{"arrow-left":"left"===this.arrowPosition,"arrow-right":"right"===this.arrowPosition,"arrow-center":"center"===this.arrowPosition,"arrow-bottom":"bottom"===this.placement},style:t.tooltipTextStyle},[e("div",{staticClass:"text-style-tooltip"},[t.isCustomText?t._e():e("span",{staticClass:"tooltip-text-content"},[t._v(" "+t._s(t.tooltipText)+" ")]),t._t("custom-tooltip"),e("div",{ref:"tooltipArrow",staticClass:"tooltip-arrow"})],2)])}),[],!1,null,"031ee10c",null).exports},57626:function(t,e,i){i.d(e,{Z:function(){return r}});var o=i(78758);const s=i(81269);let n={};s.keys().forEach((t=>{const e=s(t),i=t.replace(/^\.\//,"").replace(/\.\w+$/,"");n[i]=e.default||e}));var l={name:"TextRow",props:{options:{type:Array,default:()=>[]},styleType:{type:String,default:""},curSelect:{},rowH:{type:Number,default:34,desc:"row的高度"},rowW:{type:Number,desc:"row的宽度"},textStyleTooltipArrowPosition:{type:String,default:"left",desc:"提示弹窗箭头位置"},isSingle:{type:Boolean,default:!1,desc:"是否为简易样式"},hasTooltip:{type:Boolean,default:!0,desc:"是否需要提示弹窗"}},data(){return{isShowTextStyleTooltip:!1,textStyleTooltip:"",textStyleTooltipPostion:""}},methods:{showTextStyleTooltip:function(t,e,i={}){if(!this.hasTooltip)return;const o=window.innerWidth,{top:s,left:n,right:l,width:r}=t.target.getBoundingClientRect();this.textStyleTooltip=e,this.textStyleTooltipPostion={top:s,left:n,right:o-l,width:r},this.isShowTextStyleTooltip=!0},setinnerTextStyle(t){this.$emit("changeStyle",{type:this.styleType||t.type,value:t.value})}},components:{...n,TextStyleTooltip:o.Z}},r=(0,i(1001).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text_row",style:{"--row-height":`${t.rowH}px`,width:t.rowW?`${t.rowW}px`:"100%"}},[e("el-row",{staticClass:"fontCss",class:{single:t.isSingle},attrs:{type:"flex"}},t._l(t.options,(function(i,o){return e("div",{key:o,staticClass:"cssBox",class:{selected:t.curSelect&&t.curSelect===i.type},on:{click:function(e){return t.setinnerTextStyle(i)},mouseenter:function(e){t.showTextStyleTooltip(e,t.$t(i.tooltips))},mouseleave:function(e){t.isShowTextStyleTooltip=!1}}},[e("el-icon",[e(i.icon,{tag:"component"})],1),i.text?e("div",{staticClass:"text"},[t._v(t._s(t.$t(i.text)))]):t._e()],1)})),0),e("TextStyleTooltip",{directives:[{name:"show",rawName:"v-show",value:t.isShowTextStyleTooltip,expression:"isShowTextStyleTooltip"}],attrs:{tooltipText:t.textStyleTooltip,tooltipTextPostion:t.textStyleTooltipPostion,arrowPosition:t.textStyleTooltipArrowPosition}})],1)}),[],!1,null,"26b8fe99",null).exports},15505:function(t){t.exports=JSON.parse('{"n":[{"label":"王漢宗波卡體空陰","href":"/fonts/HHZ BoKaTiKongYin.ttf","postfix":"ttf","value":"HHZ BoKaTiKongYin","thumb":""},{"label":"王漢宗超黑俏皮動物","href":"/fonts/HHZ ChaoHeiQiaoPiDongWu.ttf","postfix":"ttf","value":"HHZ ChaoHeiQiaoPiDongWu","thumb":""},{"label":"王漢宗超明","href":"/fonts/HHZ ChaoMing.ttf","postfix":"ttf","value":"HHZ ChaoMing","thumb":""},{"label":"王漢宗粗鋼體","href":"/fonts/HHZ CuGangTi.ttf","postfix":"ttf","value":"HHZ CuGangTi","thumb":""},{"label":"王漢宗粗鋼體實陰","href":"/fonts/HHZ CuGangTiShiYin.ttf","postfix":"ttf","value":"HHZ CuGangTiShiYin","thumb":""},{"label":"王漢宗粗鋼體雙空","href":"/fonts/HHZ CuGangTiShuangKong.ttf","postfix":"ttf","value":"HHZ CuGangTiShuangKong","thumb":""},{"label":"王漢宗粗明","href":"/fonts/HHZ CuMing.ttf","postfix":"ttf","value":"HHZ CuMing","thumb":""},{"label":"王漢宗鋼筆行楷","href":"/fonts/HHZ GangBiXingKai.ttf","postfix":"ttf","value":"HHZ GangBiXingKai","thumb":""},{"label":"王漢宗海報體半天水","href":"/fonts/HHZ HaiBaoTiBanTianShui.ttf","postfix":"ttf","value":"HHZ HaiBaoTiBanTianShui","thumb":""},{"label":"王漢宗酷俪海報","href":"/fonts/HHZ KuLiHaiBao.ttf","postfix":"ttf","value":"HHZ KuLiHaiBao","thumb":""},{"label":"王漢宗特黑","href":"/fonts/HHZ TeHei.ttf","postfix":"ttf","value":"HHZ TeHei","thumb":""},{"label":"王漢宗中魏碑簡體","href":"/fonts/HHZ WeiBeiJianTi.ttf","postfix":"ttf","value":"HHZ WeiBeiJianTi","thumb":""},{"label":"王漢宗細黑","href":"/fonts/HHZ XiHei.ttf","postfix":"ttf","value":"HHZ XiHei","thumb":""},{"label":"王漢宗細明","href":"/fonts/HHZ XiMing.ttf","postfix":"ttf","value":"HHZ XiMing","thumb":""},{"label":"王漢宗細圓","href":"/fonts/HHZ XiYuan.ttf","postfix":"ttf","value":"HHZ XiYuan","thumb":""},{"label":"王漢宗細新宋簡體","href":"/fonts/HHZ XinSongJianTi.ttf","postfix":"ttf","value":"HHZ XinSongJianTi","thumb":""},{"label":"王漢宗顔體","href":"/fonts/HHZ YanTi.ttf","postfix":"ttf","value":"HHZ YanTi","thumb":""},{"label":"王漢宗正海報","href":"/fonts/HHZ ZhengHaiBao.ttf","postfix":"ttf","value":"HHZ ZhengHaiBao","thumb":""},{"label":"刻石錄鋼筆鶴體","href":"/fonts/KeShiLuGangBiHeTi.ttf","postfix":"ttf","value":"KeShiLuGangBiHeTi","thumb":""},{"label":"刻石錄顔體","href":"/fonts/KeShiLuYanTi.ttf","postfix":"ttf","value":"KeShiLuYanTi","thumb":""},{"label":"濑戶字體","href":"/fonts/LaiHuZiTi.ttf","postfix":"ttf","value":"LaiHuZiTi","thumb":""},{"label":"思源柔黑","href":"/fonts/SiYuanRouHei.ttf","postfix":"ttf","value":"SiYuanRouHei","thumb":""},{"label":"台北黑体","href":"/fonts/TaiBeiHeiTi.ttf","postfix":"ttf","value":"TaiBeiHeiTi","thumb":""},{"label":"源界明朝","href":"/fonts/YuanJieMingChao.ttf","postfix":"ttf","value":"YuanJieMingChao","thumb":""},{"label":"源云明体","href":"/fonts/YuanYunMingTi.ttf","postfix":"ttf","value":"YuanYunMingTi","thumb":""},{"label":"装甲明朝","href":"/fonts/ZhuangJiaMingChao.ttf","postfix":"ttf","value":"ZhuangJiaMingChao","thumb":""},{"label":"cwTeXQ仿宋","href":"/fonts/cwTeXQFangSong.ttf","postfix":"ttf","value":"cwTeXQFangSong","thumb":""},{"label":"cwTeXQ黑體","href":"/fonts/cwTeXQHeiTi.ttf","postfix":"ttf","value":"cwTeXQHeiTi","thumb":""},{"label":"cwTeXQ楷體","href":"/fonts/cwTeXQKaiTi.ttf","postfix":"ttf","value":"cwTeXQKaiTi","thumb":""},{"label":"cwTeXQ圓體","href":"/fonts/cwTeXQYuanTi.ttf","postfix":"ttf","value":"cwTeXQYuanTi","thumb":""},{"label":"宅在家粉條甜","href":"/fonts/zzjftt.ttf","postfix":"ttf","value":"zzjftt","thumb":""},{"label":"辰宇落雁體","href":"/fonts/ChenYuluoyan.ttf","postfix":"ttf","value":"ChenYuluoyan","thumb":""}]}')}}]);