"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[9428],{19428:function(e,t,i){i.r(t),i.d(t,{default:function(){return n}});var s=i(18023),l={name:"PropsSlider",props:{sliderNumber:{required:!0},max:{type:Number,default:100},min:{type:Number,default:0},sliderW:{type:Number,default:80},iptW:{type:Number,default:50},isShowIpt:{type:Boolean,default:!0},step:{type:Number,default:1},title:{type:String},tooltip:{type:String},isBold:{type:Boolean,default:!1},isFlexSlider:{type:Boolean,default:!0},isAddHistory:{type:Boolean,default:!0},isInputAddHistory:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},dataFnSearch:{type:String,default:"",desc:"功能查找用于辨识的自定义data"}},data(){return{textStyle:{},isShowSlider:!0,sliderStyle:{},initValue:0}},computed:{modelValue:{get(){return this.$props.sliderNumber},set(e){this.$emit("update:sliderNumber",e)}},sliderValue(){return""===this.modelValue?this.initValue:this.modelValue},appLanguage(){return this.$store.state.appLanguage}},watch:{appLanguage(e){this.textStyle={},this.isShowSlider=!0,this.$nextTick((()=>{this.isFlexSlider&&this.setStyle()}))}},mounted(){this.isFlexSlider&&this.setStyle(),this.sliderStyle=this.isFlexSlider?{}:{"max-width":"unset",flex:"auto",width:"115px"},document.addEventListener("mouseup",this.onMouseup)},beforeDestroy(){document.removeEventListener("mouseup",this.onMouseup)},methods:{onMousedown(e){e&&setTimeout((()=>{this.$refs.inputRef.focus()}),40),this.isAddHistory&&!e&&this.saveBeforePage(),this.$emit("mousedown")},onMouseup(){this.$emit("mouseup")},onSliderChange(e){this.isAddHistory&&this.addCanUndo(),this.modelValue=e,this.$emit("sliderChange",e)},saveBeforePage:function(){this.$store.commit(s.CjF)},addCanUndo:function(e){this.$store.commit(s.N23,{canUndo:!0})},onInputValueChange(e){this.$emit("input-value-change",e)},onInputChange(e){this.isInputAddHistory&&this.addCanUndo(),this.$emit("inputChange",e)},onSlideInput(e){""!==this.modelValue&&(this.modelValue=e,this.$emit("slideInput",e))},onFocus(){this.isInputAddHistory&&this.saveBeforePage(),this.initValue=this.$props.sliderNumber,this.$emit("focus")},onBlur(){""===this.modelValue&&0!==this.initValue&&(this.modelValue=this.initValue,this.initValue=0),this.$emit("blur")},onKeyup(){this.$emit("keyup")},setStyle(){const e=this.$refs.PropsSlider.$el.offsetWidth;this.$refs.TextRef.offsetWidth;let t=this.$refs.SliderRef.offsetWidth;if(t<60)this.textStyle={flex:1},this.isShowSlider=!1;else{t=t<116?t:116;const i=this.isShowIpt?20:10,s=this.isShowIpt?this.iptW:0;this.textStyle={width:e-t-i-s+1+"px"}}}}},o=(0,i(1001).Z)(l,(function(){var e=this,t=e._self._c;return t("el-row",{ref:"PropsSlider",staticClass:"PropsSlider",attrs:{type:"flex",align:"middle",justify:"center"}},[t("el-tooltip",{attrs:{placement:"top",enterable:!1,disabled:!e.tooltip,content:e.tooltip,"open-delay":800}},[t("div",{ref:"TextRef",staticClass:"text",class:{isBold:e.isBold},style:e.textStyle,attrs:{"data-fn-search":e.dataFnSearch}},[t("p",[e._v(e._s(e.title))])])]),e.isShowSlider?t("div",{ref:"SliderRef",staticClass:"slider_box",style:e.sliderStyle,on:{mousedown:function(t){return e.onMousedown(!1)}}},[t("el-slider",{attrs:{"data-v":"v2",min:e.min,max:e.max,step:e.step,value:Number(e.modelValue),disabled:e.disabled},on:{input:e.onSlideInput,change:e.onSliderChange}})],1):e._e(),e.isShowIpt?t("div",{staticClass:"input_box",style:{width:e.iptW+"px"},on:{mousedown:function(t){return e.onMousedown(!0)}}},[t("el-input",{directives:[{name:"smart-select",rawName:"v-smart-select"}],ref:"inputRef",staticClass:"numberInput props_el-input-h34",attrs:{step:e.step,type:"number",readonly:e.disabled},on:{focus:e.onFocus,blur:e.onBlur,input:e.onInputChange,change:e.onInputValueChange,keydown:function(e){e.stopPropagation()}},nativeOn:{keyup:function(t){return e.onKeyup.apply(null,arguments)}},model:{value:e.modelValue,callback:function(t){e.modelValue=t},expression:"modelValue"}})],1):e._e()],1)}),[],!1,null,"b244ace8",null),n=o.exports}}]);