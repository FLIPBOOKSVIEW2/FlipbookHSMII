"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[9087],{29087:function(e,t,i){i.r(t),i.d(t,{default:function(){return r}});var n={name:"InputNumber",props:{step:{type:Number,default:1},max:{type:Number,default:1/0},size:String,min:{type:Number,default:-1/0},value:{},controls:{type:Boolean,default:!0},placeholder:String,precision:{type:Number,validator(e){return e>=0&&e===parseInt(e,10)}}},data(){return{currentValue:0}},watch:{value:{immediate:!0,handler(e){let t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t}}},computed:{minDisabled(){return this._decrease(this.value,this.step)<this.min},maxDisabled(){return this._increase(this.value,this.step)>this.max},numPrecision(){const{value:e,step:t,getPrecision:i,precision:n}=this,s=i(t);return void 0!==n?n:Math.max(i(e),s)},displayValue(){let e=this.currentValue;return"number"==typeof e&&void 0!==this.precision&&(e=e.toFixed(this.precision)),e}},methods:{toPrecision(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision(e){if(void 0===e)return 0;const t=e.toString(),i=t.indexOf(".");let n=0;return-1!==i&&(n=t.length-i-1),n},_increase(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;const i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e+i*t)/i)},_decrease(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;const i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e-i*t)/i)},increase(){if(this.maxDisabled)return;const e=this.value||0,t=this._increase(e,this.step);this.setCurrentValue(t)},decrease(){if(this.minDisabled)return;const e=this.value||0,t=this._decrease(e,this.step);this.setCurrentValue(t)},setCurrentValue(e){const t=this.currentValue;"number"==typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t!==e&&(this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleBlur(e){this.$emit("blur",e)},handleFocus(e){e.target.select(),this.$emit("focus",e)},handleInputChange(e){const t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t)}},components:{}},s=(0,i(1001).Z)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-number-box",on:{dragstart:function(e){e.preventDefault()}}},[e.controls?t("span",{staticClass:"input-number_decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{click:e.decrease,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.decrease.apply(null,arguments)}}},[t("i",{staticClass:"el-icon-minus"})]):e._e(),e.controls?t("span",{staticClass:"input-number_increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{click:e.increase,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.increase.apply(null,arguments)}}},[t("i",{staticClass:"el-icon-plus"})]):e._e(),t("el-input",{directives:[{name:"smart-select",rawName:"v-smart-select"}],ref:"input",attrs:{value:e.displayValue,placeholder:e.placeholder,max:e.max,min:e.min,size:e.size},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInputChange,change:e.handleInputChange},nativeOn:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.increase.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.decrease.apply(null,arguments))}]}})],1)}),[],!1,null,"4f57ff0e",null),r=s.exports}}]);