"use strict";(self.webpackChunkeditor_cli=self.webpackChunkeditor_cli||[]).push([[7227,7945],{87945:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=s(11201),r=s(69361),o=s(18023),a={data(){return{}},props:{isShowBorderRadius:{type:Boolean,require:!0,desc:"是否应用圆角属性"},radiusTopLeft:{type:Number,require:!0,desc:"左上圆角"},radiusTopRight:{type:Number,require:!0,desc:"左上圆角"},radiusBottomLeft:{type:Number,require:!0,desc:"左上圆角"},radiusBottomRight:{type:Number,require:!0,desc:"左上圆角"},keepRatio:{type:Boolean,require:!0,desc:"修改其中一个圆角值时其他圆角是否保持相同值"}},computed:{_isShowBorderRadius:{get(){return this.isShowBorderRadius},set(t){this.$emit("radius-change","isShowBorderRadius",t)}},_radiusTopLeft:{get(){return this.radiusTopLeft},set(t){this.$emit("radius-change","radiusTopLeft",t)}},_radiusTopRight:{get(){return this.radiusTopRight},set(t){this.$emit("radius-change","radiusTopRight",t)}},_radiusBottomLeft:{get(){return this.radiusBottomLeft},set(t){this.$emit("radius-change","radiusBottomLeft",t)}},_radiusBottomRight:{get(){return this.radiusBottomRight},set(t){this.$emit("radius-change","radiusBottomRight",t)}},_keepRatio:{get(){return this.keepRatio},set(t){if(this.$emit("radius-change","keepRatio",t),t){const t=Math.max(this._radiusBottomLeft,this._radiusBottomRight,this._radiusTopLeft,this._radiusTopRight);this.$emit("radius-change","allRadius",t)}}},lockTitle:function(){return this._keepRatio?this.$i18n.t("PropsForBaseShape_vue.UnconstrainProportions"):this.$i18n.t("PropsForBaseShape_vue.ConstrainProportions")}},methods:{change(t){this.addCanUndo()},addCanUndo:function(){this.$store.commit(o.N23,{canUndo:!0})},saveBefore(){this.$store.commit(o.CjF)},lock(){this.saveBefore(),this._keepRatio=!this._keepRatio,this.addCanUndo()}},components:{PropGroup:i.default,PropsSwitch:r.default,BottomLeftRadiusIcon:()=>s.e(7437).then(s.bind(s,67437)),BottomRightRadiusIcon:()=>s.e(6974).then(s.bind(s,6974)),TopLeftRadiusIcon:()=>s.e(9340).then(s.bind(s,59340)),TopRightRadiusIcon:()=>s.e(6045).then(s.bind(s,56045)),LockIcon:()=>s.e(2759).then(s.bind(s,62759))}},u=(0,s(1001).Z)(a,(function(){var t=this,e=t._self._c;return e("el-row",{staticClass:"border_radius_box",attrs:{type:"flex"}},[e("PropsSwitch",{attrs:{title:t.$t("PropsPanle_new.ButtonRadius"),isBold:!0,value:t._isShowBorderRadius},on:{"update:value":function(e){t._isShowBorderRadius=e},change:t.addCanUndo}}),t._isShowBorderRadius?e("el-row",{staticClass:"radiusArea",attrs:{type:"flex"}},[e("el-row",{staticClass:"radiusPanel",attrs:{type:"flex",justify:"space-between"}},[e("el-row",{staticClass:"radiusBox",attrs:{type:"flex"}},[e("div",{staticClass:"radiusIcon"},[e("el-icon",[e("TopLeftRadiusIcon",{tag:"component"})],1)],1),e("input",{directives:[{name:"smart-select",rawName:"v-smart-select"},{name:"model",rawName:"v-model.number",value:t._radiusTopLeft,expression:"_radiusTopLeft",modifiers:{number:!0}}],staticClass:"radiusInput",attrs:{type:"number"},domProps:{value:t._radiusTopLeft},on:{focus:t.saveBefore,change:t.change,input:function(e){e.target.composing||(t._radiusTopLeft=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("el-row",{staticClass:"radiusBox",attrs:{type:"flex"}},[e("div",{staticClass:"radiusIcon"},[e("el-icon",[e("TopRightRadiusIcon",{tag:"component"})],1)],1),e("input",{directives:[{name:"smart-select",rawName:"v-smart-select"},{name:"model",rawName:"v-model.number",value:t._radiusTopRight,expression:"_radiusTopRight",modifiers:{number:!0}}],staticClass:"radiusInput",attrs:{type:"number"},domProps:{value:t._radiusTopRight},on:{focus:t.saveBefore,change:t.change,input:function(e){e.target.composing||(t._radiusTopRight=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("el-row",{staticClass:"radiusBox",attrs:{type:"flex"}},[e("div",{staticClass:"radiusIcon"},[e("el-icon",[e("BottomLeftRadiusIcon",{tag:"component"})],1)],1),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t._radiusBottomLeft,expression:"_radiusBottomLeft",modifiers:{number:!0}},{name:"smart-select",rawName:"v-smart-select"}],staticClass:"radiusInput",attrs:{type:"number"},domProps:{value:t._radiusBottomLeft},on:{focus:t.saveBefore,change:t.change,input:function(e){e.target.composing||(t._radiusBottomLeft=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("el-row",{staticClass:"radiusBox",attrs:{type:"flex"}},[e("div",{staticClass:"radiusIcon"},[e("el-icon",[e("BottomRightRadiusIcon",{tag:"component"})],1)],1),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t._radiusBottomRight,expression:"_radiusBottomRight",modifiers:{number:!0}},{name:"smart-select",rawName:"v-smart-select"}],staticClass:"radiusInput",attrs:{type:"number"},domProps:{value:t._radiusBottomRight},on:{focus:t.saveBefore,change:t.change,input:function(e){e.target.composing||(t._radiusBottomRight=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])],1),e("el-tooltip",{attrs:{content:t.lockTitle,placement:"top","open-delay":800}},[e("div",{staticClass:"radius-lock"},[e("span",{staticClass:"icon-lock",class:{unLocked:!t._keepRatio,locked:t._keepRatio},on:{click:t.lock}},[e("el-icon",[e("LockIcon",{tag:"component"})],1)],1)])])],1):t._e()],1)}),[],!1,null,"44135896",null).exports},97227:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});s(89951);var i=s(11201),r=(s(69361),s(18023)),o=s(87945);var a={data(){return{}},props:{radiusType:{type:String,require:!0}},computed:{isMulti:function(){return this.$store.getters.isMulti},multiItemsList:function(){return this.$store.getters.multiList},multiAllTypeList:function(){return this.$store.getters.multiAllTypeList},multiSettingCount(){return this.$store.getters.multiSettingCount},currentPageItems:function(){return this.$store.getters.currentPageItems},currentSelectedItem:function(){return this.$store.getters.currentSelectedItem},currentSelectedItemIndex:function(){return this.$store.state.workSpace.currentSelectedItemIndex},currentSelectedGroupItemIndex:function(){return this.$store.state.workSpace.currentSelectedGroupItemIndex},isShowBorderRadius:{get(){if(this.isMulti){const t=this.multiItemsList.find((t=>t.showBorderRadius));return!!t&&t.showBorderRadius}return this.currentSelectedItem.showBorderRadius},set(t){this.updateRaduis("showBorderRadius",t)}},radiusTopLeft:{get(){const t=this.changeRaduisType("topLeft");if(this.isMulti){const e=this.multiItemsList.find((t=>t.showBorderRadius));return e?e.borderRadius[t]:20}return this.currentSelectedItem.borderRadius[t]},set(t){this.updateRaduis("topLeft",t)}},radiusTopRight:{get(){const t=this.changeRaduisType("topRight");if(this.isMulti){const e=this.multiItemsList.find((t=>t.showBorderRadius));return e?e.borderRadius[t]:20}return this.currentSelectedItem.borderRadius[t]},set(t){this.updateRaduis("topRight",t)}},radiusBottomLeft:{get(){const t=this.changeRaduisType("bottomLeft");if(this.isMulti){const e=this.multiItemsList.find((t=>t.showBorderRadius));return e?e.borderRadius[t]:20}return this.currentSelectedItem.borderRadius[t]},set(t){this.updateRaduis("bottomLeft",t)}},radiusBottomRight:{get(){const t=this.changeRaduisType("bottomRight");if(this.isMulti){const e=this.multiItemsList.find((t=>t.showBorderRadius));return e?e.borderRadius[t]:20}return this.currentSelectedItem.borderRadius[t]},set(t){this.updateRaduis("bottomRight",t)}},isLock(){if(this.isMulti){const t=this.multiItemsList.find((t=>t.showBorderRadius));return!t||t.keepRatio}return this.currentSelectedItem.keepRatio},lockTitle:function(){return this.isLock?this.$i18n.t("PropsForBaseShape_vue.text14"):this.$i18n.t("PropsForBaseShape_vue.text15")}},methods:{radiusDataChange(t,e){switch(t){case"isShowBorderRadius":this.isShowBorderRadius=e;break;case"radiusBottomLeft":case"allRadius":this.radiusBottomLeft=e;break;case"radiusBottomRight":this.radiusBottomRight=e;break;case"radiusTopLeft":this.radiusTopLeft=e;break;case"radiusTopRight":this.radiusTopRight=e;break;case"keepRatio":this.lock(e)}},addCanUndo:function(){this.$store.commit(r.N23,{canUndo:!0})},saveBefore(){this.$store.commit(r.CjF)},lock(t){this.updateRaduis("lock",t),this.addCanUndo()},updateAllRadius(t,e){t.borderRadius.topLeft=e,t.borderRadius.topRight=e,t.borderRadius.bottomLeft=e,t.borderRadius.bottomRight=e},applyRadius(t,e,s){if(s.type===this.radiusType){let i=!1;switch(s.type){case"image":{const{isGifImage:t,isApng:e,isSprite:r,isBGI:o}=s;i=!(t||e||r||o);break}case"baseShape":i="rect"===s.baseShapeType;break;case"htmlDom":i=!0}if(t=this.changeRaduisType(t),i)switch(t){case"showBorderRadius":s.showBorderRadius=e;break;case"topLeft":this.isLock?this.updateAllRadius(s,e):s.borderRadius.topLeft=e;break;case"topRight":this.isLock?this.updateAllRadius(s,e):s.borderRadius.topRight=e;break;case"bottomLeft":this.isLock?this.updateAllRadius(s,e):s.borderRadius.bottomLeft=e;break;case"bottomRight":this.isLock?this.updateAllRadius(s,e):s.borderRadius.bottomRight=e;break;case"lock":s.keepRatio=e}}},updateRaduis(t,e){this.isMulti?this.multiSettingCount.forEach((s=>{const i=this.currentPageItems[s];this.applyRadius(t,e,i)})):this.applyRadius(t,e,this.currentSelectedItem)},changeRaduisType(t){if(!["topLeft","topRight","bottomLeft","bottomRight"].includes(t))return t;const e=this.isMulti?this.multiItemsList[0]:this.currentSelectedItem,s=180===e.rotateY,i=180===e.rotateX;return s&&(t=t.replace(/Left/g,"temp").replace(/Right/g,"Left").replace(/temp/g,"Right")),i&&(t=t.replace(/top/g,"temp").replace(/bottom/g,"top").replace(/temp/g,"bottom")),t}},components:{PropGroup:i.default,BorderRadius:o.default}},u=(0,s(1001).Z)(a,(function(){var t=this,e=t._self._c;return e("PropGroup",[e("BorderRadius",{attrs:{"is-show-border-radius":t.isShowBorderRadius,"radius-top-left":t.radiusTopLeft,"radius-top-right":t.radiusTopRight,"radius-bottom-left":t.radiusBottomLeft,"radius-bottom-right":t.radiusBottomRight,"keep-ratio":t.isLock},on:{"radius-change":t.radiusDataChange}})],1)}),[],!1,null,"3a0ba6ab",null).exports}}]);